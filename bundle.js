(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.writelike=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var _=require("lodash");var natural=require("natural");var cachedFreqs={};function author(corpusString,maxWordCount,cacheId){var nGramSize=2;var freqs;if(!cacheId||!(cacheId in cachedFreqs)){freqs=getFreqs(corpusString,nGramSize);if(cacheId){cachedFreqs[cacheId]=freqs}}else{freqs=cachedFreqs[cacheId]}var text=createRandomText(freqs,maxWordCount);return text}function getFreqs(s,nGramSize){var nGrams=natural.NGrams.ngrams(s,nGramSize);var freqs={};if(nGrams){_.forEach(nGrams,function(ng){var key=JSON.stringify(ng.slice(0,-1));var value=ng[ng.length-1];if(key in freqs){var start=freqs[key];if(value in start){freqs[key][value]+=1}else{freqs[key][value]=1}}else{freqs[key]={};freqs[key][value]=1}})}return freqs}function createRandomText(freqs,wordCount){var text="";var nGram=JSON.parse(_.sample(_.keys(freqs)));var word=nGram.join(" ");text+=word+" ";for(var i=0;i<wordCount-1;i++){word=getRandomWord(nGram,freqs);text+=word+" ";nGram.pop();nGram.push(word)}return text}function getRandomWord(nGram,freqs){var key=JSON.stringify(nGram);var values=_.keys(freqs[key]);var word="";if(values.length>0){var totalFreq=_.reduce(values,function(tf,value){tf+=freqs[key][value];return tf},0);if(totalFreq>0){var p=_.random(1,totalFreq);var foundValue=false;var i=-1;while(p>0&&i<values.length-1){i++;p-=freqs[key][values[i]]}word=values[i];return word}}var randomNGramKey=_.sample(_.keys(freqs));word=_.sample(_.keys(freqs[randomNGramKey]));return word}module.exports={author:author,getRandomWord:getRandomWord,getFreqs:getFreqs,createRandomText:createRandomText}},{lodash:7,natural:26}],2:[function(require,module,exports){var util=require("util"),Classifier=require("./classifier");var BayesClassifier=function(smoothing){Classifier.call(this);this.classFeatures={};this.classTotals={};this.totalExamples=1;this.smoothing=smoothing===undefined?1:smoothing};util.inherits(BayesClassifier,Classifier);function addExample(observation,label){if(!this.classFeatures[label]){this.classFeatures[label]={};this.classTotals[label]=1}if(observation instanceof Array){var i=observation.length;this.totalExamples++;this.classTotals[label]++;while(i--){if(observation[i]){if(this.classFeatures[label][i]){this.classFeatures[label][i]++}else{this.classFeatures[label][i]=1+this.smoothing}}}}else{for(var key in observation){value=observation[key];if(this.classFeatures[label][value]){this.classFeatures[label][value]++}else{this.classFeatures[label][value]=1+this.smoothing}}}}function train(){}function probabilityOfClass(observation,label){var prob=0;if(observation instanceof Array){var i=observation.length;while(i--){if(observation[i]){var count=this.classFeatures[label][i]||this.smoothing;prob+=Math.log(count/this.classTotals[label])}}}else{for(var key in observation){var count=this.classFeatures[label][observation[key]]||this.smoothing;prob+=Math.log(count/this.classTotals[label])}}prob=this.classTotals[label]/this.totalExamples*Math.exp(prob);return prob}function getClassifications(observation){var classifier=this;var labels=[];for(var className in this.classFeatures){labels.push({label:className,value:classifier.probabilityOfClass(observation,className)})}return labels.sort(function(x,y){return y.value-x.value})}function restore(classifier){classifier=Classifier.restore(classifier);classifier.__proto__=BayesClassifier.prototype;return classifier}BayesClassifier.prototype.addExample=addExample;BayesClassifier.prototype.train=train;BayesClassifier.prototype.getClassifications=getClassifications;BayesClassifier.prototype.probabilityOfClass=probabilityOfClass;BayesClassifier.restore=restore;module.exports=BayesClassifier},{"./classifier":3,util:125}],3:[function(require,module,exports){function Classifier(){}function restore(classifier){classifier=typeof classifier=="string"?JSON.parse(classifier):classifier;return classifier}function addExample(observation,classification){throw"Not implemented"}function classify(observation){var classifications=this.getClassifications(observation);if(!classifications||classifications.length===0){throw"Not Trained"}return this.getClassifications(observation)[0].label}function train(){throw"Not implemented"}Classifier.prototype.addExample=addExample;Classifier.prototype.train=train;Classifier.prototype.classify=classify;Classifier.restore=restore;module.exports=Classifier},{}],4:[function(require,module,exports){var util=require("util"),Classifier=require("./classifier");var sylvester=require("sylvester"),Matrix=sylvester.Matrix,Vector=sylvester.Vector;function sigmoid(z){return 1/(1+Math.exp(0-z))}function hypothesis(theta,Observations){return Observations.x(theta).map(sigmoid)}function cost(theta,Examples,classifications){var hypothesisResult=hypothesis(theta,Examples);var ones=Vector.One(Examples.rows());var cost_1=Vector.Zero(Examples.rows()).subtract(classifications).elementMultiply(hypothesisResult.log());var cost_0=ones.subtract(classifications).elementMultiply(ones.subtract(hypothesisResult).log());return 1/Examples.rows()*cost_1.subtract(cost_0).sum()}function descendGradient(theta,Examples,classifications){var maxIt=500*Examples.rows();var last;var current;var learningRate=3;var learningRateFound=false;Examples=Matrix.One(Examples.rows(),1).augment(Examples);theta=theta.augment([0]);while(!learningRateFound){var i=0;last=null;while(true){var hypothesisResult=hypothesis(theta,Examples);theta=theta.subtract(Examples.transpose().x(hypothesisResult.subtract(classifications)).x(1/Examples.rows()).x(learningRate));current=cost(theta,Examples,classifications);i++;if(last){if(current<last)learningRateFound=true;else break;if(last-current<1e-4)break}if(i>=maxIt){throw"unable to find minimum"}last=current}learningRate/=3}return theta.chomp(1)}var LogisticRegressionClassifier=function(){Classifier.call(this);this.examples={};this.features=[];this.featurePositions={};this.maxFeaturePosition=0;this.classifications=[];this.exampleCount=0};util.inherits(LogisticRegressionClassifier,Classifier);function createClassifications(){var classifications=[];for(var i=0;i<this.exampleCount;i++){var classification=[];for(var _ in this.examples){classification.push(0)}classifications.push(classification)}return classifications}function computeThetas(Examples,Classifications){this.theta=[];var zero=function(){return 0};for(var i=1;i<=this.classifications.length;i++){var theta=Examples.row(1).map(zero);this.theta.push(descendGradient(theta,Examples,Classifications.column(i)))}}function train(){var examples=[];var classifications=this.createClassifications();var d=0,c=0;for(var classification in this.examples){for(var i=0;i<this.examples[classification].length;i++){var doc=this.examples[classification][i];var example=doc;examples.push(example);classifications[d][c]=1;d++}c++}this.computeThetas($M(examples),$M(classifications))}function addExample(data,classification){if(!this.examples[classification]){this.examples[classification]=[];this.classifications.push(classification)}this.examples[classification].push(data);this.exampleCount++}function getClassifications(observation){observation=$V(observation);var classifications=[];for(var i=0;i<this.theta.length;i++){classifications.push({label:this.classifications[i],value:sigmoid(observation.dot(this.theta[i]))})}return classifications.sort(function(x,y){return y.value-x.value})}function restore(classifier){classifier=Classifier.restore(classifier);classifier.__proto__=LogisticRegressionClassifier.prototype;return classifier}LogisticRegressionClassifier.prototype.addExample=addExample;LogisticRegressionClassifier.prototype.restore=restore;LogisticRegressionClassifier.prototype.train=train;LogisticRegressionClassifier.prototype.createClassifications=createClassifications;LogisticRegressionClassifier.prototype.computeThetas=computeThetas;LogisticRegressionClassifier.prototype.getClassifications=getClassifications;LogisticRegressionClassifier.restore=restore;module.exports=LogisticRegressionClassifier},{"./classifier":3,sylvester:106,util:125}],5:[function(require,module,exports){var Sylvester=require("sylvester"),Matrix=Sylvester.Matrix,Vector=Sylvester.Vector;function KMeans(Observations){if(!Observations.elements)Observations=$M(Observations);this.Observations=Observations}function createCentroids(k){var Centroid=[];var maxes=this.Observations.maxColumns();for(var i=1;i<=k;i++){var centroid=[];for(var j=1;j<=this.Observations.cols();j++){centroid.push(Math.random()*maxes.e(j))}Centroid.push(centroid)}return $M(Centroid)}function distanceFrom(Centroids){var distances=[];for(var i=1;i<=this.Observations.rows();i++){var distance=[];for(var j=1;j<=Centroids.rows();j++){distance.push(this.Observations.row(i).distanceFrom(Centroids.row(j)))}distances.push(distance)}return $M(distances)}function cluster(k){var Centroids=this.createCentroids(k);var LastDistances=Matrix.Zero(this.Observations.rows(),this.Observations.cols());var Distances=this.distanceFrom(Centroids);var Groups;while(!LastDistances.eql(Distances)){Groups=Distances.minColumnIndexes();LastDistances=Distances;var newCentroids=[];for(var i=1;i<=Centroids.rows();i++){var centroid=[];for(var j=1;j<=Centroids.cols();j++){var sum=0;var count=0;for(var l=1;l<=this.Observations.rows();l++){if(Groups.e(l)==i){count++;sum+=this.Observations.e(l,j)}}centroid.push(sum/count)}newCentroids.push(centroid)}Centroids=$M(newCentroids);Distances=this.distanceFrom(Centroids)}return Groups}KMeans.prototype.createCentroids=createCentroids;KMeans.prototype.distanceFrom=distanceFrom;KMeans.prototype.cluster=cluster;module.exports=KMeans},{sylvester:106}],6:[function(require,module,exports){exports.BayesClassifier=require("./classifier/bayes_classifier");exports.LogisticRegressionClassifier=require("./classifier/logistic_regression_classifier");exports.KMeans=require("./clusterer/kmeans")},{"./classifier/bayes_classifier":2,"./classifier/logistic_regression_classifier":4,"./clusterer/kmeans":5}],7:[function(require,module,exports){(function(global){(function(){var undefined;var VERSION="4.11.1";var LARGE_ARRAY_SIZE=200;var FUNC_ERROR_TEXT="Expected a function";var HASH_UNDEFINED="__lodash_hash_undefined__";var PLACEHOLDER="__lodash_placeholder__";var BIND_FLAG=1,BIND_KEY_FLAG=2,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,CURRY_RIGHT_FLAG=16,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,ARY_FLAG=128,REARG_FLAG=256,FLIP_FLAG=512;var UNORDERED_COMPARE_FLAG=1,PARTIAL_COMPARE_FLAG=2;var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...";var HOT_COUNT=150,HOT_SPAN=16;var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3;var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e308,NAN=0/0;var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",promiseTag="[object Promise]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEscapedHtml=/&(?:amp|lt|gt|quot|#39|#96);/g,reUnescapedHtml=/[&<>"'`]/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source);var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g;var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source);var reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/;var reBasicWord=/[a-zA-Z0-9]+/g;var reEscapeChar=/\\(\\)?/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reHasHexPrefix=/^0x/i;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsOctal=/^0o[0-7]+$/i;var reIsUint=/^(?:0|[1-9]\d*)$/;var reLatin1=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g;var reNoMatch=/($^)/;var reUnescapedString=/['\n\r\u2028\u2029\\]/g;var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f\\ufe20-\\ufe23",rsComboSymbolsRange="\\u20d0-\\u20f0",rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsQuoteRange="\\u2018\\u2019\\u201c\\u201d",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsQuoteRange+rsSpaceRange;var rsApos="['’]",rsAstral="["+rsAstralRange+"]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboMarksRange+rsComboSymbolsRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d";var rsLowerMisc="(?:"+rsLower+"|"+rsMisc+")",rsUpperMisc="(?:"+rsUpper+"|"+rsMisc+")",rsOptLowerContr="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptUpperContr="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")";var reApos=RegExp(rsApos,"g");var reComboMark=RegExp(rsCombo,"g");var reComplexSymbol=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");var reComplexWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptLowerContr+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsUpperMisc+"+"+rsOptUpperContr+"(?="+[rsBreak,rsUpper+rsLowerMisc,"$"].join("|")+")",rsUpper+"?"+rsLowerMisc+"+"+rsOptLowerContr,rsUpper+"+"+rsOptUpperContr,rsDigits,rsEmoji].join("|"),"g");var reHasComplexSymbol=RegExp("["+rsZWJ+rsAstralRange+rsComboMarksRange+rsComboSymbolsRange+rsVarRange+"]");var reHasComplexWord=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"];var templateCounter=-1;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;var deburredLetters={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"};var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"};var htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"};var objectTypes={"function":true,object:true};var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var freeParseFloat=parseFloat,freeParseInt=parseInt;var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType?exports:undefined;var freeModule=objectTypes[typeof module]&&module&&!module.nodeType?module:undefined;var moduleExports=freeModule&&freeModule.exports===freeExports?freeExports:undefined;var freeGlobal=checkGlobal(freeExports&&freeModule&&typeof global=="object"&&global);var freeSelf=checkGlobal(objectTypes[typeof self]&&self);var freeWindow=checkGlobal(objectTypes[typeof window]&&window);var thisGlobal=checkGlobal(objectTypes[typeof this]&&this);var root=freeGlobal||freeWindow!==(thisGlobal&&thisGlobal.window)&&freeWindow||freeSelf||thisGlobal||Function("return this")();function addMapEntry(map,pair){map.set(pair[0],pair[1]);return map}function addSetEntry(set,value){set.add(value);return set}function apply(func,thisArg,args){var length=args.length;switch(length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){var index=-1,length=array.length;while(++index<length){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayConcat(array,other){var index=-1,length=array.length,othIndex=-1,othLength=other.length,result=Array(length+othLength);while(++index<length){result[index]=array[index]}while(++othIndex<othLength){result[index++]=other[othIndex]}return result}function arrayEach(array,iteratee){var index=-1,length=array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}function arrayEachRight(array,iteratee){var length=array.length;while(length--){if(iteratee(array[length],length,array)===false){break}}return array}function arrayEvery(array,predicate){var index=-1,length=array.length;while(++index<length){if(!predicate(array[index],index,array)){return false}}return true}function arrayFilter(array,predicate){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value}}return result}function arrayIncludes(array,value){return!!array.length&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){var index=-1,length=array.length;while(++index<length){if(comparator(value,array[index])){return true}}return false}function arrayMap(array,iteratee){var index=-1,length=array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array.length;if(initAccum&&length){accumulator=array[++index]}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array)}return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=array.length;if(initAccum&&length){accumulator=array[--length]}while(length--){accumulator=iteratee(accumulator,array[length],length,array)}return accumulator}function arraySome(array,predicate){var index=-1,length=array.length;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}function baseExtremum(array,iteratee,comparator){var index=-1,length=array.length;while(++index<length){var value=array[index],current=iteratee(value);if(current!=null&&(computed===undefined?current===current:comparator(current,computed))){var computed=current,result=value}}return result}function baseFind(collection,predicate,eachFunc,retKey){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=retKey?key:value;return false}});return result}function baseFindIndex(array,predicate,fromRight){var length=array.length,index=fromRight?length:-1;while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index}}return-1}function baseIndexOf(array,value,fromIndex){if(value!==value){return indexOfNaN(array,fromIndex)}var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}function baseIndexOfWith(array,value,fromIndex,comparator){var index=fromIndex-1,length=array.length;while(++index<length){if(comparator(array[index],value)){return index}}return-1}function baseMean(array,iteratee){var length=array?array.length:0;return length?baseSum(array,iteratee)/length:NAN}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=false,value):iteratee(accumulator,value,index,collection)});return accumulator}function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value}return array}function baseSum(array,iteratee){var result,index=-1,length=array.length;while(++index<length){var current=iteratee(array[index]);if(current!==undefined){result=result===undefined?current:result+current}}return result}function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;while(++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function checkGlobal(value){return value&&value.Object===Object?value:null}function compareAscending(value,other){if(value!==other){var valIsNull=value===null,valIsUndef=value===undefined,valIsReflexive=value===value;var othIsNull=other===null,othIsUndef=other===undefined,othIsReflexive=other===other;if(value>other&&!othIsNull||!valIsReflexive||valIsNull&&!othIsUndef&&othIsReflexive||valIsUndef&&othIsReflexive){return 1}if(value<other&&!valIsNull||!othIsReflexive||othIsNull&&!valIsUndef&&valIsReflexive||othIsUndef&&valIsReflexive){return-1}}return 0}function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result}var order=orders[index];return result*(order=="desc"?-1:1)}}return object.index-other.index}function countHolders(array,placeholder){var length=array.length,result=0;while(length--){if(array[length]===placeholder){result++}}return result}function createMathOperation(operator){return function(value,other){var result;if(value===undefined&&other===undefined){return 0}if(value!==undefined){result=value}if(other!==undefined){result=result===undefined?other:operator(result,other)}return result}}function deburrLetter(letter){return deburredLetters[letter]}function escapeHtmlChar(chr){return htmlEscapes[chr]}function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function indexOfNaN(array,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?0:-1);while(fromRight?index--:++index<length){var other=array[index];if(other!==other){return index}}return-1}function isHostObject(value){var result=false;if(value!=null&&typeof value.toString!="function"){try{result=!!(value+"")}catch(e){}}return result}function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}function iteratorToArray(iterator){var data,result=[];while(!(data=iterator.next()).done){result.push(data.value)}return result}function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value]});return result}function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value===placeholder||value===PLACEHOLDER){array[index]=PLACEHOLDER;result[resIndex++]=index}}return result}function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value});return result}function stringSize(string){if(!(string&&reHasComplexSymbol.test(string))){return string.length}var result=reComplexSymbol.lastIndex=0;while(reComplexSymbol.test(string)){result++}return result}function stringToArray(string){return string.match(reComplexSymbol)}function unescapeHtmlChar(chr){return htmlUnescapes[chr]}function runInContext(context){context=context?_.defaults({},context,_.pick(root,contextProps)):root;var Date=context.Date,Error=context.Error,Math=context.Math,RegExp=context.RegExp,TypeError=context.TypeError;var arrayProto=context.Array.prototype,objectProto=context.Object.prototype,stringProto=context.String.prototype;var funcToString=context.Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var idCounter=0;var objectCtorString=funcToString.call(Object);var objectToString=objectProto.toString;var oldDash=root._;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Buffer=moduleExports?context.Buffer:undefined,Reflect=context.Reflect,Symbol=context.Symbol,Uint8Array=context.Uint8Array,clearTimeout=context.clearTimeout,enumerate=Reflect?Reflect.enumerate:undefined,getOwnPropertySymbols=Object.getOwnPropertySymbols,iteratorSymbol=typeof(iteratorSymbol=Symbol&&Symbol.iterator)=="symbol"?iteratorSymbol:undefined,objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,setTimeout=context.setTimeout,splice=arrayProto.splice;var nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetPrototype=Object.getPrototypeOf,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=Object.keys,nativeMax=Math.max,nativeMin=Math.min,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReplace=stringProto.replace,nativeReverse=arrayProto.reverse,nativeSplit=stringProto.split;var DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create");var metaMap=WeakMap&&new WeakMap;var nonEnumShadows=!propertyIsEnumerable.call({valueOf:1},"valueOf");var realNames={};var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper){return value}if(hasOwnProperty.call(value,"__wrapped__")){return wrapperClone(value)}}return new LodashWrapper(value)}function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value;this.__actions__=[];this.__chain__=!!chainAll;this.__index__=0;this.__values__=undefined}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=MAX_ARRAY_LENGTH;this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=copyArray(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=copyArray(this.__iteratees__);result.__takeCount__=this.__takeCount__;result.__views__=copyArray(this.__views__);return result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true}else{result=this.clone();result.__dir__*=-1}return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||arrLength<LARGE_ARRAY_SIZE||arrLength==length&&takeCount==length){return baseWrapperValue(array,this.__actions__)}var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG){value=computed}else if(!computed){if(type==LAZY_FILTER_FLAG){continue outer}else{break outer}}}result[resIndex++]=value;
}return result}LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;function Hash(){}function hashDelete(hash,key){return hashHas(hash,key)&&delete hash[key]}function hashGet(hash,key){if(nativeCreate){var result=hash[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(hash,key)?hash[key]:undefined}function hashHas(hash,key){return nativeCreate?hash[key]!==undefined:hasOwnProperty.call(hash,key)}function hashSet(hash,key,value){hash[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value}Hash.prototype=nativeCreate?nativeCreate(null):objectProto;function MapCache(values){var index=-1,length=values?values.length:0;this.clear();while(++index<length){var entry=values[index];this.set(entry[0],entry[1])}}function mapClear(){this.__data__={hash:new Hash,map:Map?new Map:[],string:new Hash}}function mapDelete(key){var data=this.__data__;if(isKeyable(key)){return hashDelete(typeof key=="string"?data.string:data.hash,key)}return Map?data.map["delete"](key):assocDelete(data.map,key)}function mapGet(key){var data=this.__data__;if(isKeyable(key)){return hashGet(typeof key=="string"?data.string:data.hash,key)}return Map?data.map.get(key):assocGet(data.map,key)}function mapHas(key){var data=this.__data__;if(isKeyable(key)){return hashHas(typeof key=="string"?data.string:data.hash,key)}return Map?data.map.has(key):assocHas(data.map,key)}function mapSet(key,value){var data=this.__data__;if(isKeyable(key)){hashSet(typeof key=="string"?data.string:data.hash,key,value)}else if(Map){data.map.set(key,value)}else{assocSet(data.map,key,value)}return this}MapCache.prototype.clear=mapClear;MapCache.prototype["delete"]=mapDelete;MapCache.prototype.get=mapGet;MapCache.prototype.has=mapHas;MapCache.prototype.set=mapSet;function SetCache(values){var index=-1,length=values?values.length:0;this.__data__=new MapCache;while(++index<length){this.push(values[index])}}function cacheHas(cache,value){var map=cache.__data__;if(isKeyable(value)){var data=map.__data__,hash=typeof value=="string"?data.string:data.hash;return hash[value]===HASH_UNDEFINED}return map.has(value)}function cachePush(value){var map=this.__data__;if(isKeyable(value)){var data=map.__data__,hash=typeof value=="string"?data.string:data.hash;hash[value]=HASH_UNDEFINED}else{map.set(value,HASH_UNDEFINED)}}SetCache.prototype.push=cachePush;function Stack(values){var index=-1,length=values?values.length:0;this.clear();while(++index<length){var entry=values[index];this.set(entry[0],entry[1])}}function stackClear(){this.__data__={array:[],map:null}}function stackDelete(key){var data=this.__data__,array=data.array;return array?assocDelete(array,key):data.map["delete"](key)}function stackGet(key){var data=this.__data__,array=data.array;return array?assocGet(array,key):data.map.get(key)}function stackHas(key){var data=this.__data__,array=data.array;return array?assocHas(array,key):data.map.has(key)}function stackSet(key,value){var data=this.__data__,array=data.array;if(array){if(array.length<LARGE_ARRAY_SIZE-1){assocSet(array,key,value)}else{data.array=null;data.map=new MapCache(array)}}var map=data.map;if(map){map.set(key,value)}return this}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function assocDelete(array,key){var index=assocIndexOf(array,key);if(index<0){return false}var lastIndex=array.length-1;if(index==lastIndex){array.pop()}else{splice.call(array,index,1)}return true}function assocGet(array,key){var index=assocIndexOf(array,key);return index<0?undefined:array[index][1]}function assocHas(array,key){return assocIndexOf(array,key)>-1}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}function assocSet(array,key,value){var index=assocIndexOf(array,key);if(index<0){array.push([key,value])}else{array[index][1]=value}}function assignInDefaults(objValue,srcValue,key,object){if(objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)){return srcValue}return objValue}function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||typeof key=="number"&&value===undefined&&!(key in object)){object[key]=value}}function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){object[key]=value}}function baseAggregator(collection,setter,iteratee,accumulator){baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)});return accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAt(object,paths){var index=-1,isNil=object==null,length=paths.length,result=Array(length);while(++index<length){result[index]=isNil?undefined:get(object,paths[index])}return result}function baseClamp(number,lower,upper){if(number===number){if(upper!==undefined){number=number<=upper?number:upper}if(lower!==undefined){number=number>=lower?number:lower}}return number}function baseClone(value,isDeep,isFull,customizer,key,object,stack){var result;if(customizer){result=object?customizer(value,key,object,stack):customizer(value)}if(result!==undefined){return result}if(!isObject(value)){return value}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result)}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep)}if(tag==objectTag||tag==argsTag||isFunc&&!object){if(isHostObject(value)){return object?value:{}}result=initCloneObject(isFunc?{}:value);if(!isDeep){return copySymbols(value,baseAssign(result,value))}}else{if(!cloneableTags[tag]){return object?value:{}}result=initCloneByTag(value,tag,baseClone,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked){return stacked}stack.set(value,result);if(!isArr){var props=isFull?getAllKeys(value):keys(value)}arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key]}assignValue(result,key,baseClone(subValue,isDeep,isFull,customizer,key,value,stack))});return result}function baseConforms(source){var props=keys(source),length=props.length;return function(object){if(object==null){return!length}var index=length;while(index--){var key=props[index],predicate=source[key],value=object[key];if(value===undefined&&!(key in Object(object))||!predicate(value)){return false}}return true}}function baseCreate(proto){return isObject(proto)?objectCreate(proto):{}}function baseDelay(func,wait,args){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=true,length=array.length,result=[],valuesLength=values.length;if(!length){return result}if(iteratee){values=arrayMap(values,baseUnary(iteratee))}if(comparator){includes=arrayIncludesWith;isCommon=false}else if(values.length>=LARGE_ARRAY_SIZE){includes=cacheHas;isCommon=false;values=new SetCache(values)}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;if(isCommon&&computed===computed){var valuesIndex=valuesLength;while(valuesIndex--){if(values[valuesIndex]===computed){continue outer}}result.push(value)}else if(!includes(values,computed,comparator)){result.push(value)}}return result}var baseEach=createBaseEach(baseForOwn);var baseEachRight=createBaseEach(baseForOwnRight,true);function baseEvery(collection,predicate){var result=true;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result});return result}function baseFill(array,value,start,end){var length=array.length;start=toInteger(start);if(start<0){start=-start>length?0:length+start}end=end===undefined||end>length?length:toInteger(end);if(end<0){end+=length}end=start>end?0:toLength(end);while(start<end){array[start++]=value}return array}function baseFilter(collection,predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection)){result.push(value)}});return result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(depth>0&&predicate(value)){if(depth>1){baseFlatten(value,depth-1,predicate,isStrict,result)}else{arrayPush(result,value)}}else if(!isStrict){result[result.length]=value}}return result}var baseFor=createBaseFor();var baseForRight=createBaseFor(true);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){path=isKey(path,object)?[path]:castPath(path);var index=0,length=path.length;while(object!=null&&index<length){object=object[path[index++]]}return index&&index==length?object:undefined}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseHas(object,key){return hasOwnProperty.call(object,key)||typeof object=="object"&&key in object&&getPrototype(object)===null}function baseHasIn(object,key){return key in Object(object)}function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}function baseIntersection(arrays,iteratee,comparator){var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=Infinity,result=[];while(othIndex--){var array=arrays[othIndex];if(othIndex&&iteratee){array=arrayMap(array,baseUnary(iteratee))}maxLength=nativeMin(array.length,maxLength);caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:while(++index<length&&result.length<maxLength){var value=array[index],computed=iteratee?iteratee(value):value;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){othIndex=othLength;while(--othIndex){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator))){continue outer}}if(seen){seen.push(computed)}result.push(value)}}return result}function baseInverter(object,setter,iteratee,accumulator){baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)});return accumulator}function baseInvoke(object,path,args){if(!isKey(path,object)){path=castPath(path);object=parent(object,path);path=last(path)}var func=object==null?object:object[path];return func==null?undefined:apply(func,object,args)}function baseIsEqual(value,other,customizer,bitmask,stack){if(value===other){return true}if(value==null||other==null||!isObject(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,baseIsEqual,customizer,bitmask,stack)}function baseIsEqualDeep(object,other,equalFunc,customizer,bitmask,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;if(!objIsArr){objTag=getTag(object);objTag=objTag==argsTag?objectTag:objTag}if(!othIsArr){othTag=getTag(other);othTag=othTag==argsTag?objectTag:othTag}var objIsObj=objTag==objectTag&&!isHostObject(object),othIsObj=othTag==objectTag&&!isHostObject(other),isSameTag=objTag==othTag;if(isSameTag&&!objIsObj){stack||(stack=new Stack);return objIsArr||isTypedArray(object)?equalArrays(object,other,equalFunc,customizer,bitmask,stack):equalByTag(object,other,objTag,equalFunc,customizer,bitmask,stack)}if(!(bitmask&PARTIAL_COMPARE_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;stack||(stack=new Stack);return equalFunc(objUnwrapped,othUnwrapped,customizer,bitmask,stack)}}if(!isSameTag){return false}stack||(stack=new Stack);return equalObjects(object,other,equalFunc,customizer,bitmask,stack)}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length}object=Object(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false}}else{var stack=new Stack;if(customizer){var result=customizer(objValue,srcValue,key,object,source,stack)}if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG,stack):result)){return false}}}return true}function baseIteratee(value){if(typeof value=="function"){return value}if(value==null){return identity}if(typeof value=="object"){return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value)}return property(value)}function baseKeys(object){return nativeKeys(Object(object))}function baseKeysIn(object){object=object==null?object:Object(object);var result=[];for(var key in object){result.push(key)}return result}if(enumerate&&!propertyIsEnumerable.call({valueOf:1},"valueOf")){baseKeysIn=function(object){return iteratorToArray(enumerate(object))}}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)});return result}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){return matchesStrictComparable(matchData[0][0],matchData[0][1])}return function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue)){return matchesStrictComparable(path,srcValue)}return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,undefined,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return}if(!(isArray(source)||isTypedArray(source))){var props=keysIn(source)}arrayEach(props||source,function(srcValue,key){if(props){key=srcValue;srcValue=source[key]}if(isObject(srcValue)){stack||(stack=new Stack);baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack)}else{var newValue=customizer?customizer(object[key],srcValue,key+"",object,source,stack):undefined;if(newValue===undefined){newValue=srcValue}assignMergeValue(object,key,newValue)}})}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){newValue=srcValue;if(isArray(srcValue)||isTypedArray(srcValue)){if(isArray(objValue)){newValue=objValue}else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue)}else{isCommon=false;newValue=baseClone(srcValue,true)}}else if(isPlainObject(srcValue)||isArguments(srcValue)){if(isArguments(objValue)){newValue=toPlainObject(objValue)}else if(!isObject(objValue)||srcIndex&&isFunction(objValue)){isCommon=false;newValue=baseClone(srcValue,true)}else{newValue=objValue}}else{isCommon=false}}stack.set(srcValue,newValue);if(isCommon){mergeFunc(newValue,srcValue,srcIndex,customizer,stack)}stack["delete"](srcValue);assignMergeValue(object,key,newValue)}function baseNth(array,n){var length=array.length;if(!length){return}n+=n<0?length:0;return isIndex(n,length)?array[n]:undefined}function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(getIteratee()));var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function basePick(object,props){object=Object(object);return arrayReduce(props,function(result,key){if(key in object){result[key]=object[key]}return result},{})}function basePickBy(object,predicate){var index=-1,props=getAllKeysIn(object),length=props.length,result={};while(++index<length){var key=props[index],value=object[key];if(predicate(value,key)){result[key]=value}}return result}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;if(iteratee){seen=arrayMap(array,baseUnary(iteratee))}while(++index<length){var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;while((fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1){if(seen!==array){splice.call(seen,fromIndex,1)}splice.call(array,fromIndex,1)}}return array}function basePullAt(array,indexes){var length=array?indexes.length:0,lastIndex=length-1;while(length--){var index=indexes[length];if(lastIndex==length||index!=previous){var previous=index;if(isIndex(index)){splice.call(array,index,1)}else if(!isKey(index,array)){var path=castPath(index),object=parent(array,path);if(object!=null){delete object[last(path)]}}else{delete array[index]}}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?length:++index]=start;start+=step}return result}function baseRepeat(string,n){var result="";if(!string||n<1||n>MAX_SAFE_INTEGER){return result}do{if(n%2){result+=string}n=nativeFloor(n/2);if(n){string+=string}}while(n);return result}function baseSet(object,path,value,customizer){path=isKey(path,object)?[path]:castPath(path);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=path[index];if(isObject(nested)){var newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=objValue==null?isIndex(path[index+1])?[]:{}:objValue}}assignValue(nested,key,newValue)}nested=nested[key]}return object}var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func};function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0){start=-start>length?0:length+start}end=end>length?length:end;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}function baseSome(collection,predicate){var result;baseEach(collection,function(value,index,collection){result=predicate(value,index,collection);return!result});return!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=array?array.length:low;if(typeof value=="number"&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=low+high>>>1,computed=array[mid];if((retHighest?computed<=value:computed<value)&&computed!==null){low=mid+1}else{high=mid}}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsNull=value===null,valIsUndef=value===undefined;while(low<high){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),isDef=computed!==undefined,isReflexive=computed===computed;if(valIsNaN){var setLow=isReflexive||retHighest}else if(valIsNull){setLow=isReflexive&&isDef&&(retHighest||computed!=null)}else if(valIsUndef){setLow=isReflexive&&(retHighest||isDef)}else if(computed==null){setLow=false}else{setLow=retHighest?computed<=value:computed<value}if(setLow){low=mid+1}else{high=mid}}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array){return baseSortedUniqBy(array)}function baseSortedUniqBy(array,iteratee){var index=0,length=array.length,value=array[0],computed=iteratee?iteratee(value):value,seen=computed,resIndex=1,result=[value];while(++index<length){value=array[index],computed=iteratee?iteratee(value):value;if(!eq(computed,seen)){seen=computed;result[resIndex++]=value}}return result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=true,result=[],seen=result;if(comparator){isCommon=false;includes=arrayIncludesWith}else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set){return setToArray(set)}isCommon=false;includes=cacheHas;seen=new SetCache}else{seen=iteratee?[]:result}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;if(isCommon&&computed===computed){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer}}if(iteratee){seen.push(computed)}result.push(value)}else if(!includes(seen,computed,comparator)){if(seen!==result){seen.push(computed)}result.push(value)}}return result}function baseUnset(object,path){path=isKey(path,object)?[path]:castPath(path);object=parent(object,path);var key=last(path);return object!=null&&has(object,key)?delete object[key]:true}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array)){}return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper){result=result.value()}return arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){var index=-1,length=arrays.length;while(++index<length){var result=result?arrayPush(baseDifference(result,arrays[index],iteratee,comparator),baseDifference(arrays[index],result,iteratee,comparator)):arrays[index]}return result&&result.length?baseUniq(result,iteratee,comparator):[]}function baseZipObject(props,values,assignFunc){var index=-1,length=props.length,valsLength=values.length,result={};while(++index<length){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return typeof value=="function"?value:identity}function castPath(value){return isArray(value)?value:stringToPath(value)}function castSlice(array,start,end){var length=array.length;end=end===undefined?length:end;return!start&&end>=length?array:baseSlice(array,start,end)}function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice()}var result=new buffer.constructor(buffer.length);buffer.copy(result);return result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneMap(map,isDeep,cloneFunc){var array=isDeep?cloneFunc(mapToArray(map),true):mapToArray(map);return arrayReduce(array,addMapEntry,new map.constructor)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result}function cloneSet(set,isDeep,cloneFunc){var array=isDeep?cloneFunc(setToArray(set),true):setToArray(set);return arrayReduce(array,addSetEntry,new set.constructor)}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function composeArgs(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;while(++leftIndex<leftLength){result[leftIndex]=partials[leftIndex]}while(++argsIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[holders[argsIndex]]=args[argsIndex]}}while(rangeLength--){result[leftIndex++]=args[argsIndex++]}return result}function composeArgsRight(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;while(++argsIndex<rangeLength){result[argsIndex]=args[argsIndex]}var offset=argsIndex;while(++rightIndex<rightLength){result[offset+rightIndex]=partials[rightIndex]}while(++holdersIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[offset+holders[holdersIndex]]=args[argsIndex++]}}return result}function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}function copyObject(source,props,object,customizer){object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):source[key];assignValue(object,key,newValue)}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee),accumulator)}}function createAssigner(assigner){return rest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=typeof customizer=="function"?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer)}}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null){return collection}if(!isArrayLike(collection)){return eachFunc(collection,iteratee)}var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break}}return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}function createBaseWrapper(func,bitmask,thisArg){var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}return wrapper}function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=reHasComplexSymbol.test(string)?stringToArray(string):undefined;var chr=strSymbols?strSymbols[0]:string.charAt(0);var trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtorWrapper(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurryWrapper(func,bitmask,arity){var Ctor=createCtorWrapper(func);function wrapper(){var length=arguments.length,args=Array(length),index=length,placeholder=getPlaceholder(wrapper);while(index--){args[index]=arguments[index]}var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);length-=holders.length;if(length<arity){return createRecurryWrapper(func,bitmask,createHybridWrapper,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length)}var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}return wrapper}function createFlow(fromRight){return rest(function(funcs){funcs=baseFlatten(funcs,1);var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;if(fromRight){funcs.reverse()}while(index--){var func=funcs[index];if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(prereq&&!wrapper&&getFuncName(func)=="wrapper"){var wrapper=new LodashWrapper([],true)}}index=wrapper?index:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=="wrapper"?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(ARY_FLAG|CURRY_FLAG|PARTIAL_FLAG|REARG_FLAG)&&!data[4].length&&data[9]==1){wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3])}else{wrapper=func.length==1&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}}return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value)&&value.length>=LARGE_ARRAY_SIZE){return wrapper.plant(value).value()}var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length){result=funcs[index].call(this,result)}return result}})}function createHybridWrapper(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&ARY_FLAG,isBind=bitmask&BIND_FLAG,isBindKey=bitmask&BIND_KEY_FLAG,isCurried=bitmask&(CURRY_FLAG|CURRY_RIGHT_FLAG),isFlip=bitmask&FLIP_FLAG,Ctor=isBindKey?undefined:createCtorWrapper(func);function wrapper(){var length=arguments.length,index=length,args=Array(length);while(index--){args[index]=arguments[index]}if(isCurried){var placeholder=getPlaceholder(wrapper),holdersCount=countHolders(args,placeholder)}if(partials){args=composeArgs(args,partials,holders,isCurried)}if(partialsRight){args=composeArgsRight(args,partialsRight,holdersRight,isCurried)}length-=holdersCount;if(isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurryWrapper(func,bitmask,createHybridWrapper,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length);
}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;length=args.length;if(argPos){args=reorder(args,argPos)}else if(isFlip&&length>1){args.reverse()}if(isAry&&ary<length){args.length=ary}if(this&&this!==root&&this instanceof wrapper){fn=Ctor||createCtorWrapper(fn)}return fn.apply(thisBinding,args)}return wrapper}function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}function createOver(arrayFunc){return rest(function(iteratees){iteratees=iteratees.length==1&&isArray(iteratees[0])?arrayMap(iteratees[0],baseUnary(getIteratee())):arrayMap(baseFlatten(iteratees,1,isFlattenableIteratee),baseUnary(getIteratee()));return rest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(length,chars){chars=chars===undefined?" ":chars+"";var charsLength=chars.length;if(charsLength<2){return charsLength?baseRepeat(chars,length):chars}var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return reHasComplexSymbol.test(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createPartialWrapper(func,bitmask,thisArg,partials){var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;while(++leftIndex<leftLength){args[leftIndex]=partials[leftIndex]}while(argsLength--){args[leftIndex++]=arguments[++argsIndex]}return apply(fn,isBind?thisArg:this,args)}return wrapper}function createRange(fromRight){return function(start,end,step){if(step&&typeof step!="number"&&isIterateeCall(start,end,step)){end=step=undefined}start=toNumber(start);start=start===start?start:0;if(end===undefined){end=start;start=0}else{end=toNumber(end)||0}step=step===undefined?start<end?1:-1:toNumber(step)||0;return baseRange(start,end,step,fromRight)}}function createRecurryWrapper(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&CURRY_FLAG,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG);if(!(bitmask&CURRY_BOUND_FLAG)){bitmask&=~(BIND_FLAG|BIND_KEY_FLAG)}var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity];var result=wrapFunc.apply(undefined,newData);if(isLaziable(func)){setData(result,newData)}result.placeholder=placeholder;return result}function createRound(methodName){var func=Math[methodName];return function(number,precision){number=toNumber(number);precision=toInteger(precision);if(precision){var pair=(toString(number)+"e").split("e"),value=func(pair[0]+"e"+(+pair[1]+precision));pair=(toString(value)+"e").split("e");return+(pair[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=!(Set&&new Set([1,2]).size===2)?noop:function(values){return new Set(values)};function createWrapper(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&BIND_KEY_FLAG;if(!isBindKey&&typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var length=partials?partials.length:0;if(!length){bitmask&=~(PARTIAL_FLAG|PARTIAL_RIGHT_FLAG);partials=holders=undefined}ary=ary===undefined?ary:nativeMax(toInteger(ary),0);arity=arity===undefined?arity:toInteger(arity);length-=holders?holders.length:0;if(bitmask&PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func);var newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data)}func=newData[0];bitmask=newData[1];thisArg=newData[2];partials=newData[3];holders=newData[4];arity=newData[9]=newData[9]==null?isBindKey?0:func.length:nativeMax(newData[9]-length,0);if(!arity&&bitmask&(CURRY_FLAG|CURRY_RIGHT_FLAG)){bitmask&=~(CURRY_FLAG|CURRY_RIGHT_FLAG)}if(!bitmask||bitmask==BIND_FLAG){var result=createBaseWrapper(func,bitmask,thisArg)}else if(bitmask==CURRY_FLAG||bitmask==CURRY_RIGHT_FLAG){result=createCurryWrapper(func,bitmask,arity)}else if((bitmask==PARTIAL_FLAG||bitmask==(BIND_FLAG|PARTIAL_FLAG))&&!holders.length){result=createPartialWrapper(func,bitmask,thisArg,partials)}else{result=createHybridWrapper.apply(undefined,newData)}var setter=data?baseSetData:setData;return setter(result,newData)}function equalArrays(array,other,equalFunc,customizer,bitmask,stack){var index=-1,isPartial=bitmask&PARTIAL_COMPARE_FLAG,isUnordered=bitmask&UNORDERED_COMPARE_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return false}var stacked=stack.get(array);if(stacked){return stacked==other}var result=true;stack.set(array,other);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack)}if(compared!==undefined){if(compared){continue}result=false;break}if(isUnordered){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,bitmask,stack)})){result=false;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,customizer,bitmask,stack))){result=false;break}}stack["delete"](array);return result}function equalByTag(object,other,tag,equalFunc,customizer,bitmask,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset){return false}object=object.buffer;other=other.buffer;case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return false}return true;case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&PARTIAL_COMPARE_FLAG;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return false}var stacked=stack.get(object);if(stacked){return stacked==other}bitmask|=UNORDERED_COMPARE_FLAG;stack.set(object,other);return equalArrays(convert(object),convert(other),equalFunc,customizer,bitmask,stack);case symbolTag:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other)}}return false}function equalObjects(object,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG,objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return false}var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:baseHas(other,key))){return false}}var stacked=stack.get(object);if(stacked){return stacked==other}var result=true;stack.set(object,other);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack)}if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,customizer,bitmask,stack):compared)){result=false;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){result=false}}stack["delete"](object);return result}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=!metaMap?noop:function(func){return metaMap.get(func)};function getFuncName(func){var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func){return data.name}}return result}function getIteratee(){var result=lodash.iteratee||iteratee;result=result===iteratee?baseIteratee:result;return arguments.length?result(arguments[0],arguments[1]):result}var getLength=baseProperty("length");function getMatchData(object){var result=toPairs(object),length=result.length;while(length--){result[length][2]=isStrictComparable(result[length][1])}return result}function getNative(object,key){var value=object[key];return isNative(value)?value:undefined}function getPlaceholder(func){var object=hasOwnProperty.call(lodash,"placeholder")?lodash:func;return object.placeholder}function getPrototype(value){return nativeGetPrototype(Object(value))}function getSymbols(object){return getOwnPropertySymbols(Object(object))}if(!getOwnPropertySymbols){getSymbols=function(){return[]}}var getSymbolsIn=!getOwnPropertySymbols?getSymbols:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object)}return result};function getTag(value){return objectToString.call(value)}if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag){getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):undefined;if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}}return result}}function getView(start,end,transforms){var index=-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size);break}}return{start:start,end:end}}function hasPath(object,path,hasFunc){path=isKey(path,object)?[path]:castPath(path);var result,index=-1,length=path.length;while(++index<length){var key=path[index];if(!(result=object!=null&&hasFunc(object,key))){break}object=object[key]}if(result){return result}var length=object?object.length:0;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isString(object)||isArguments(object))}function initCloneArray(array){var length=array.length,result=array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}function initCloneByTag(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return cloneMap(object,isDeep,cloneFunc);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return cloneSet(object,isDeep,cloneFunc);case symbolTag:return cloneSymbol(object)}}function indexKeys(object){var length=object?object.length:undefined;if(isLength(length)&&(isArray(object)||isString(object)||isArguments(object))){return baseTimes(length,String)}return null}function isFlattenable(value){return isArrayLikeObject(value)&&(isArray(value)||isArguments(value))}function isFlattenableIteratee(value){return isArray(value)&&!(value.length==2&&!isFunction(value[0]))}function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){return eq(object[index],value)}return false}function isKey(value,object){var type=typeof value;if(type=="number"||type=="symbol"){return true}return!isArray(value)&&(isSymbol(value)||reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object))}function isKeyable(value){var type=typeof value;return type=="number"||type=="boolean"||type=="string"&&value!="__proto__"||value==null}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if(typeof other!="function"||!(funcName in LazyWrapper.prototype)){return false}if(func===other){return true}var data=getData(other);return!!data&&func===data[0]}function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){if(object==null){return false}return object[key]===srcValue&&(srcValue!==undefined||key in Object(object))}}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(BIND_FLAG|BIND_KEY_FLAG|ARY_FLAG);var isCombo=srcBitmask==ARY_FLAG&&bitmask==CURRY_FLAG||srcBitmask==ARY_FLAG&&bitmask==REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(ARY_FLAG|REARG_FLAG)&&source[7].length<=source[8]&&bitmask==CURRY_FLAG;if(!(isCommon||isCombo)){return data}if(srcBitmask&BIND_FLAG){data[2]=source[2];newBitmask|=bitmask&BIND_FLAG?0:CURRY_BOUND_FLAG}var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value;data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):value;data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]}value=source[7];if(value){data[7]=value}if(srcBitmask&ARY_FLAG){data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8])}if(data[9]==null){data[9]=source[9]}data[0]=source[0];data[1]=newBitmask;return data}function mergeDefaults(objValue,srcValue,key,object,source,stack){if(isObject(objValue)&&isObject(srcValue)){baseMerge(objValue,srcValue,undefined,mergeDefaults,stack.set(srcValue,objValue))}return objValue}function parent(object,path){return path.length==1?object:baseGet(object,baseSlice(path,0,-1))}function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}var setData=function(){var count=0,lastCalled=0;return function(key,value){var stamp=now(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return key}}else{count=0}return baseSetData(key,value)}}();var stringToPath=memoize(function(string){var result=[];toString(string).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)});return result});function toKey(key){return typeof key=="string"||isSymbol(key)?key:key+""}function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper){return wrapper.clone()}var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);result.__actions__=copyArray(wrapper.__actions__);result.__index__=wrapper.__index__;result.__values__=wrapper.__values__;return result}function chunk(array,size,guard){if(guard?isIterateeCall(array,size,guard):size===undefined){size=1}else{size=nativeMax(toInteger(size),0)}var length=array?array.length:0;if(!length||size<1){return[]}var index=0,resIndex=0,result=Array(nativeCeil(length/size));while(index<length){result[resIndex++]=baseSlice(array,index,index+=size)}return result}function compact(array){var index=-1,length=array?array.length:0,resIndex=0,result=[];while(++index<length){var value=array[index];if(value){result[resIndex++]=value}}return result}function concat(){var length=arguments.length,array=castArray(arguments[0]);if(length<2){return length?copyArray(array):[]}var args=Array(length-1);while(length--){args[length-1]=arguments[length]}return arrayConcat(array,baseFlatten(args,1))}var difference=rest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true)):[]});var differenceBy=rest(function(array,values){var iteratee=last(values);if(isArrayLikeObject(iteratee)){iteratee=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),getIteratee(iteratee)):[]});var differenceWith=rest(function(array,values){var comparator=last(values);if(isArrayLikeObject(comparator)){comparator=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),undefined,comparator):[]});function drop(array,n,guard){var length=array?array.length:0;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,n<0?0:n,length)}function dropRight(array,n,guard){var length=array?array.length:0;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,0,n<0?0:n)}function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true,true):[]}function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true):[]}function fill(array,value,start,end){var length=array?array.length:0;if(!length){return[]}if(start&&typeof start!="number"&&isIterateeCall(array,value,start)){start=0;end=length}return baseFill(array,value,start,end)}function findIndex(array,predicate){return array&&array.length?baseFindIndex(array,getIteratee(predicate,3)):-1}function findLastIndex(array,predicate){return array&&array.length?baseFindIndex(array,getIteratee(predicate,3),true):-1}function flatten(array){var length=array?array.length:0;return length?baseFlatten(array,1):[]}function flattenDeep(array){var length=array?array.length:0;return length?baseFlatten(array,INFINITY):[]}function flattenDepth(array,depth){var length=array?array.length:0;if(!length){return[]}depth=depth===undefined?1:toInteger(depth);return baseFlatten(array,depth)}function fromPairs(pairs){var index=-1,length=pairs?pairs.length:0,result={};while(++index<length){var pair=pairs[index];result[pair[0]]=pair[1]}return result}function head(array){return array&&array.length?array[0]:undefined}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length){return-1}fromIndex=toInteger(fromIndex);if(fromIndex<0){fromIndex=nativeMax(length+fromIndex,0)}return baseIndexOf(array,value,fromIndex)}function initial(array){return dropRight(array,1)}var intersection=rest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]});var intersectionBy=rest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);if(iteratee===last(mapped)){iteratee=undefined}else{mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee)):[]});var intersectionWith=rest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);if(comparator===last(mapped)){comparator=undefined}else{mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]});function join(array,separator){return array?nativeJoin.call(array,separator):""}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array?array.length:0;if(!length){return-1}var index=length;if(fromIndex!==undefined){index=toInteger(fromIndex);index=(index<0?nativeMax(length+index,0):nativeMin(index,length-1))+1}if(value!==value){return indexOfNaN(array,index,true)}while(index--){if(array[index]===value){return index}}return-1}function nth(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined}var pull=rest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee)):array}function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array}var pullAt=rest(function(array,indexes){indexes=arrayMap(baseFlatten(indexes,1),String);var result=baseAt(array,indexes);basePullAt(array,indexes.sort(compareAscending));return result});function remove(array,predicate){var result=[];if(!(array&&array.length)){return result}var index=-1,indexes=[],length=array.length;predicate=getIteratee(predicate,3);while(++index<length){var value=array[index];if(predicate(value,index,array)){result.push(value);indexes.push(index)}}basePullAt(array,indexes);return result}function reverse(array){return array?nativeReverse.call(array):array}function slice(array,start,end){var length=array?array.length:0;if(!length){return[]}if(end&&typeof end!="number"&&isIterateeCall(array,start,end)){start=0;end=length}else{start=start==null?0:toInteger(start);end=end===undefined?length:toInteger(end)}return baseSlice(array,start,end)}function sortedIndex(array,value){return baseSortedIndex(array,value)}function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee))}function sortedIndexOf(array,value){var length=array?array.length:0;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value)){return index}}return-1}function sortedLastIndex(array,value){return baseSortedIndex(array,value,true)}function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee),true)}function sortedLastIndexOf(array,value){var length=array?array.length:0;if(length){var index=baseSortedIndex(array,value,true)-1;if(eq(array[index],value)){return index}}return-1}function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]}function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniqBy(array,getIteratee(iteratee)):[]}function tail(array){return drop(array,1)}function take(array,n,guard){if(!(array&&array.length)){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,0,n<0?0:n)}function takeRight(array,n,guard){var length=array?array.length:0;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,n<0?0:n,length)}function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),false,true):[]}function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]}var union=rest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true))});var unionBy=rest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),getIteratee(iteratee))});var unionWith=rest(function(arrays){var comparator=last(arrays);if(isArrayLikeObject(comparator)){comparator=undefined}return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),undefined,comparator)});function uniq(array){return array&&array.length?baseUniq(array):[]}function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee)):[]}function uniqWith(array,comparator){return array&&array.length?baseUniq(array,undefined,comparator):[]}function unzip(array){if(!(array&&array.length)){return[]}var length=0;array=arrayFilter(array,function(group){if(isArrayLikeObject(group)){length=nativeMax(group.length,length);return true}});return baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!(array&&array.length)){return[]}var result=unzip(array);if(iteratee==null){return result}return arrayMap(result,function(group){return apply(iteratee,undefined,group)})}var without=rest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]});var xor=rest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))});var xorBy=rest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee))});var xorWith=rest(function(arrays){var comparator=last(arrays);if(isArrayLikeObject(comparator)){comparator=undefined}return baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)});var zip=rest(unzip);function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)}var zipWith=rest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;iteratee=typeof iteratee=="function"?(arrays.pop(),iteratee):undefined;return unzipWith(arrays,iteratee)});function chain(value){var result=lodash(value);result.__chain__=true;return result}function tap(value,interceptor){interceptor(value);return value}function thru(value,interceptor){return interceptor(value)}var wrapperAt=rest(function(paths){paths=baseFlatten(paths,1);var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};if(length>1||this.__actions__.length||!(value instanceof LazyWrapper)||!isIndex(start)){return this.thru(interceptor)}value=value.slice(start,+start+(length?1:0));value.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(value,this.__chain__).thru(function(array){if(length&&!array.length){array.push(undefined)}return array})});function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperNext(){if(this.__values__===undefined){this.__values__=toArray(this.value())}var done=this.__index__>=this.__values__.length,value=done?undefined:this.__values__[this.__index__++];return{done:done,value:value}}function wrapperToIterator(){return this}function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);clone.__index__=0;clone.__values__=undefined;if(result){previous.__wrapped__=clone}else{result=clone}var previous=clone;parent=parent.__wrapped__}previous.__wrapped__=value;return result}function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length){wrapped=new LazyWrapper(this)}wrapped=wrapped.reverse();wrapped.__actions__.push({func:thru,args:[reverse],thisArg:undefined});return new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}var countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:result[key]=1});function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3))}function find(collection,predicate){predicate=getIteratee(predicate,3);if(isArray(collection)){var index=baseFindIndex(collection,predicate);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,baseEach)}function findLast(collection,predicate){predicate=getIteratee(predicate,3);if(isArray(collection)){var index=baseFindIndex(collection,predicate,true);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,baseEachRight)}function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY)}function flatMapDepth(collection,iteratee,depth){depth=depth===undefined?1:toInteger(depth);return baseFlatten(map(collection,iteratee),depth)}function forEach(collection,iteratee){return typeof iteratee=="function"&&isArray(collection)?arrayEach(collection,iteratee):baseEach(collection,getIteratee(iteratee))}function forEachRight(collection,iteratee){return typeof iteratee=="function"&&isArray(collection)?arrayEachRight(collection,iteratee):baseEachRight(collection,getIteratee(iteratee))}var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){result[key].push(value)}else{result[key]=[value]}});function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection);fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;if(fromIndex<0){fromIndex=nativeMax(length+fromIndex,0)}return isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}var invokeMap=rest(function(collection,path,args){var index=-1,isFunc=typeof path=="function",isProp=isKey(path),result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){var func=isFunc?path:isProp&&value!=null?value[path]:undefined;result[++index]=func?apply(func,value,args):baseInvoke(value,path,args)});return result});var keyBy=createAggregator(function(result,value,key){result[key]=value});function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3))}function orderBy(collection,iteratees,orders,guard){if(collection==null){return[]}if(!isArray(iteratees)){iteratees=iteratees==null?[]:[iteratees]}orders=guard?undefined:orders;if(!isArray(orders)){orders=orders==null?[]:[orders]}return baseOrderBy(collection,iteratees,orders)}var partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]});function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)}function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)}function reject(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;predicate=getIteratee(predicate,3);return func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function sample(collection){var array=isArrayLike(collection)?collection:values(collection),length=array.length;return length>0?array[baseRandom(0,length-1)]:undefined}function sampleSize(collection,n,guard){var index=-1,result=toArray(collection),length=result.length,lastIndex=length-1;if(guard?isIterateeCall(collection,n,guard):n===undefined){n=1}else{n=baseClamp(toInteger(n),0,length)}while(++index<n){var rand=baseRandom(index,lastIndex),value=result[rand];result[rand]=result[index];result[index]=value}result.length=n;return result}function shuffle(collection){return sampleSize(collection,MAX_ARRAY_LENGTH)}function size(collection){
if(collection==null){return 0}if(isArrayLike(collection)){var result=collection.length;return result&&isString(collection)?stringSize(collection):result}if(isObjectLike(collection)){var tag=getTag(collection);if(tag==mapTag||tag==setTag){return collection.size}}return keys(collection).length}function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}var sortBy=rest(function(collection,iteratees){if(collection==null){return[]}var length=iteratees.length;if(length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])){iteratees=[]}else if(length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])){iteratees=[iteratees[0]]}iteratees=iteratees.length==1&&isArray(iteratees[0])?iteratees[0]:baseFlatten(iteratees,1,isFlattenableIteratee);return baseOrderBy(collection,iteratees,[])});var now=Date.now;function after(n,func){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n<1){return func.apply(this,arguments)}}}function ary(func,n,guard){n=guard?undefined:n;n=func&&n==null?func.length:n;return createWrapper(func,ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n>0){result=func.apply(this,arguments)}if(n<=1){func=undefined}return result}}var bind=rest(function(func,thisArg,partials){var bitmask=BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getPlaceholder(bind));bitmask|=PARTIAL_FLAG}return createWrapper(func,bitmask,thisArg,partials,holders)});var bindKey=rest(function(object,key,partials){var bitmask=BIND_FLAG|BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getPlaceholder(bindKey));bitmask|=PARTIAL_FLAG}return createWrapper(key,bitmask,object,partials,holders)});function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrapper(func,CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curry.placeholder;return result}function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrapper(func,CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curryRight.placeholder;return result}function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime=0,lastInvokeTime=0,leading=false,maxing=false,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing="maxWait"in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing="trailing"in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,result=wait-timeSinceLastCall;return maxing?nativeMin(result,maxWait-timeSinceLastInvoke):result}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return!lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time)){return trailingEdge(time)}timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){clearTimeout(timerId);timerId=undefined;if(trailing&&lastArgs){return invokeFunc(time)}lastArgs=lastThis=undefined;return result}function cancel(){if(timerId!==undefined){clearTimeout(timerId)}lastCallTime=lastInvokeTime=0;lastArgs=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined){return leadingEdge(lastCallTime)}if(maxing){clearTimeout(timerId);timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime)}}if(timerId===undefined){timerId=setTimeout(timerExpired,wait)}return result}debounced.cancel=cancel;debounced.flush=flush;return debounced}var defer=rest(function(func,args){return baseDelay(func,1,args)});var delay=rest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});function flip(func){return createWrapper(func,FLIP_FLAG)}function memoize(func,resolver){if(typeof func!="function"||resolver&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result);return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;function negate(predicate){if(typeof predicate!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return function(){return!predicate.apply(this,arguments)}}function once(func){return before(2,func)}var overArgs=rest(function(func,transforms){transforms=transforms.length==1&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1,isFlattenableIteratee),baseUnary(getIteratee()));var funcsLength=transforms.length;return rest(function(args){var index=-1,length=nativeMin(args.length,funcsLength);while(++index<length){args[index]=transforms[index].call(this,args[index])}return apply(func,this,args)})});var partial=rest(function(func,partials){var holders=replaceHolders(partials,getPlaceholder(partial));return createWrapper(func,PARTIAL_FLAG,undefined,partials,holders)});var partialRight=rest(function(func,partials){var holders=replaceHolders(partials,getPlaceholder(partialRight));return createWrapper(func,PARTIAL_RIGHT_FLAG,undefined,partials,holders)});var rearg=rest(function(func,indexes){return createWrapper(func,REARG_FLAG,undefined,undefined,undefined,baseFlatten(indexes,1))});function rest(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=nativeMax(start===undefined?func.length-1:toInteger(start),0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index]}switch(start){case 0:return func.call(this,array);case 1:return func.call(this,args[0],array);case 2:return func.call(this,args[0],args[1],array)}var otherArgs=Array(start+1);index=-1;while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=array;return apply(func,this,otherArgs)}}function spread(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=start===undefined?0:nativeMax(toInteger(start),0);return rest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);if(array){arrayPush(otherArgs,array)}return apply(func,this,otherArgs)})}function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(isObject(options)){leading="leading"in options?!!options.leading:leading;trailing="trailing"in options?!!options.trailing:trailing}return debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}function unary(func){return ary(func,1)}function wrap(value,wrapper){wrapper=wrapper==null?identity:wrapper;return partial(wrapper,value)}function castArray(){if(!arguments.length){return[]}var value=arguments[0];return isArray(value)?value:[value]}function clone(value){return baseClone(value,false,true)}function cloneWith(value,customizer){return baseClone(value,false,true,customizer)}function cloneDeep(value){return baseClone(value,true,true)}function cloneDeepWith(value,customizer){return baseClone(value,true,true,customizer)}function eq(value,other){return value===other||value!==value&&other!==other}function gt(value,other){return value>other}function gte(value,other){return value>=other}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}var isArray=Array.isArray;function isArrayBuffer(value){return isObjectLike(value)&&objectToString.call(value)==arrayBufferTag}function isArrayLike(value){return value!=null&&isLength(getLength(value))&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isBoolean(value){return value===true||value===false||isObjectLike(value)&&objectToString.call(value)==boolTag}var isBuffer=!Buffer?constant(false):function(value){return value instanceof Buffer};function isDate(value){return isObjectLike(value)&&objectToString.call(value)==dateTag}function isElement(value){return!!value&&value.nodeType===1&&isObjectLike(value)&&!isPlainObject(value)}function isEmpty(value){if(isArrayLike(value)&&(isArray(value)||isString(value)||isFunction(value.splice)||isArguments(value)||isBuffer(value))){return!value.length}if(isObjectLike(value)){var tag=getTag(value);if(tag==mapTag||tag==setTag){return!value.size}}for(var key in value){if(hasOwnProperty.call(value,key)){return false}}return!(nonEnumShadows&&keys(value).length)}function isEqual(value,other){return baseIsEqual(value,other)}function isEqualWith(value,other,customizer){customizer=typeof customizer=="function"?customizer:undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,customizer):!!result}function isError(value){if(!isObjectLike(value)){return false}return objectToString.call(value)==errorTag||typeof value.message=="string"&&typeof value.name=="string"}function isFinite(value){return typeof value=="number"&&nativeIsFinite(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isInteger(value){return typeof value=="number"&&value==toInteger(value)}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isObjectLike(value){return!!value&&typeof value=="object"}function isMap(value){return isObjectLike(value)&&getTag(value)==mapTag}function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))}function isMatchWith(object,source,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseIsMatch(object,source,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){if(!isObject(value)){return false}var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function isNull(value){return value===null}function isNil(value){return value==null}function isNumber(value){return typeof value=="number"||isObjectLike(value)&&objectToString.call(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||objectToString.call(value)!=objectTag||isHostObject(value)){return false}var proto=getPrototype(value);if(proto===null){return true}var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}function isRegExp(value){return isObject(value)&&objectToString.call(value)==regexpTag}function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER}function isSet(value){return isObjectLike(value)&&getTag(value)==setTag}function isString(value){return typeof value=="string"||!isArray(value)&&isObjectLike(value)&&objectToString.call(value)==stringTag}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&objectToString.call(value)==symbolTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString.call(value)]}function isUndefined(value){return value===undefined}function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag}function isWeakSet(value){return isObjectLike(value)&&objectToString.call(value)==weakSetTag}function lt(value,other){return value<other}function lte(value,other){return value<=other}function toArray(value){if(!value){return[]}if(isArrayLike(value)){return isString(value)?stringToArray(value):copyArray(value)}if(iteratorSymbol&&value[iteratorSymbol]){return iteratorToArray(value[iteratorSymbol]())}var tag=getTag(value),func=tag==mapTag?mapToArray:tag==setTag?setToArray:values;return func(value)}function toInteger(value){if(!value){return value===0?value:0}value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}var remainder=value%1;return value===value?remainder?value-remainder:value:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}if(isObject(value)){var other=isFunction(value.valueOf)?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string"){return value===0?value:+value}value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toSafeInteger(value){return baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER)}function toString(value){if(typeof value=="string"){return value}if(value==null){return""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}var assign=createAssigner(function(object,source){if(nonEnumShadows||isPrototype(source)||isArrayLike(source)){copyObject(source,keys(source),object);return}for(var key in source){if(hasOwnProperty.call(source,key)){assignValue(object,key,source[key])}}});var assignIn=createAssigner(function(object,source){if(nonEnumShadows||isPrototype(source)||isArrayLike(source)){copyObject(source,keysIn(source),object);return}for(var key in source){assignValue(object,key,source[key])}});var assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)});var assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)});var at=rest(function(object,paths){return baseAt(object,baseFlatten(paths,1))});function create(prototype,properties){var result=baseCreate(prototype);return properties?baseAssign(result,properties):result}var defaults=rest(function(args){args.push(undefined,assignInDefaults);return apply(assignInWith,undefined,args)});var defaultsDeep=rest(function(args){args.push(undefined,mergeDefaults);return apply(mergeWith,undefined,args)});function findKey(object,predicate){return baseFind(object,getIteratee(predicate,3),baseForOwn,true)}function findLastKey(object,predicate){return baseFind(object,getIteratee(predicate,3),baseForOwnRight,true)}function forIn(object,iteratee){return object==null?object:baseFor(object,getIteratee(iteratee),keysIn)}function forInRight(object,iteratee){return object==null?object:baseForRight(object,getIteratee(iteratee),keysIn)}function forOwn(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee))}function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee))}function functions(object){return object==null?[]:baseFunctions(object,keys(object))}function functionsIn(object){return object==null?[]:baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function has(object,path){return object!=null&&hasPath(object,path,baseHas)}function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn)}var invert=createInverter(function(result,value,key){result[value]=key},constant(identity));var invertBy=createInverter(function(result,value,key){if(hasOwnProperty.call(result,value)){result[value].push(key)}else{result[value]=[key]}},getIteratee);var invoke=rest(baseInvoke);function keys(object){var isProto=isPrototype(object);if(!(isProto||isArrayLike(object))){return baseKeys(object)}var indexes=indexKeys(object),skipIndexes=!!indexes,result=indexes||[],length=result.length;for(var key in object){if(baseHas(object,key)&&!(skipIndexes&&(key=="length"||isIndex(key,length)))&&!(isProto&&key=="constructor")){result.push(key)}}return result}function keysIn(object){var index=-1,isProto=isPrototype(object),props=baseKeysIn(object),propsLength=props.length,indexes=indexKeys(object),skipIndexes=!!indexes,result=indexes||[],length=result.length;while(++index<propsLength){var key=props[index];if(!(skipIndexes&&(key=="length"||isIndex(key,length)))&&!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}function mapKeys(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){result[iteratee(value,key,object)]=value});return result}function mapValues(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){result[key]=iteratee(value,key,object)});return result}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)});var mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)});var omit=rest(function(object,props){if(object==null){return{}}props=arrayMap(baseFlatten(props,1),toKey);return basePick(object,baseDifference(getAllKeysIn(object),props))});function omitBy(object,predicate){predicate=getIteratee(predicate);return basePickBy(object,function(value,key){return!predicate(value,key)})}var pick=rest(function(object,props){return object==null?{}:basePick(object,baseFlatten(props,1))});function pickBy(object,predicate){return object==null?{}:basePickBy(object,getIteratee(predicate))}function result(object,path,defaultValue){path=isKey(path,object)?[path]:castPath(path);var index=-1,length=path.length;if(!length){object=undefined;length=1}while(++index<length){var value=object==null?undefined:object[path[index]];if(value===undefined){index=length;value=defaultValue}object=isFunction(value)?value.call(object):value}return object}function set(object,path,value){return object==null?object:baseSet(object,path,value)}function setWith(object,path,value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer)}function toPairs(object){return baseToPairs(object,keys(object))}function toPairsIn(object){return baseToPairs(object,keysIn(object))}function transform(object,iteratee,accumulator){var isArr=isArray(object)||isTypedArray(object);iteratee=getIteratee(iteratee,4);if(accumulator==null){if(isArr||isObject(object)){var Ctor=object.constructor;if(isArr){accumulator=isArray(object)?new Ctor:[]}else{accumulator=isFunction(Ctor)?baseCreate(getPrototype(object)):{}}}else{accumulator={}}}(isArr?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)});return accumulator}function unset(object,path){return object==null?true:baseUnset(object,path)}function update(object,path,updater){return object==null?object:baseUpdate(object,path,castFunction(updater))}function updateWith(object,path,updater,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseUpdate(object,path,castFunction(updater),customizer)}function values(object){return object?baseValues(object,keys(object)):[]}function valuesIn(object){return object==null?[]:baseValues(object,keysIn(object))}function clamp(number,lower,upper){if(upper===undefined){upper=lower;lower=undefined}if(upper!==undefined){upper=toNumber(upper);upper=upper===upper?upper:0}if(lower!==undefined){lower=toNumber(lower);lower=lower===lower?lower:0}return baseClamp(toNumber(number),lower,upper)}function inRange(number,start,end){start=toNumber(start)||0;if(end===undefined){end=start;start=0}else{end=toNumber(end)||0}number=toNumber(number);return baseInRange(number,start,end)}function random(lower,upper,floating){if(floating&&typeof floating!="boolean"&&isIterateeCall(lower,upper,floating)){upper=floating=undefined}if(floating===undefined){if(typeof upper=="boolean"){floating=upper;upper=undefined}else if(typeof lower=="boolean"){floating=lower;lower=undefined}}if(lower===undefined&&upper===undefined){lower=0;upper=1}else{lower=toNumber(lower)||0;if(upper===undefined){upper=lower;lower=0}else{upper=toNumber(upper)||0}}if(lower>upper){var temp=lower;lower=upper;upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)}var camelCase=createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?capitalize(word):word)});function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){string=toString(string);return string&&string.replace(reLatin1,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=toString(string);target=typeof target=="string"?target:target+"";var length=string.length;position=position===undefined?length:baseClamp(toInteger(position),0,length);position-=target.length;return position>=0&&string.indexOf(target,position)==position}function escape(string){string=toString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){string=toString(string);return string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()});var lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()});var lowerFirst=createCaseFirst("toLowerCase");function pad(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;if(!length||strLength>=length){return string}var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)}function padEnd(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string}function padStart(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string}function parseInt(string,radix,guard){if(guard||radix==null){radix=0}else if(radix){radix=+radix}string=toString(string).replace(reTrim,"");return nativeParseInt(string,radix||(reHasHexPrefix.test(string)?16:10))}function repeat(string,n,guard){if(guard?isIterateeCall(string,n,guard):n===undefined){n=1}else{n=toInteger(n)}return baseRepeat(toString(string),n)}function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:nativeReplace.call(string,args[1],args[2])}var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()});function split(string,separator,limit){if(limit&&typeof limit!="number"&&isIterateeCall(string,separator,limit)){separator=limit=undefined}limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0;if(!limit){return[]}string=toString(string);if(string&&(typeof separator=="string"||separator!=null&&!isRegExp(separator))){separator+="";if(separator==""&&reHasComplexSymbol.test(string)){return castSlice(stringToArray(string),0,limit)}}return nativeSplit.call(string,separator,limit)}var startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+upperFirst(word)});function startsWith(string,target,position){string=toString(string);position=baseClamp(toInteger(position),0,string.length);return string.lastIndexOf(target,position)==position}function template(string,options,guard){var settings=lodash.templateSettings;if(guard&&isIterateeCall(string,options,guard)){options=undefined}string=toString(string);options=assignInWith({},options,settings,assignInDefaults);var imports=assignInWith({},options.imports,settings.imports,assignInDefaults),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";var reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");var sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'"}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p += '"}if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"}index=offset+match.length;return match});source+="';\n";var variable=options.variable;if(!variable){source="with (obj) {\n"+source+"\n}\n"}source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;");source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});result.source=source;if(isError(result)){throw result}return result}function toLower(value){return toString(value).toLowerCase()}function toUpper(value){return toString(value).toUpperCase()}function trim(string,chars,guard){string=toString(string);if(!string){return string}if(guard||chars===undefined){return string.replace(reTrim,"")}if(!(chars+="")){return string}var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join("")}function trimEnd(string,chars,guard){string=toString(string);if(!string){return string}if(guard||chars===undefined){return string.replace(reTrimEnd,"")}if(!(chars+="")){return string}var strSymbols=stringToArray(string),end=charsEndIndex(strSymbols,stringToArray(chars))+1;return castSlice(strSymbols,0,end).join("")}function trimStart(string,chars,guard){string=toString(string);if(!string){return string}if(guard||chars===undefined){return string.replace(reTrimStart,"")}if(!(chars+="")){return string}var strSymbols=stringToArray(string),start=charsStartIndex(strSymbols,stringToArray(chars));return castSlice(strSymbols,start).join("")}function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length;omission="omission"in options?toString(options.omission):omission}string=toString(string);var strLength=string.length;if(reHasComplexSymbol.test(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength){return string}var end=length-stringSize(omission);if(end<1){return omission}var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(separator===undefined){return result+omission}if(strSymbols){end+=result.length-end}if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;if(!separator.global){separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")}separator.lastIndex=0;while(match=separator.exec(substring)){var newEnd=match.index}result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(separator,end)!=end){var index=result.lastIndexOf(separator);if(index>-1){result=result.slice(0,index)}}return result+omission}function unescape(string){string=toString(string);return string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}var upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()});var upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){string=toString(string);pattern=guard?undefined:pattern;if(pattern===undefined){pattern=reHasComplexWord.test(string)?reComplexWord:reBasicWord}return string.match(pattern)||[]}var attempt=rest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}});var bindAll=rest(function(object,methodNames){arrayEach(baseFlatten(methodNames,1),function(key){object[key]=bind(object[key],object)});return object});function cond(pairs){var length=pairs?pairs.length:0,toIteratee=getIteratee();pairs=!length?[]:arrayMap(pairs,function(pair){if(typeof pair[1]!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return[toIteratee(pair[0]),pair[1]]});return rest(function(args){var index=-1;while(++index<length){var pair=pairs[index];if(apply(pair[0],this,args)){return apply(pair[1],this,args)}}})}function conforms(source){return baseConforms(baseClone(source,true))}function constant(value){return function(){return value}}var flow=createFlow();var flowRight=createFlow(true);function identity(value){return value}function iteratee(func){return baseIteratee(typeof func=="function"?func:baseClone(func,true))}function matches(source){return baseMatches(baseClone(source,true))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,true))}var method=rest(function(path,args){return function(object){return baseInvoke(object,path,args)}});var methodOf=rest(function(object,args){return function(path){return baseInvoke(object,path,args)}});function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);if(options==null&&!(isObject(source)&&(methodNames.length||!props.length))){options=source;source=object;object=this;methodNames=baseFunctions(source,keys(source))}var chain=!(isObject(options)&&"chain"in options)||!!options.chain,isFunc=isFunction(object);arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func;if(isFunc){object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);actions.push({func:func,args:arguments,thisArg:object});result.__chain__=chainAll;return result}return func.apply(object,arrayPush([this.value()],arguments))}}});return object}function noConflict(){if(root._===this){root._=oldDash}return this}function noop(){}function nthArg(n){n=toInteger(n);return rest(function(args){return baseNth(args,n)})}var over=createOver(arrayMap);var overEvery=createOver(arrayEvery);var overSome=createOver(arraySome);function property(path){
return isKey(path)?baseProperty(path):basePropertyDeep(path)}function propertyOf(object){return function(path){return object==null?undefined:baseGet(object,path)}}var range=createRange();var rangeRight=createRange(true);function times(n,iteratee){n=toInteger(n);if(n<1||n>MAX_SAFE_INTEGER){return[]}var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee);n-=MAX_ARRAY_LENGTH;var result=baseTimes(length,iteratee);while(++index<n){iteratee(index)}return result}function toPath(value){if(isArray(value)){return arrayMap(value,toKey)}return isSymbol(value)?[value]:copyArray(stringToPath(value))}function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}var add=createMathOperation(function(augend,addend){return augend+addend});var ceil=createRound("ceil");var divide=createMathOperation(function(dividend,divisor){return dividend/divisor});var floor=createRound("floor");function max(array){return array&&array.length?baseExtremum(array,identity,gt):undefined}function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee),gt):undefined}function mean(array){return baseMean(array,identity)}function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee))}function min(array){return array&&array.length?baseExtremum(array,identity,lt):undefined}function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee),lt):undefined}var multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand});var round=createRound("round");var subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend});function sum(array){return array&&array.length?baseSum(array,identity):0}function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee)):0}lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.assignIn=assignIn;lodash.assignInWith=assignInWith;lodash.assignWith=assignWith;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.castArray=castArray;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.concat=concat;lodash.cond=cond;lodash.conforms=conforms;lodash.constant=constant;lodash.countBy=countBy;lodash.create=create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.differenceBy=differenceBy;lodash.differenceWith=differenceWith;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatMap=flatMap;lodash.flatMapDeep=flatMapDeep;lodash.flatMapDepth=flatMapDepth;lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flattenDepth=flattenDepth;lodash.flip=flip;lodash.flow=flow;lodash.flowRight=flowRight;lodash.fromPairs=fromPairs;lodash.functions=functions;lodash.functionsIn=functionsIn;lodash.groupBy=groupBy;lodash.initial=initial;lodash.intersection=intersection;lodash.intersectionBy=intersectionBy;lodash.intersectionWith=intersectionWith;lodash.invert=invert;lodash.invertBy=invertBy;lodash.invokeMap=invokeMap;lodash.iteratee=iteratee;lodash.keyBy=keyBy;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.mergeWith=mergeWith;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.negate=negate;lodash.nthArg=nthArg;lodash.omit=omit;lodash.omitBy=omitBy;lodash.once=once;lodash.orderBy=orderBy;lodash.over=over;lodash.overArgs=overArgs;lodash.overEvery=overEvery;lodash.overSome=overSome;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pickBy=pickBy;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAll=pullAll;lodash.pullAllBy=pullAllBy;lodash.pullAllWith=pullAllWith;lodash.pullAt=pullAt;lodash.range=range;lodash.rangeRight=rangeRight;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.reverse=reverse;lodash.sampleSize=sampleSize;lodash.set=set;lodash.setWith=setWith;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortedUniq=sortedUniq;lodash.sortedUniqBy=sortedUniqBy;lodash.split=split;lodash.spread=spread;lodash.tail=tail;lodash.take=take;lodash.takeRight=takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.toArray=toArray;lodash.toPairs=toPairs;lodash.toPairsIn=toPairsIn;lodash.toPath=toPath;lodash.toPlainObject=toPlainObject;lodash.transform=transform;lodash.unary=unary;lodash.union=union;lodash.unionBy=unionBy;lodash.unionWith=unionWith;lodash.uniq=uniq;lodash.uniqBy=uniqBy;lodash.uniqWith=uniqWith;lodash.unset=unset;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.update=update;lodash.updateWith=updateWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.without=without;lodash.words=words;lodash.wrap=wrap;lodash.xor=xor;lodash.xorBy=xorBy;lodash.xorWith=xorWith;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipObjectDeep=zipObjectDeep;lodash.zipWith=zipWith;lodash.entries=toPairs;lodash.entriesIn=toPairsIn;lodash.extend=assignIn;lodash.extendWith=assignInWith;mixin(lodash,lodash);lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clamp=clamp;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.cloneDeepWith=cloneDeepWith;lodash.cloneWith=cloneWith;lodash.deburr=deburr;lodash.divide=divide;lodash.endsWith=endsWith;lodash.eq=eq;lodash.escape=escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.floor=floor;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.hasIn=hasIn;lodash.head=head;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.invoke=invoke;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isArrayBuffer=isArrayBuffer;lodash.isArrayLike=isArrayLike;lodash.isArrayLikeObject=isArrayLikeObject;lodash.isBoolean=isBoolean;lodash.isBuffer=isBuffer;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isEqualWith=isEqualWith;lodash.isError=isError;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isInteger=isInteger;lodash.isLength=isLength;lodash.isMap=isMap;lodash.isMatch=isMatch;lodash.isMatchWith=isMatchWith;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNil=isNil;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isObjectLike=isObjectLike;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isSafeInteger=isSafeInteger;lodash.isSet=isSet;lodash.isString=isString;lodash.isSymbol=isSymbol;lodash.isTypedArray=isTypedArray;lodash.isUndefined=isUndefined;lodash.isWeakMap=isWeakMap;lodash.isWeakSet=isWeakSet;lodash.join=join;lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=lastIndexOf;lodash.lowerCase=lowerCase;lodash.lowerFirst=lowerFirst;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.maxBy=maxBy;lodash.mean=mean;lodash.meanBy=meanBy;lodash.min=min;lodash.minBy=minBy;lodash.multiply=multiply;lodash.nth=nth;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padEnd=padEnd;lodash.padStart=padStart;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.replace=replace;lodash.result=result;lodash.round=round;lodash.runInContext=runInContext;lodash.sample=sample;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.sortedIndexBy=sortedIndexBy;lodash.sortedIndexOf=sortedIndexOf;lodash.sortedLastIndex=sortedLastIndex;lodash.sortedLastIndexBy=sortedLastIndexBy;lodash.sortedLastIndexOf=sortedLastIndexOf;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.subtract=subtract;lodash.sum=sum;lodash.sumBy=sumBy;lodash.template=template;lodash.times=times;lodash.toInteger=toInteger;lodash.toLength=toLength;lodash.toLower=toLower;lodash.toNumber=toNumber;lodash.toSafeInteger=toSafeInteger;lodash.toString=toString;lodash.toUpper=toUpper;lodash.trim=trim;lodash.trimEnd=trimEnd;lodash.trimStart=trimStart;lodash.truncate=truncate;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.upperCase=upperCase;lodash.upperFirst=upperFirst;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.first=head;mixin(lodash,function(){var source={};baseForOwn(lodash,function(func,methodName){if(!hasOwnProperty.call(lodash.prototype,methodName)){source[methodName]=func}});return source}(),{chain:false});lodash.VERSION=VERSION;arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash});arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){var filtered=this.__filtered__;if(filtered&&!index){return new LazyWrapper(this)}n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.clone();if(filtered){result.__takeCount__=nativeMin(n,result.__takeCount__)}else{result.__views__.push({size:nativeMin(n,MAX_ARRAY_LENGTH),type:methodName+(result.__dir__<0?"Right":"")})}return result};LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}});arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type});result.__filtered__=result.__filtered__||isFilter;return result}});arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}});arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}});LazyWrapper.prototype.compact=function(){return this.filter(identity)};LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()};LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)};LazyWrapper.prototype.invokeMap=rest(function(path,args){if(typeof path=="function"){return new LazyWrapper(this)}return this.map(function(value){return baseInvoke(value,path,args)})});LazyWrapper.prototype.reject=function(predicate){predicate=getIteratee(predicate,3);return this.filter(function(value){return!predicate(value)})};LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;if(result.__filtered__&&(start>0||end<0)){return new LazyWrapper(result)}if(start<0){result=result.takeRight(-start)}else if(start){result=result.drop(start)}if(end!==undefined){end=toInteger(end);result=end<0?result.dropRight(-end):result.take(end-start)}return result};LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()};LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)};baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+(methodName=="last"?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);if(!lodashFunc){return}lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);var interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};if(useLazy&&checkIteratee&&typeof iteratee=="function"&&iteratee.length!=1){isLazy=useLazy=false}var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(result,chainAll)}if(isUnwrapped&&onlyLazy){return func.apply(this,args)}result=this.thru(interceptor);return isUnwrapped?isTaker?result.value()[0]:result.value():result}});arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args)})}});baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"",names=realNames[key]||(realNames[key]=[]);names.push({name:methodName,func:lodashFunc})}});realNames[createHybridWrapper(undefined,BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}];LazyWrapper.prototype.clone=lazyClone;LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;lodash.prototype.at=wrapperAt;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.next=wrapperNext;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=wrapperReverse;lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;if(iteratorSymbol){lodash.prototype[iteratorSymbol]=wrapperToIterator}return lodash}var _=runInContext();(freeWindow||freeSelf||{})._=_;if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define(function(){return _})}else if(freeExports&&freeModule){if(moduleExports){(freeModule.exports=_)._=_}freeExports._=_}else{root._=_}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],8:[function(require,module,exports){"use strict";var layouts=require("../layouts"),consoleLog=console.log.bind(console);function consoleAppender(layout,timezoneOffset){layout=layout||layouts.colouredLayout;return function(loggingEvent){consoleLog(layout(loggingEvent,timezoneOffset))}}function configure(config){var layout;if(config.layout){layout=layouts.layout(config.layout.type,config.layout)}return consoleAppender(layout,config.timezoneOffset)}exports.appender=consoleAppender;exports.configure=configure},{"../layouts":11}],9:[function(require,module,exports){"use strict";var levels=require("./levels");var DEFAULT_FORMAT=":remote-addr - -"+' ":method :url HTTP/:http-version"'+' :status :content-length ":referrer"'+' ":user-agent"';function getLogger(logger4js,options){if("object"==typeof options){options=options||{}}else if(options){options={format:options}}else{options={}}var thislogger=logger4js,level=levels.toLevel(options.level,levels.INFO),fmt=options.format||DEFAULT_FORMAT,nolog=options.nolog?createNoLogCondition(options.nolog):null;return function(req,res,next){if(req._logging)return next();if(nolog&&nolog.test(req.originalUrl))return next();if(thislogger.isLevelEnabled(level)||options.level==="auto"){var start=new Date,statusCode,writeHead=res.writeHead,url=req.originalUrl;req._logging=true;res.writeHead=function(code,headers){res.writeHead=writeHead;res.writeHead(code,headers);res.__statusCode=statusCode=code;res.__headers=headers||{};if(options.level==="auto"){level=levels.INFO;if(code>=300)level=levels.WARN;if(code>=400)level=levels.ERROR}else{level=levels.toLevel(options.level,levels.INFO)}};res.on("finish",function(){res.responseTime=new Date-start;if(res.statusCode&&options.level==="auto"){level=levels.INFO;if(res.statusCode>=300)level=levels.WARN;if(res.statusCode>=400)level=levels.ERROR}if(thislogger.isLevelEnabled(level)){var combined_tokens=assemble_tokens(req,res,options.tokens||[]);if(typeof fmt==="function"){var line=fmt(req,res,function(str){return format(str,combined_tokens)});if(line)thislogger.log(level,line)}else{thislogger.log(level,format(fmt,combined_tokens))}}})}next()}}function assemble_tokens(req,res,custom_tokens){var array_unique_tokens=function(array){var a=array.concat();for(var i=0;i<a.length;++i){for(var j=i+1;j<a.length;++j){if(a[i].token==a[j].token){a.splice(j--,1)}}}return a};var default_tokens=[];default_tokens.push({token:":url",replacement:req.originalUrl});default_tokens.push({token:":protocol",replacement:req.protocol});default_tokens.push({token:":hostname",replacement:req.hostname});default_tokens.push({token:":method",replacement:req.method});default_tokens.push({token:":status",replacement:res.__statusCode||res.statusCode});default_tokens.push({token:":response-time",replacement:res.responseTime});default_tokens.push({token:":date",replacement:(new Date).toUTCString()});default_tokens.push({token:":referrer",replacement:req.headers.referer||req.headers.referrer||""});default_tokens.push({token:":http-version",replacement:req.httpVersionMajor+"."+req.httpVersionMinor});default_tokens.push({token:":remote-addr",replacement:req.headers["x-forwarded-for"]||req.ip||req._remoteAddress||req.socket&&(req.socket.remoteAddress||req.socket.socket&&req.socket.socket.remoteAddress)});default_tokens.push({token:":user-agent",replacement:req.headers["user-agent"]});default_tokens.push({token:":content-length",replacement:res._headers&&res._headers["content-length"]||res.__headers&&res.__headers["Content-Length"]||"-"});default_tokens.push({token:/:req\[([^\]]+)\]/g,replacement:function(_,field){return req.headers[field.toLowerCase()]}});default_tokens.push({token:/:res\[([^\]]+)\]/g,replacement:function(_,field){return res._headers?res._headers[field.toLowerCase()]||res.__headers[field]:res.__headers&&res.__headers[field]}});return array_unique_tokens(custom_tokens.concat(default_tokens))}function format(str,tokens){for(var i=0;i<tokens.length;i++){str=str.replace(tokens[i].token,tokens[i].replacement)}return str}function createNoLogCondition(nolog){var regexp=null;if(nolog){if(nolog instanceof RegExp){regexp=nolog}if(typeof nolog==="string"){regexp=new RegExp(nolog)}if(Array.isArray(nolog)){var regexpsAsStrings=nolog.map(function convertToStrings(o){return o.source?o.source:o});regexp=new RegExp(regexpsAsStrings.join("|"))}}return regexp}exports.connectLogger=getLogger},{"./levels":12}],10:[function(require,module,exports){"use strict";exports.ISO8601_FORMAT="yyyy-MM-dd hh:mm:ss.SSS";exports.ISO8601_WITH_TZ_OFFSET_FORMAT="yyyy-MM-ddThh:mm:ssO";exports.DATETIME_FORMAT="dd MM yyyy hh:mm:ss.SSS";exports.ABSOLUTETIME_FORMAT="hh:mm:ss.SSS";function padWithZeros(vNumber,width){var numAsString=vNumber+"";while(numAsString.length<width){numAsString="0"+numAsString}return numAsString}function addZero(vNumber){return padWithZeros(vNumber,2)}function offset(timezoneOffset){var os=Math.abs(timezoneOffset);var h=String(Math.floor(os/60));var m=String(os%60);if(h.length==1){h="0"+h}if(m.length==1){m="0"+m}return timezoneOffset<0?"+"+h+m:"-"+h+m}exports.asString=function(date,timezoneOffset){var format=exports.ISO8601_FORMAT;if(typeof date==="string"){format=arguments[0];date=arguments[1];timezoneOffset=arguments[2]}if(timezoneOffset===undefined){timezoneOffset=date.getTimezoneOffset()}date.setUTCMinutes(date.getUTCMinutes()-timezoneOffset);var vDay=addZero(date.getUTCDate());var vMonth=addZero(date.getUTCMonth()+1);var vYearLong=addZero(date.getUTCFullYear());var vYearShort=addZero(date.getUTCFullYear().toString().substring(2,4));var vYear=format.indexOf("yyyy")>-1?vYearLong:vYearShort;var vHour=addZero(date.getUTCHours());var vMinute=addZero(date.getUTCMinutes());var vSecond=addZero(date.getUTCSeconds());var vMillisecond=padWithZeros(date.getUTCMilliseconds(),3);var vTimeZone=offset(timezoneOffset);date.setUTCMinutes(date.getUTCMinutes()+timezoneOffset);var formatted=format.replace(/dd/g,vDay).replace(/MM/g,vMonth).replace(/y{1,4}/g,vYear).replace(/hh/g,vHour).replace(/mm/g,vMinute).replace(/ss/g,vSecond).replace(/SSS/g,vMillisecond).replace(/O/g,vTimeZone);return formatted}},{}],11:[function(require,module,exports){(function(process){"use strict";var dateFormat=require("./date_format"),os=require("os"),eol=os.EOL||"\n",util=require("util"),replacementRegExp=/%[sdj]/g,layoutMakers={messagePassThrough:function(){return messagePassThroughLayout},basic:function(){return basicLayout},colored:function(){return colouredLayout},coloured:function(){return colouredLayout},pattern:function(config){return patternLayout(config&&config.pattern,config&&config.tokens)},dummy:function(){return dummyLayout}},colours={ALL:"grey",TRACE:"blue",DEBUG:"cyan",INFO:"green",WARN:"yellow",ERROR:"red",FATAL:"magenta",OFF:"grey"};function wrapErrorsWithInspect(items){return items.map(function(item){if(item instanceof Error&&item.stack){return{inspect:function(){return util.format(item)+"\n"+item.stack}}}else{return item}})}function formatLogData(logData){var data=Array.isArray(logData)?logData:Array.prototype.slice.call(arguments);return util.format.apply(util,wrapErrorsWithInspect(data))}var styles={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[90,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};function colorizeStart(style){return style?"["+styles[style][0]+"m":""}function colorizeEnd(style){return style?"["+styles[style][1]+"m":""}function colorize(str,style){return colorizeStart(style)+str+colorizeEnd(style)}function timestampLevelAndCategory(loggingEvent,colour,timezoneOffest){var output=colorize(formatLogData("[%s] [%s] %s - ",dateFormat.asString(loggingEvent.startTime,timezoneOffest),loggingEvent.level,loggingEvent.categoryName),colour);return output}function basicLayout(loggingEvent,timezoneOffset){return timestampLevelAndCategory(loggingEvent,undefined,timezoneOffset)+formatLogData(loggingEvent.data)}function colouredLayout(loggingEvent,timezoneOffset){return timestampLevelAndCategory(loggingEvent,colours[loggingEvent.level.toString()],timezoneOffset)+formatLogData(loggingEvent.data)}function messagePassThroughLayout(loggingEvent){return formatLogData(loggingEvent.data)}function dummyLayout(loggingEvent){return loggingEvent.data[0]}function patternLayout(pattern,tokens,timezoneOffset){var TTCC_CONVERSION_PATTERN="%r %p %c - %m%n";var regex=/%(-?[0-9]+)?(\.?[0-9]+)?([\[\]cdhmnprzxy%])(\{([^\}]+)\})?|([^%]+)/;pattern=pattern||TTCC_CONVERSION_PATTERN;function categoryName(loggingEvent,specifier){var loggerName=loggingEvent.categoryName;if(specifier){var precision=parseInt(specifier,10);var loggerNameBits=loggerName.split(".");if(precision<loggerNameBits.length){loggerName=loggerNameBits.slice(loggerNameBits.length-precision).join(".")}}return loggerName}function formatAsDate(loggingEvent,specifier){var format=dateFormat.ISO8601_FORMAT;if(specifier){format=specifier;if(format=="ISO8601"){format=dateFormat.ISO8601_FORMAT}else if(format=="ISO8601_WITH_TZ_OFFSET"){format=dateFormat.ISO8601_WITH_TZ_OFFSET_FORMAT}else if(format=="ABSOLUTE"){format=dateFormat.ABSOLUTETIME_FORMAT}else if(format=="DATE"){format=dateFormat.DATETIME_FORMAT}}return dateFormat.asString(format,loggingEvent.startTime,timezoneOffset)}function hostname(){return os.hostname().toString()}function formatMessage(loggingEvent){return formatLogData(loggingEvent.data)}function endOfLine(){return eol}function logLevel(loggingEvent){return loggingEvent.level.toString()}function startTime(loggingEvent){return dateFormat.asString("hh:mm:ss",loggingEvent.startTime,timezoneOffset)}function startColour(loggingEvent){return colorizeStart(colours[loggingEvent.level.toString()])}function endColour(loggingEvent){return colorizeEnd(colours[loggingEvent.level.toString()])}function percent(){return"%"}function pid(loggingEvent){if(loggingEvent&&loggingEvent.pid){return loggingEvent.pid}else{return process.pid}}function clusterInfo(loggingEvent,specifier){if(loggingEvent.cluster&&specifier){return specifier.replace("%m",loggingEvent.cluster.master).replace("%w",loggingEvent.cluster.worker).replace("%i",loggingEvent.cluster.workerId)}else if(loggingEvent.cluster){return loggingEvent.cluster.worker+"@"+loggingEvent.cluster.master}else{return pid()}}function userDefined(loggingEvent,specifier){if(typeof tokens[specifier]!=="undefined"){if(typeof tokens[specifier]==="function"){return tokens[specifier](loggingEvent)}else{return tokens[specifier]}}return null}var replacers={c:categoryName,d:formatAsDate,h:hostname,m:formatMessage,n:endOfLine,p:logLevel,r:startTime,"[":startColour,"]":endColour,y:clusterInfo,z:pid,"%":percent,x:userDefined};function replaceToken(conversionCharacter,loggingEvent,specifier){return replacers[conversionCharacter](loggingEvent,specifier)}function truncate(truncation,toTruncate){var len;if(truncation){len=parseInt(truncation.substr(1),10);return toTruncate.substring(0,len)}return toTruncate}function pad(padding,toPad){var len;if(padding){if(padding.charAt(0)=="-"){len=parseInt(padding.substr(1),10);while(toPad.length<len){toPad+=" "}}else{len=parseInt(padding,10);while(toPad.length<len){toPad=" "+toPad}}}return toPad}return function(loggingEvent){var formattedString="";var result;var searchString=pattern;while(result=regex.exec(searchString)){var matchedString=result[0];var padding=result[1];var truncation=result[2];var conversionCharacter=result[3];var specifier=result[5];var text=result[6];if(text){formattedString+=""+text}else{var replacement=replaceToken(conversionCharacter,loggingEvent,specifier);replacement=truncate(truncation,replacement);replacement=pad(padding,replacement);formattedString+=replacement}searchString=searchString.substr(result.index+result[0].length)}return formattedString}}module.exports={basicLayout:basicLayout,messagePassThroughLayout:messagePassThroughLayout,patternLayout:patternLayout,colouredLayout:colouredLayout,coloredLayout:colouredLayout,dummyLayout:dummyLayout,addLayout:function(name,serializerGenerator){layoutMakers[name]=serializerGenerator},layout:function(name,config){return layoutMakers[name]&&layoutMakers[name](config)}}}).call(this,require("_process"))},{"./date_format":10,_process:123,os:116,util:125}],12:[function(require,module,exports){"use strict";function Level(level,levelStr){this.level=level;this.levelStr=levelStr}function toLevel(sArg,defaultLevel){if(!sArg){return defaultLevel}if(typeof sArg==="string"){return module.exports[sArg.toUpperCase()]||defaultLevel}return toLevel(sArg.toString())}Level.prototype.toString=function(){return this.levelStr};Level.prototype.isLessThanOrEqualTo=function(otherLevel){if(typeof otherLevel==="string"){otherLevel=toLevel(otherLevel)}return this.level<=otherLevel.level};Level.prototype.isGreaterThanOrEqualTo=function(otherLevel){if(typeof otherLevel==="string"){otherLevel=toLevel(otherLevel)}return this.level>=otherLevel.level};Level.prototype.isEqualTo=function(otherLevel){if(typeof otherLevel=="string"){otherLevel=toLevel(otherLevel)}return this.level===otherLevel.level};module.exports={ALL:new Level(Number.MIN_VALUE,"ALL"),TRACE:new Level(5e3,"TRACE"),DEBUG:new Level(1e4,"DEBUG"),INFO:new Level(2e4,"INFO"),WARN:new Level(3e4,"WARN"),ERROR:new Level(4e4,"ERROR"),FATAL:new Level(5e4,"FATAL"),MARK:new Level(9007199254740992,"MARK"),OFF:new Level(Number.MAX_VALUE,"OFF"),toLevel:toLevel}},{}],13:[function(require,module,exports){(function(process){"use strict";var events=require("events"),fs=require("fs"),path=require("path"),util=require("util"),layouts=require("./layouts"),levels=require("./levels"),loggerModule=require("./logger"),LoggingEvent=loggerModule.LoggingEvent,Logger=loggerModule.Logger,ALL_CATEGORIES="[all]",appenders={},loggers={},appenderMakers={},appenderShutdowns={},defaultConfig={appenders:[{type:"console"}],replaceConsole:false};require("./appenders/console");function hasLogger(logger){return loggers.hasOwnProperty(logger)}function getBufferedLogger(categoryName){var base_logger=getLogger(categoryName);var logger={};logger.temp=[];logger.target=base_logger;logger.flush=function(){for(var i=0;i<logger.temp.length;i++){var log=logger.temp[i];logger.target[log.level](log.message);delete logger.temp[i]}};logger.trace=function(message){logger.temp.push({level:"trace",message:message})};logger.debug=function(message){logger.temp.push({level:"debug",message:message})};logger.info=function(message){logger.temp.push({level:"info",message:message})};logger.warn=function(message){logger.temp.push({level:"warn",message:message})};logger.error=function(message){logger.temp.push({level:"error",message:message})};logger.fatal=function(message){logger.temp.push({level:"fatal",message:message})};return logger}function normalizeCategory(category){return category+"."}function doesLevelEntryContainsLogger(levelCategory,loggerCategory){var normalizedLevelCategory=normalizeCategory(levelCategory);var normalizedLoggerCategory=normalizeCategory(loggerCategory);return normalizedLoggerCategory.substring(0,normalizedLevelCategory.length)==normalizedLevelCategory}function doesAppenderContainsLogger(appenderCategory,loggerCategory){var normalizedAppenderCategory=normalizeCategory(appenderCategory);var normalizedLoggerCategory=normalizeCategory(loggerCategory);return normalizedLoggerCategory.substring(0,normalizedAppenderCategory.length)==normalizedAppenderCategory}function getLogger(loggerCategoryName){if(typeof loggerCategoryName!=="string"){loggerCategoryName=Logger.DEFAULT_CATEGORY}if(!hasLogger(loggerCategoryName)){var level=undefined;if(levels.config){var keys=Object.keys(levels.config).sort();for(var idx=0;idx<keys.length;idx++){var levelCategory=keys[idx];if(doesLevelEntryContainsLogger(levelCategory,loggerCategoryName)){level=levels.config[levelCategory]}}}loggers[loggerCategoryName]=new Logger(loggerCategoryName,level);var appenderList;for(var appenderCategory in appenders){if(doesAppenderContainsLogger(appenderCategory,loggerCategoryName)){appenderList=appenders[appenderCategory];appenderList.forEach(function(appender){loggers[loggerCategoryName].addListener("log",appender)})}}if(appenders[ALL_CATEGORIES]){appenderList=appenders[ALL_CATEGORIES];appenderList.forEach(function(appender){loggers[loggerCategoryName].addListener("log",appender)})}}return loggers[loggerCategoryName]}function addAppender(){var args=Array.prototype.slice.call(arguments);var appender=args.shift();if(args.length===0||args[0]===undefined){args=[ALL_CATEGORIES]}if(Array.isArray(args[0])){args=args[0]}args.forEach(function(appenderCategory){addAppenderToCategory(appender,appenderCategory);if(appenderCategory===ALL_CATEGORIES){addAppenderToAllLoggers(appender)}else{for(var loggerCategory in loggers){if(doesAppenderContainsLogger(appenderCategory,loggerCategory)){loggers[loggerCategory].addListener("log",appender)}}}})}function addAppenderToAllLoggers(appender){for(var logger in loggers){if(hasLogger(logger)){loggers[logger].addListener("log",appender)}}}function addAppenderToCategory(appender,category){if(!appenders[category]){appenders[category]=[]}appenders[category].push(appender)}function clearAppenders(){appenders={};for(var logger in loggers){if(hasLogger(logger)){loggers[logger].removeAllListeners("log")}}}function configureAppenders(appenderList,options){clearAppenders();
if(appenderList){appenderList.forEach(function(appenderConfig){loadAppender(appenderConfig.type);var appender;appenderConfig.makers=appenderMakers;try{appender=appenderMakers[appenderConfig.type](appenderConfig,options);addAppender(appender,appenderConfig.category)}catch(e){throw new Error("log4js configuration problem for "+util.inspect(appenderConfig),e)}})}}function configureLevels(_levels){levels.config=_levels;if(_levels){var keys=Object.keys(levels.config).sort();for(var idx in keys){var category=keys[idx];if(category===ALL_CATEGORIES){setGlobalLogLevel(_levels[category])}for(var loggerCategory in loggers){if(doesLevelEntryContainsLogger(category,loggerCategory)){loggers[loggerCategory].setLevel(_levels[category])}}}}}function setGlobalLogLevel(level){Logger.prototype.level=levels.toLevel(level,levels.TRACE)}function getDefaultLogger(){return getLogger(Logger.DEFAULT_CATEGORY)}var configState={};function loadConfigurationFile(filename){if(filename){return JSON.parse(fs.readFileSync(filename,"utf8"))}return undefined}function configureOnceOff(config,options){if(config){try{configureLevels(config.levels);configureAppenders(config.appenders,options);if(config.replaceConsole){replaceConsole()}else{restoreConsole()}}catch(e){throw new Error("Problem reading log4js config "+util.inspect(config)+'. Error was "'+e.message+'" ('+e.stack+")")}}}function reloadConfiguration(options){var mtime=getMTime(configState.filename);if(!mtime)return;if(configState.lastMTime&&mtime.getTime()>configState.lastMTime.getTime()){configureOnceOff(loadConfigurationFile(configState.filename),options)}configState.lastMTime=mtime}function getMTime(filename){var mtime;try{mtime=fs.statSync(configState.filename).mtime}catch(e){getLogger("log4js").warn("Failed to load configuration file "+filename)}return mtime}function initReloadConfiguration(filename,options){if(configState.timerId){clearInterval(configState.timerId);delete configState.timerId}configState.filename=filename;configState.lastMTime=getMTime(filename);configState.timerId=setInterval(reloadConfiguration,options.reloadSecs*1e3,options)}function configure(configurationFileOrObject,options){var config=configurationFileOrObject;config=config||process.env.LOG4JS_CONFIG;options=options||{};if(config===undefined||config===null||typeof config==="string"){if(options.reloadSecs){initReloadConfiguration(config,options)}config=loadConfigurationFile(config)||defaultConfig}else{if(options.reloadSecs){getLogger("log4js").warn('Ignoring configuration reload parameter for "object" configuration.')}}configureOnceOff(config,options)}var originalConsoleFunctions={log:console.log,debug:console.debug,info:console.info,warn:console.warn,error:console.error};function replaceConsole(logger){function replaceWith(fn){return function(){fn.apply(logger,arguments)}}logger=logger||getLogger("console");["log","debug","info","warn","error"].forEach(function(item){console[item]=replaceWith(item==="log"?logger.info:logger[item])})}function restoreConsole(){["log","debug","info","warn","error"].forEach(function(item){console[item]=originalConsoleFunctions[item]})}function requireAppender(appender){var appenderModule;try{appenderModule=require("./appenders/"+appender)}catch(e){appenderModule=require(appender)}return appenderModule}function loadAppender(appender,appenderModule){appenderModule=appenderModule||requireAppender(appender);if(!appenderModule){throw new Error("Invalid log4js appender: "+util.inspect(appender))}module.exports.appenders[appender]=appenderModule.appender.bind(appenderModule);if(appenderModule.shutdown){appenderShutdowns[appender]=appenderModule.shutdown.bind(appenderModule)}appenderMakers[appender]=appenderModule.configure.bind(appenderModule)}function shutdown(cb){loggerModule.disableAllLogWrites();var completed=0;var error;var shutdownFcts=[];var complete=function(err){error=error||err;completed++;if(completed>=shutdownFcts.length){cb(error)}};for(var category in appenderShutdowns){if(appenderShutdowns.hasOwnProperty(category)){shutdownFcts.push(appenderShutdowns[category])}}if(!shutdownFcts.length){return cb()}shutdownFcts.forEach(function(shutdownFct){shutdownFct(complete)})}module.exports={getBufferedLogger:getBufferedLogger,getLogger:getLogger,getDefaultLogger:getDefaultLogger,hasLogger:hasLogger,addAppender:addAppender,loadAppender:loadAppender,clearAppenders:clearAppenders,configure:configure,shutdown:shutdown,replaceConsole:replaceConsole,restoreConsole:restoreConsole,levels:levels,setGlobalLogLevel:setGlobalLogLevel,layouts:layouts,appenders:{},appenderMakers:appenderMakers,connectLogger:require("./connect-logger").connectLogger};configure()}).call(this,require("_process"))},{"./appenders/console":8,"./connect-logger":9,"./layouts":11,"./levels":12,"./logger":14,_process:123,events:119,fs:114,path:122,util:125}],14:[function(require,module,exports){"use strict";var levels=require("./levels"),util=require("util"),events=require("events"),DEFAULT_CATEGORY="[default]";var logWritesEnabled=true;function LoggingEvent(categoryName,level,data,logger){this.startTime=new Date;this.categoryName=categoryName;this.data=data;this.level=level;this.logger=logger}function Logger(name,level){this.category=name||DEFAULT_CATEGORY;if(level){this.setLevel(level)}}util.inherits(Logger,events.EventEmitter);Logger.DEFAULT_CATEGORY=DEFAULT_CATEGORY;Logger.prototype.level=levels.TRACE;Logger.prototype.setLevel=function(level){this.level=levels.toLevel(level,this.level||levels.TRACE)};Logger.prototype.removeLevel=function(){delete this.level};Logger.prototype.log=function(){var logLevel=levels.toLevel(arguments[0],levels.INFO);if(!this.isLevelEnabled(logLevel)){return}var numArgs=arguments.length-1;var args=new Array(numArgs);for(var i=0;i<numArgs;i++){args[i]=arguments[i+1]}this._log(logLevel,args)};Logger.prototype.isLevelEnabled=function(otherLevel){return this.level.isLessThanOrEqualTo(otherLevel)};["Trace","Debug","Info","Warn","Error","Fatal","Mark"].forEach(function(levelString){var level=levels.toLevel(levelString);Logger.prototype["is"+levelString+"Enabled"]=function(){return this.isLevelEnabled(level)};Logger.prototype[levelString.toLowerCase()]=function(){if(logWritesEnabled&&this.isLevelEnabled(level)){var numArgs=arguments.length;var args=new Array(numArgs);for(var i=0;i<numArgs;i++){args[i]=arguments[i]}this._log(level,args)}}});Logger.prototype._log=function(level,data){var loggingEvent=new LoggingEvent(this.category,level,data,this);this.emit("log",loggingEvent)};function disableAllLogWrites(){logWritesEnabled=false}function enableAllLogWrites(){logWritesEnabled=true}exports.LoggingEvent=LoggingEvent;exports.Logger=Logger;exports.disableAllLogWrites=disableAllLogWrites;exports.enableAllLogWrites=enableAllLogWrites},{"./levels":12,events:119,util:125}],15:[function(require,module,exports){var _=require("underscore")._;var Sentences=function(pos,callback){this.posObj=pos;this.senType=null;callback(this)};Sentences.prototype.part=function(callback){var subject=[],predicat=[],verbFound=false;this.prepositionPhrases();for(var i=0;i<this.posObj.tags.length;i++){if(this.posObj.tags[i].pos=="VB"){if(i===0){verbFound=true}else{if(this.posObj.tags[i-1].pos!="EX"){verbFound=true}else{predicat.push(this.posObj.tags[i].token)}}}if(!verbFound){if(this.posObj.tags[i].pp!=true)this.posObj.tags[i].spos="SP";subject.push(this.posObj.tags[i].token)}else{if(this.posObj.tags[i].pp!=true)this.posObj.tags[i].spos="PP";predicat.push(this.posObj.tags[i].token)}}if(subject.length==0){this.posObj.tags.push({token:"You",spos:"SP",pos:"PRP",added:true})}callback(this)};Sentences.prototype.prepositionPhrases=function(){var remove=false;for(var i=0;i<this.posObj.tags.length;i++){if(this.posObj.tags[i].pos.match("IN")){remove=true}if(remove){this.posObj.tags[i].pp=true}if(this.posObj.tags[i].pos.match("NN")){remove=false}}};Sentences.prototype.subjectToString=function(){return this.posObj.tags.map(function(t){if(t.spos=="SP"||t.spos=="S")return t.token}).join(" ")};Sentences.prototype.predicateToString=function(){return this.posObj.tags.map(function(t){if(t.spos=="PP"||t.spos=="P")return t.token}).join(" ")};Sentences.prototype.implicitYou=function(){for(var i=0;i<this.posObj.tags.length;i++){if(this.posObj.tags[i].added){return true}}return false};Sentences.prototype.toString=function(){return this.posObj.tags.map(function(t){return t.token}).join(" ")};Sentences.prototype.type=function(callback){var callback=callback||false;var implicitYou=this.implicitYou();var lastElement=this.posObj.punct();lastElement=lastElement.length!=0?lastElement.pop():this.posObj.tags.pop();if(lastElement.pos!=="."){if(implicitYou){this.senType="COMMAND"}else if(_(["WDT","WP","WP$","WRB"]).contains(this.posObj.tags[0].pos)){this.senType="INTERROGATIVE"}else if(_(["PRP"]).contains(lastElement.pos)){this.senType="INTERROGATIVE"}else{this.senType="UNKNOWN"}}else{switch(lastElement.token){case"?":this.senType="INTERROGATIVE";break;case"!":this.senType=implicitYou?"COMMAND":"EXCLAMATORY";break;case".":this.senType=implicitYou?"COMMAND":"DECLARATIVE";break}}if(callback&&_(callback).isFunction()){callback(this)}else{return this.senType}};module.exports=Sentences},{underscore:113}],16:[function(require,module,exports){var log4js=require("log4js");var logger=log4js.getLogger();var fs=require("fs");var TF_Parser=require("./TF_Parser");logger.setLevel("WARN");Brill_POS_Tagger.prototype.tag=function(sentence){var tagged_sentence=new Array(sentence.length);for(var i=0,size=sentence.length;i<size;i++){var ss=this.lexicon[sentence[i]];if(!ss){ss=this.lexicon[sentence[i].toLowerCase()]}tagged_sentence[i]=[];tagged_sentence[i][0]=sentence[i];if(!ss){tagged_sentence[i][1]=this.default_category}else{tagged_sentence[i][1]=ss[0]}}for(var i=0,size=sentence.length;i<size;i++){this.transformation_rules.forEach(function(rule){rule.apply(tagged_sentence,i)})}return tagged_sentence};Brill_POS_Tagger.prototype.parse_lexicon=function(data){var that=this;var arrayOfLines=data.match(/[^\r\n]+/g);this.lexicon={};arrayOfLines.forEach(function(line){var elements=line.trim().split(/\s+/);if(elements.length>0){that.lexicon[elements[0]]=elements.slice(1)}})};Brill_POS_Tagger.prototype.read_lexicon=function(lexicon_file,callback){var that=this;fs.readFile(lexicon_file,"utf8",function(error,data){if(error){logger.error(error);callback(error)}else{if(data[0]==="{"){that.lexicon=JSON.parse(data);callback()}else{that.parse_lexicon(data);callback()}logger.debug("Brill_POS_Tagger.read_lexicon: number of lexicon entries read: "+Object.keys(that.lexicon).length)}})};Brill_POS_Tagger.prototype.read_transformation_rules=function(rules_file,callback){var that=this;fs.readFile(rules_file,"utf8",function(err,data){if(err){logger.error(error);callback(err)}else{that.transformation_rules=TF_Parser.parse(data);logger.debug(that.transformation_rules);logger.debug("Brill_POS_Tagger.read_transformation_rules: number of transformation rules read: "+that.transformation_rules.length);callback()}})};function Brill_POS_Tagger(lexicon_file,rules_file,default_category,callback){var that=this;this.default_category=default_category;this.read_lexicon(lexicon_file,function(error){if(error){callback(error)}else{that.read_transformation_rules(rules_file,function(error){if(error){callback(error)}else{callback()}})}})}module.exports=Brill_POS_Tagger},{"./TF_Parser":18,fs:114,log4js:13}],17:[function(require,module,exports){var log4js=require("log4js");var logger=log4js.getLogger();logger.setLevel("WARN");var predicates={"NEXT-TAG":next_tag_is,"NEXT-WORD-IS-CAP":next_word_is_cap,"PREV-1-OR-2-OR-3-TAG":prev_1_or_2_or_3_tag,"PREV-1-OR-2-TAG":prev_1_or_2_tag,"NEXT-WORD-IS-TAG":next_tag_is,"PREV-TAG":prev_tag_is,"CURRENT-WORD-IS-TAG":current_word_is_tag,"PREV-WORD-IS-CAP":prev_word_is_cap,"CURRENT-WORD-IS-CAP":current_word_is_cap,"CURRENT-WORD-IS-NUMBER":current_word_is_number,"CURRENT-WORD-IS-URL":current_word_is_url,"CURRENT-WORD-ENDS-WITH":current_word_ends_with,"PREV-WORD-IS":prev_word_is,PREVTAG:prev_tag_is,NEXT1OR2TAG:next_1_or_2_tag_is,NEXTTAG:next_tag_is,PREV1OR2TAG:prev_1_or_2_tag,WDAND2TAGAFT:current_word_and_2_tag_after_are,NEXT1OR2OR3TAG:next_1_or_2_or_3_tag,CURWD:current_word_is,SURROUNDTAG:surrounded_by_tags,PREV1OR2OR3TAG:prev_1_or_2_or_3_tag,WDNEXTTAG:current_word_and_next_tag_are,PREV1OR2WD:prev_1_or_2_word_is,NEXTWD:next_word_is,PREVWD:prev_word_is,NEXT2TAG:next_2_tag_is,WDAND2TAGBFR:current_word_and_2_tag_before_are,WDAND2AFT:current_word_and_2_after_are,WDPREVTAG:current_word_and_prev_tag_are,RBIGRAM:right_bigram_is,LBIGRAM:left_bigram_is,NEXTBIGRAM:next_bigram_is,PREVBIGRAM:prev_bigram_is,PREV2TAG:prev_2_tag_is,NEXT1OR2WD:next_1_or_2_word_is};function next_word_is_cap(tagged_sentence,i,parameter){if(i<tagged_sentence.length-1){var next_word=tagged_sentence[i+1][0];return next_word[0]===next_word[0].toUpperCase()}else{return false}}function next_word_is(tagged_sentence,i,parameter){if(i<tagged_sentence.length-1){return tagged_sentence[i+1][0]===parameter}}function prev_word_is_cap(tagged_sentence,i,parameter){var prev_word=null;if(i>0){prev_word=tagged_sentence[i-1][0];return prev_word[0]===prev_word[0].toUpperCase()}return false}function current_word_is_cap(tagged_sentence,i,parameter){var current_word=tagged_sentence[i][0];return current_word[0]===current_word[0].toUpperCase()}function current_word_is(tagged_sentence,i,parameter){return tagged_sentence[i][0]===parameter}function isNumeric(num){return!isNaN(num)}function current_word_is_number(tagged_sentence,i,parameter){var is_number=isNumeric(tagged_sentence[i][0]);if(!is_number){is_number=parseFloat(tagged_sentence[i][0])}return parameter==="YES"?is_number:!is_number}function current_word_is_url(tagged_sentence,i,parameter){var is_url=false;if(tagged_sentence[i][0].indexOf(".")>-1){if(/[a-zA-Z]{2}/.test(tagged_sentence[i][0])){is_url=true}}return parameter==="YES"?is_url:!is_url}function current_word_and_2_tag_after_are(tagged_sentence,i,parameter1,parameter2){if(i<tagged_sentence.length-2){if(tagged_sentence[i+2][1]===parameter2){return tagged_sentence[i][0]===parameter1}else{return false}}else{return false}}function current_word_and_next_tag_are(tagged_sentence,i,parameter1,parameter2){var next_tag=false;var current_word=tagged_sentence[i][0]===parameter1;if(i<tagged_sentence.length-1){next_tag=tagged_sentence[i+1][1]===parameter2}return current_word&&next_tag}function current_word_and_prev_tag_are(tagged_sentence,i,parameter1,parameter2){var prev_tag=false;var current_word=tagged_sentence[i][0]===parameter2;if(i>0){prev_tag=tagged_sentence[i-1][1]===parameter1}return current_word&&prev_tag}function current_word_and_2_tag_before_are(tagged_sentence,i,parameter1,parameter2){var two_tags_before=false;var current_word=tagged_sentence[i][0]===parameter2;if(i>1){two_tags_before=tagged_sentence[i-2][1]===parameter1}return current_word&&two_tags_before}function current_word_and_2_after_are(tagged_sentence,i,parameter1,parameter2){var two_words_after=false;var current_word=tagged_sentence[i][0]===parameter1;if(i<tagged_sentence-2){two_words_after=tagged_sentence[i+2][0]===parameter2}return current_word&&two_words_after}function prev_word_is(tagged_sentence,i,parameter){if(i>0){return tagged_sentence[i-1][0].toLowerCase()===parameter.toLowerCase()}else{return false}}function prev_1_or_2_word_is(tagged_sentence,i,parameter){var prev_1=false;var prev_2=false;if(i>0){prev_1=tagged_sentence[i-1][0].toLowerCase()===parameter.toLowerCase()}if(i>1){prev_2=tagged_sentence[i-2][0].toLowerCase()===parameter.toLowerCase()}return prev_1||prev_2}function current_word_ends_with(tagged_sentence,i,parameter){var word=tagged_sentence[i][0];if(!parameter||parameter.length>word.length){return false}return word.indexOf(parameter)===word.length-parameter.length}function right_bigram_is(tagged_sentence,i,parameter1,parameter2){var word_1=tagged_sentence[i][0]===parameter1;var word_2=false;if(i<tagged_sentence.length-1){word_2=tagged_sentence[i+1][0]===parameter2}return word_1&&word_2}function left_bigram_is(tagged_sentence,i,parameter1,parameter2){var word_1=false;var word_2=tagged_sentence[i][0]===parameter2;if(i>0){word_1=tagged_sentence[i-1][0]===parameter1}return word_1&&word_2}function next_bigram_is(tagged_sentence,i,parameter1,parameter2){var word_1=false;var word_2=false;if(i<tagged_sentence.length-1){word_1=tagged_sentence[i+1][0]===parameter1}if(i<tagged_sentence.length-2){word_2=tagged_sentence[i+2][0]===parameter2}return word_1&&word_2}function prev_bigram_is(tagged_sentence,i,parameter1,parameter2){var word_1=false;var word_2=false;if(i>1){word_1=tagged_sentence[i-2][0]===parameter1}if(i>0){word_2=tagged_sentence[i-1][0]===parameter2}return word_1&&word_2}function next_1_or_2_word_is(tagged_sentence,i,parameter1,parameter2){next_1=false;next_2=false;if(i<tagged_sentence.length-1){next_1=tagged_sentence[i+1][0]===parameter1}if(i<tagged_sentence.length-2){next_2=tagged_sentence[i+2][0]===parameter2}return next_1||next_2}function next_tag_is(tagged_sentence,i,parameter){if(i<tagged_sentence.length-1){return tagged_sentence[i+1][1]===parameter}else{return false}}function next_2_tag_is(tagged_sentence,i,parameter){if(i<tagged_sentence.length-2){return tagged_sentence[i+2][1]===parameter}else{return false}}function next_1_or_2_tag_is(tagged_sentence,i,parameter){var next_1=false;var next_2=false;if(i<tagged_sentence.length-1){next_1=tagged_sentence[i+1][1]===parameter}if(i<tagged_sentence.length-2){next_2=tagged_sentence[i+2][1]===parameter}return next_1||next_2}function next_1_or_2_or_3_tag(tagged_sentence,i,parameter){var next_1=false;var next_2=false;var next_3=false;if(i<tagged_sentence.length-1){next_1=tagged_sentence[i+1][1]===parameter}if(i<tagged_sentence.length-2){next_2=tagged_sentence[i+2][1]===parameter}if(i<tagged_sentence.length-3){next_3=tagged_sentence[i+3][1]===parameter}return next_1||next_2||next_3}function surrounded_by_tags(tagged_sentence,i,parameter1,parameter2){if(i<tagged_sentence.length-1){if(tagged_sentence[i+1][1]===parameter2){if(i>0){return tagged_sentence[i-1][1]===parameter1}else{return false}}else{return false}}else{return false}}function prev_1_or_2_or_3_tag(tagged_sentence,i,parameter){var prev_1=null;if(i>0){prev_1=tagged_sentence[i-1][1]}var prev_2=null;if(i>1){prev_2=tagged_sentence[i-2][1]}var prev_3=null;if(i>2){prev_3=tagged_sentence[i-2][1]}return prev_1===parameter||prev_2===parameter||prev_3===parameter}function prev_1_or_2_tag(tagged_sentence,i,parameter){var prev_1=null;if(i>0){prev_1=tagged_sentence[i-1][1]}var prev_2=null;if(i>1){prev_2=tagged_sentence[i-2][1]}return prev_1===parameter||prev_2===parameter}function prev_tag_is(tagged_sentence,i,parameter){var prev=false;if(i>0){prev=tagged_sentence[i-1][1]===parameter}return prev}function current_word_is_tag(tagged_sentence,i,parameter){return tagged_sentence[i][0]===parameter}function prev_2_tag_is(tagged_sentence,i,parameter){var prev_2=false;if(i>1){prev_2=tagged_sentence[i-2][1]===parameter}return prev_2}function default_transformation_rule(tagged_sentence,i,parameter){return false}function Predicate(name,parameter1,parameter2){this.name=name;this.parameter1=parameter1;if(parameter2){this.parameter2=parameter2}this.function=predicates[name];if(!this.function){this.predicate=default_transformation_rule;logger.warn("Predicate constructor: predicate not found: "+name+"; using default")}logger.debug(this.name);logger.debug(this.function)}Predicate.prototype.evaluate=function(tagged_sentence,position){return this.function(tagged_sentence,position,this.parameter1,this.parameter2)};module.exports=Predicate},{log4js:13}],18:[function(require,module,exports){module.exports=function(){function peg$subclass(child,parent){function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor}function SyntaxError(message,expected,found,offset,line,column){this.message=message;this.expected=expected;this.found=found;this.offset=offset;this.line=line;this.column=column;this.name="SyntaxError"}peg$subclass(SyntaxError,Error);function parse(input){var options=arguments.length>1?arguments[1]:{},peg$FAILED={},peg$startRuleFunctions={transformation_rules:peg$parsetransformation_rules},peg$startRuleFunction=peg$parsetransformation_rules,peg$c0=[],peg$c1=peg$FAILED,peg$c2=function(rules){var result=[];for(var i=0;i<rules.length;i++){result.push(rules[i][1])}return result},peg$c3=null,peg$c4=function(c1,c2,pred,par1,par2){var result=new TransformationRule(c1,c2,pred,par1,par2);return result},peg$c5=/^[a-zA-Z_0-9_\-.,()]/,peg$c6={type:"class",value:"[a-zA-Z_0-9_\\-.,()]",description:"[a-zA-Z_0-9_\\-.,()]"},peg$c7=function(characters){var s="";for(var i=0;i<characters.length;i++){s+=characters[i]}return s},peg$c8="*",peg$c9={type:"literal",value:"*",description:'"*"'},peg$c10=function(wc){return wc},peg$c11="\r\n",peg$c12={type:"literal",value:"\r\n",description:'"\\r\\n"'},peg$c13="\n",peg$c14={type:"literal",value:"\n",description:'"\\n"'},peg$c15="\r",peg$c16={type:"literal",value:"\r",description:'"\\r"'},peg$c17="//",peg$c18={type:"literal",value:"//",description:'"//"'},peg$c19=void 0,peg$c20={type:"any",description:"any character"},peg$c21=" ",peg$c22={type:"literal",value:" ",description:'" "'},peg$c23="	",peg$c24={type:"literal",value:"	",description:'"\\t"'},peg$currPos=0,peg$reportedPos=0,peg$cachedPos=0,peg$cachedPosDetails={line:1,column:1,seenCR:false},peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0,peg$result;if("startRule"in options){if(!(options.startRule in peg$startRuleFunctions)){throw new Error("Can't start parsing from rule \""+options.startRule+'".')}peg$startRuleFunction=peg$startRuleFunctions[options.startRule]}function text(){return input.substring(peg$reportedPos,peg$currPos)}function offset(){return peg$reportedPos}function line(){return peg$computePosDetails(peg$reportedPos).line}function column(){return peg$computePosDetails(peg$reportedPos).column}function expected(description){throw peg$buildException(null,[{type:"other",description:description}],peg$reportedPos)}function error(message){throw peg$buildException(message,null,peg$reportedPos)}function peg$computePosDetails(pos){function advance(details,startPos,endPos){var p,ch;for(p=startPos;p<endPos;p++){ch=input.charAt(p);if(ch==="\n"){if(!details.seenCR){details.line++}details.column=1;details.seenCR=false}else if(ch==="\r"||ch==="\u2028"||ch==="\u2029"){details.line++;details.column=1;details.seenCR=true}else{details.column++;details.seenCR=false}}}if(peg$cachedPos!==pos){if(peg$cachedPos>pos){peg$cachedPos=0;peg$cachedPosDetails={line:1,column:1,seenCR:false}}advance(peg$cachedPosDetails,peg$cachedPos,pos);peg$cachedPos=pos}return peg$cachedPosDetails}function peg$fail(expected){if(peg$currPos<peg$maxFailPos){return}if(peg$currPos>peg$maxFailPos){peg$maxFailPos=peg$currPos;peg$maxFailExpected=[]}peg$maxFailExpected.push(expected)}function peg$buildException(message,expected,pos){function cleanupExpected(expected){var i=1;expected.sort(function(a,b){if(a.description<b.description){return-1}else if(a.description>b.description){return 1}else{return 0}});while(i<expected.length){if(expected[i-1]===expected[i]){expected.splice(i,1)}else{i++}}}function buildMessage(expected,found){function stringEscape(s){function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(ch){return"\\x0"+hex(ch)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(ch){return"\\x"+hex(ch)}).replace(/[\u0180-\u0FFF]/g,function(ch){return"\\u0"+hex(ch)}).replace(/[\u1080-\uFFFF]/g,function(ch){return"\\u"+hex(ch)})}var expectedDescs=new Array(expected.length),expectedDesc,foundDesc,i;for(i=0;i<expected.length;i++){expectedDescs[i]=expected[i].description}expectedDesc=expected.length>1?expectedDescs.slice(0,-1).join(", ")+" or "+expectedDescs[expected.length-1]:expectedDescs[0];foundDesc=found?'"'+stringEscape(found)+'"':"end of input";return"Expected "+expectedDesc+" but "+foundDesc+" found."}var posDetails=peg$computePosDetails(pos),found=pos<input.length?input.charAt(pos):null;if(expected!==null){cleanupExpected(expected)}return new SyntaxError(message!==null?message:buildMessage(expected,found),expected,found,pos,posDetails.line,posDetails.column)}function peg$parsetransformation_rules(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=[];s2=peg$currPos;s3=peg$parseS();if(s3!==peg$FAILED){s4=peg$parsetransformation_rule();if(s4!==peg$FAILED){s5=peg$parseS();if(s5!==peg$FAILED){s3=[s3,s4,s5];s2=s3}else{peg$currPos=s2;s2=peg$c1}}else{peg$currPos=s2;s2=peg$c1}}else{peg$currPos=s2;s2=peg$c1}if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$currPos;s3=peg$parseS();if(s3!==peg$FAILED){s4=peg$parsetransformation_rule();if(s4!==peg$FAILED){s5=peg$parseS();if(s5!==peg$FAILED){s3=[s3,s4,s5];s2=s3}else{peg$currPos=s2;s2=peg$c1}}else{peg$currPos=s2;s2=peg$c1}}else{peg$currPos=s2;s2=peg$c1}}}else{s1=peg$c1}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c2(s1)}s0=s1;return s0}function peg$parsetransformation_rule(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parsecategory1();if(s1!==peg$FAILED){s2=peg$parseidentifier();if(s2!==peg$FAILED){s3=peg$parseidentifier();if(s3!==peg$FAILED){s4=peg$parseidentifier();if(s4!==peg$FAILED){s5=peg$parseidentifier();if(s5===peg$FAILED){s5=peg$c3}if(s5!==peg$FAILED){peg$reportedPos=s0;s1=peg$c4(s1,s2,s3,s4,s5);s0=s1}else{peg$currPos=s0;s0=peg$c1}}else{peg$currPos=s0;s0=peg$c1}}else{peg$currPos=s0;s0=peg$c1}}else{peg$currPos=s0;s0=peg$c1}}else{peg$currPos=s0;s0=peg$c1}return s0}function peg$parsecategory1(){var s0;s0=peg$parsewild_card();if(s0===peg$FAILED){s0=peg$parseidentifier()}return s0}function peg$parseidentifier(){var s0,s1,s2;s0=peg$currPos;s1=[];if(peg$c5.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6)}}if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);if(peg$c5.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6)}}}}else{s1=peg$c1}if(s1!==peg$FAILED){s2=peg$parseS_no_eol();if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c7(s1);s0=s1}else{peg$currPos=s0;s0=peg$c1}}else{peg$currPos=s0;s0=peg$c1}return s0}function peg$parsewild_card(){var s0,s1,s2;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===42){s1=peg$c8;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c9)}}if(s1!==peg$FAILED){s2=peg$parseS_no_eol();if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c10(s1);s0=s1}else{peg$currPos=s0;s0=peg$c1}}else{peg$currPos=s0;s0=peg$c1}return s0}function peg$parseEOL(){var s0;if(input.substr(peg$currPos,2)===peg$c11){s0=peg$c11;peg$currPos+=2}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c12)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===10){s0=peg$c13;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c14)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===13){s0=peg$c15;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c16)}}}}return s0}function peg$parseComment(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c17){s1=peg$c17;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c18)}}if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$currPos;peg$silentFails++;s5=peg$parseEOL();peg$silentFails--;if(s5===peg$FAILED){s4=peg$c19}else{peg$currPos=s4;s4=peg$c1}if(s4!==peg$FAILED){if(input.length>peg$currPos){s5=input.charAt(peg$currPos);peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c20)}}if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$c1}}else{peg$currPos=s3;s3=peg$c1}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$currPos;peg$silentFails++;s5=peg$parseEOL();peg$silentFails--;if(s5===peg$FAILED){s4=peg$c19}else{peg$currPos=s4;s4=peg$c1}if(s4!==peg$FAILED){if(input.length>peg$currPos){s5=input.charAt(peg$currPos);peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c20)}}if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$c1}}else{peg$currPos=s3;s3=peg$c1}}if(s2!==peg$FAILED){s3=peg$parseEOL();if(s3===peg$FAILED){s3=peg$parseEOI()}if(s3!==peg$FAILED){s1=[s1,s2,s3];s0=s1}else{peg$currPos=s0;s0=peg$c1}}else{peg$currPos=s0;s0=peg$c1}}else{peg$currPos=s0;s0=peg$c1}return s0}function peg$parseS(){var s0,s1;s0=[];if(input.charCodeAt(peg$currPos)===32){s1=peg$c21;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22)}}if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===9){s1=peg$c23;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c24)}}if(s1===peg$FAILED){s1=peg$parseEOL();if(s1===peg$FAILED){s1=peg$parseComment()}}}while(s1!==peg$FAILED){s0.push(s1);if(input.charCodeAt(peg$currPos)===32){s1=peg$c21;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22)}}if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===9){s1=peg$c23;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c24)}}if(s1===peg$FAILED){s1=peg$parseEOL();if(s1===peg$FAILED){s1=peg$parseComment()}}}}return s0}function peg$parseS_no_eol(){var s0,s1;s0=[];if(input.charCodeAt(peg$currPos)===32){s1=peg$c21;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22)}}if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===9){s1=peg$c23;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c24)}}if(s1===peg$FAILED){s1=peg$parseComment()}}while(s1!==peg$FAILED){s0.push(s1);if(input.charCodeAt(peg$currPos)===32){s1=peg$c21;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22)}}if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===9){s1=peg$c23;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c24)}}if(s1===peg$FAILED){s1=peg$parseComment()}}}return s0}function peg$parseEOI(){var s0,s1;s0=peg$currPos;peg$silentFails++;if(input.length>peg$currPos){s1=input.charAt(peg$currPos);peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c20)}}peg$silentFails--;if(s1===peg$FAILED){s0=peg$c19}else{peg$currPos=s0;s0=peg$c1}return s0}var TransformationRule=require("./TransformationRule");peg$result=peg$startRuleFunction();if(peg$result!==peg$FAILED&&peg$currPos===input.length){return peg$result}else{if(peg$result!==peg$FAILED&&peg$currPos<input.length){peg$fail({type:"end",description:"end of input"})}throw peg$buildException(null,peg$maxFailExpected,peg$maxFailPos)}}return{SyntaxError:SyntaxError,parse:parse}}()},{"./TransformationRule":19}],19:[function(require,module,exports){var log4js=require("log4js");var logger=log4js.getLogger();var Predicate=require("./Predicate");logger.setLevel("ERROR");var category_wild_card="*";function TransformationRule(c1,c2,predicate,parameter1,parameter2){this.literal=[c1,c2,predicate,parameter1,parameter2];this.predicate=new Predicate(predicate,parameter1,parameter2);this.old_category=c1;this.new_category=c2;logger.debug("TransformationRule constructor: "+this.literal)}TransformationRule.prototype.apply=function(tagged_sentence,position){if(tagged_sentence[position][1]===this.old_category||this.old_category===category_wild_card){if(this.predicate.evaluate(tagged_sentence,position)){tagged_sentence[position][1]=this.new_category;logger.debug("TransformationRule.apply: changed category "+this.old_category+" to "+this.new_category+" at position "+position)}}};module.exports=TransformationRule},{"./Predicate":17,log4js:13}],20:[function(require,module,exports){var util=require("util"),Classifier=require("./classifier"),ApparatusBayesClassifier=require("apparatus").BayesClassifier;var BayesClassifier=function(stemmer,smoothing){var abc=new ApparatusBayesClassifier;if(smoothing&&isFinite(smoothing)){abc=new ApparatusBayesClassifier(smoothing)}Classifier.call(this,abc,stemmer);
};util.inherits(BayesClassifier,Classifier);function restore(classifier,stemmer){classifier=Classifier.restore(classifier,stemmer);classifier.__proto__=BayesClassifier.prototype;classifier.classifier=ApparatusBayesClassifier.restore(classifier.classifier);return classifier}function load(filename,stemmer,callback){Classifier.load(filename,function(err,classifier){if(err){callback(err)}else{callback(err,restore(classifier,stemmer))}})}BayesClassifier.restore=restore;BayesClassifier.load=load;module.exports=BayesClassifier},{"./classifier":21,apparatus:6,util:125}],21:[function(require,module,exports){var PorterStemmer=require("../stemmers/porter_stemmer"),util=require("util"),events=require("events");var Classifier=function(classifier,stemmer){this.classifier=classifier;this.docs=[];this.features={};this.stemmer=stemmer||PorterStemmer;this.lastAdded=0;this.events=new events.EventEmitter};function addDocument(text,classification){if(typeof text==="string")text=this.stemmer.tokenizeAndStem(text);if(text.length===0){return}this.docs.push({label:classification,text:text});for(var i=0;i<text.length;i++){var token=text[i];this.features[token]=(this.features[token]||0)+1}}function removeDocument(text,classification){var docs=this.docs,doc,pos;if(typeof text==="string"){text=this.stemmer.tokenizeAndStem(text)}for(var i=0,ii=docs.length;i<ii;i++){doc=docs[i];if(doc.text.join(" ")==text.join(" ")&&doc.label==classification){pos=i}}if(!isNaN(pos)){this.docs.splice(pos,1);for(var i=0,ii=text.length;i<ii;i++){delete this.features[text[i]]}}}function textToFeatures(observation){var features=[];if(typeof observation==="string")observation=this.stemmer.tokenizeAndStem(observation);for(var feature in this.features){if(observation.indexOf(feature)>-1)features.push(1);else features.push(0)}return features}function train(){var totalDocs=this.docs.length;for(var i=this.lastAdded;i<totalDocs;i++){var features=this.textToFeatures(this.docs[i].text);this.classifier.addExample(features,this.docs[i].label);this.events.emit("trainedWithDocument",{index:i,total:totalDocs,doc:this.docs[i]});this.lastAdded++}this.events.emit("doneTraining",true);this.classifier.train()}function retrain(){this.classifier=new this.classifier.constructor;this.lastAdded=0;this.train()}function getClassifications(observation){return this.classifier.getClassifications(this.textToFeatures(observation))}function classify(observation){return this.classifier.classify(this.textToFeatures(observation))}function restore(classifier,stemmer){classifier.stemmer=stemmer||PorterStemmer;classifier.events=new events.EventEmitter;return classifier}function save(filename,callback){var data=JSON.stringify(this);var fs=require("fs");var classifier=this;fs.writeFile(filename,data,"utf8",function(err){if(callback){callback(err,err?null:classifier)}})}function load(filename,callback){var fs=require("fs");fs.readFile(filename,"utf8",function(err,data){var classifier;if(!err){classifier=JSON.parse(data)}if(callback)callback(err,classifier)})}Classifier.prototype.addDocument=addDocument;Classifier.prototype.removeDocument=removeDocument;Classifier.prototype.train=train;Classifier.prototype.retrain=retrain;Classifier.prototype.classify=classify;Classifier.prototype.textToFeatures=textToFeatures;Classifier.prototype.save=save;Classifier.prototype.getClassifications=getClassifications;Classifier.restore=restore;Classifier.load=load;module.exports=Classifier},{"../stemmers/porter_stemmer":48,events:119,fs:114,util:125}],22:[function(require,module,exports){var util=require("util"),Classifier=require("./classifier"),ApparatusLogisticRegressionClassifier=require("apparatus").LogisticRegressionClassifier;var LogisticRegressionClassifier=function(stemmer){Classifier.call(this,new ApparatusLogisticRegressionClassifier,stemmer)};util.inherits(LogisticRegressionClassifier,Classifier);function restore(classifier,stemmer){classifier=Classifier.restore(classifier,stemmer);classifier.__proto__=LogisticRegressionClassifier.prototype;classifier.classifier=ApparatusLogisticRegressionClassifier.restore(classifier.classifier);return classifier}function load(filename,stemmer,callback){Classifier.load(filename,function(err,classifier){if(err){callback(err)}else{callback(err,restore(classifier,stemmer))}})}function train(){this.lastAdded=0;this.classifier=new ApparatusLogisticRegressionClassifier;Classifier.prototype.train.call(this)}LogisticRegressionClassifier.prototype.train=train;LogisticRegressionClassifier.restore=restore;LogisticRegressionClassifier.load=load;module.exports=LogisticRegressionClassifier},{"./classifier":21,apparatus:6,util:125}],23:[function(require,module,exports){var letterPairs=function(str){var numPairs=str.length-1;var pairs=new Array(numPairs);for(var i=0;i<numPairs;i++){pairs[i]=str.substring(i,i+2)}return pairs};var wordLetterPairs=function(str){var allPairs=[],pairs;var words=str.split(/\s+/);for(var i=0;i<words.length;i++){pairs=letterPairs(words[i]);allPairs.push.apply(allPairs,pairs)}return allPairs};var sanitize=function(str){return str.toLowerCase().replace(/^\s+|\s+$/g,"")};var compare=function(str1,str2){var sanitized_str1=sanitize(str1);var sanitized_str2=sanitize(str2);var pairs1=wordLetterPairs(sanitized_str1);var pairs2=wordLetterPairs(sanitized_str2);var intersection=0,union=pairs1.length+pairs2.length;if(union===0){if(sanitized_str1===sanitized_str2){return 1}else{return 0}}else{var i,j,pair1,pair2;for(i=0;i<pairs1.length;i++){pair1=pairs1[i];for(j=0;j<pairs2.length;j++){pair2=pairs2[j];if(pair1==pair2){intersection++;delete pairs2[j];break}}}return 2*intersection/union}};module.exports=compare},{}],24:[function(require,module,exports){function distance(s1,s2){if(typeof s1!="string"||typeof s2!="string")return 0;if(s1.length==0||s2.length==0)return 0;s1=s1.toLowerCase(),s2=s2.toLowerCase();var matchWindow=Math.floor(Math.max(s1.length,s2.length)/2)-1;var matches1=new Array(s1.length);var matches2=new Array(s2.length);var m=0;var t=0;for(var i=0;i<s1.length;i++){var matched=false;if(s1[i]==s2[i]){matches1[i]=matches2[i]=matched=true;m++}else{for(k=i<=matchWindow?0:i-matchWindow;k<=i+matchWindow&&k<s2.length&&!matched;k++){if(s1[i]==s2[k]){if(!matches1[i]&&!matches2[k]){m++}matches1[i]=matches2[k]=matched=true}}}}if(m==0)return 0;var k=0;for(var i=0;i<s1.length;i++){if(matches1[k]){while(!matches2[k]&&k<matches2.length)k++;if(s1[i]!=s2[k]&&k<matches2.length){t++}k++}}t=t/2;return(m/s1.length+m/s2.length+(m-t)/m)/3}function JaroWinklerDistance(s1,s2,dj){if(s1==s2){return 1}else{var jaro;typeof dj=="undefined"?jaro=distance(s1,s2):jaro=dj;var p=.1;var l=0;while(s1[l]==s2[l]&&l<4)l++;return jaro+l*p*(1-jaro)}}module.exports=JaroWinklerDistance},{}],25:[function(require,module,exports){function LevenshteinDistance(source,target,options){options=options||{};if(isNaN(options.insertion_cost))options.insertion_cost=1;if(isNaN(options.deletion_cost))options.deletion_cost=1;if(isNaN(options.substitution_cost))options.substitution_cost=1;var sourceLength=source.length;var targetLength=target.length;var distanceMatrix=[[0]];for(var row=1;row<=sourceLength;row++){distanceMatrix[row]=[];distanceMatrix[row][0]=distanceMatrix[row-1][0]+options.deletion_cost}for(var column=1;column<=targetLength;column++){distanceMatrix[0][column]=distanceMatrix[0][column-1]+options.insertion_cost}for(var row=1;row<=sourceLength;row++){for(var column=1;column<=targetLength;column++){var costToInsert=distanceMatrix[row][column-1]+options.insertion_cost;var costToDelete=distanceMatrix[row-1][column]+options.deletion_cost;var sourceElement=source[row-1];var targetElement=target[column-1];var costToSubstitute=distanceMatrix[row-1][column-1];if(sourceElement!==targetElement){costToSubstitute=costToSubstitute+options.substitution_cost}distanceMatrix[row][column]=Math.min(costToInsert,costToDelete,costToSubstitute)}}return distanceMatrix[sourceLength][targetLength]}module.exports=LevenshteinDistance},{}],26:[function(require,module,exports){exports.SoundEx=require("./phonetics/soundex");exports.Metaphone=require("./phonetics/metaphone");exports.DoubleMetaphone=require("./phonetics/double_metaphone");exports.SoundExDM=require("./phonetics/dm_soundex");exports.PorterStemmer=require("./stemmers/porter_stemmer");exports.PorterStemmerFa=require("./stemmers/porter_stemmer_fa");exports.PorterStemmerFr=require("./stemmers/porter_stemmer_fr");exports.PorterStemmerRu=require("./stemmers/porter_stemmer_ru");exports.PorterStemmerEs=require("./stemmers/porter_stemmer_es");exports.PorterStemmerIt=require("./stemmers/porter_stemmer_it");exports.PorterStemmerNo=require("./stemmers/porter_stemmer_no");exports.PorterStemmerPt=require("./stemmers/porter_stemmer_pt");exports.LancasterStemmer=require("./stemmers/lancaster_stemmer");exports.StemmerFr=require("./stemmers/stemmer_fr");exports.StemmerPl=require("./stemmers/stemmer_pl");exports.StemmerJa=require("./stemmers/stemmer_ja");exports.AggressiveTokenizerNl=require("./tokenizers/aggressive_tokenizer_nl");exports.AggressiveTokenizerFa=require("./tokenizers/aggressive_tokenizer_fa");exports.AggressiveTokenizerFr=require("./tokenizers/aggressive_tokenizer_fr");exports.AggressiveTokenizerRu=require("./tokenizers/aggressive_tokenizer_ru");exports.AggressiveTokenizerEs=require("./tokenizers/aggressive_tokenizer_es");exports.AggressiveTokenizerIt=require("./tokenizers/aggressive_tokenizer_it");exports.AggressiveTokenizerPl=require("./tokenizers/aggressive_tokenizer_pl");exports.AggressiveTokenizerPt=require("./tokenizers/aggressive_tokenizer_pt");exports.AggressiveTokenizerNo=require("./tokenizers/aggressive_tokenizer_no");exports.AggressiveTokenizer=require("./tokenizers/aggressive_tokenizer");exports.CaseTokenizer=require("./tokenizers/tokenizer_case");exports.RegexpTokenizer=require("./tokenizers/regexp_tokenizer").RegexpTokenizer;exports.WordTokenizer=require("./tokenizers/regexp_tokenizer").WordTokenizer;exports.WordPunctTokenizer=require("./tokenizers/regexp_tokenizer").WordPunctTokenizer;exports.TreebankWordTokenizer=require("./tokenizers/treebank_word_tokenizer");exports.TokenizerJa=require("./tokenizers/tokenizer_ja");exports.SentenceTokenizer=require("./tokenizers/sentence_tokenizer");exports.BayesClassifier=require("./classifiers/bayes_classifier");exports.LogisticRegressionClassifier=require("./classifiers/logistic_regression_classifier");exports.NounInflector=require("./inflectors/noun_inflector");exports.NounInflectorFr=require("./inflectors/fr/noun_inflector");exports.NounInflectorJa=require("./inflectors/ja/noun_inflector");exports.PresentVerbInflector=require("./inflectors/present_verb_inflector");exports.CountInflector=require("./inflectors/count_inflector");exports.WordNet=require("./wordnet/wordnet");exports.TfIdf=require("./tfidf/tfidf");exports.Trie=require("./trie/trie");exports.SentenceAnalyzer=require("./analyzers/sentence_analyzer");exports.stopwords=require("./util/stopwords").words;exports.ShortestPathTree=require("./util/shortest_path_tree");exports.Spellcheck=require("./spellcheck/spellcheck");exports.LongestPathTree=require("./util/longest_path_tree");exports.EdgeWeightedDigraph=require("./util/edge_weighted_digraph");exports.NGrams=require("./ngrams/ngrams");exports.NGramsZH=require("./ngrams/ngrams_zh");exports.JaroWinklerDistance=require("./distance/jaro-winkler_distance");exports.LevenshteinDistance=require("./distance/levenshtein_distance");exports.DiceCoefficient=require("./distance/dice_coefficient");exports.normalize=require("./normalizers/normalizer").normalize_tokens;exports.normalize_ja=require("./normalizers/normalizer_ja").normalize_ja;exports.removeDiacritics=require("./normalizers/remove_diacritics");exports.transliterate_ja=require("./transliterators/ja");exports.BrillPOSTagger=require("./brill_pos_tagger/lib/Brill_POS_Tagger")},{"./analyzers/sentence_analyzer":15,"./brill_pos_tagger/lib/Brill_POS_Tagger":16,"./classifiers/bayes_classifier":20,"./classifiers/logistic_regression_classifier":22,"./distance/dice_coefficient":23,"./distance/jaro-winkler_distance":24,"./distance/levenshtein_distance":25,"./inflectors/count_inflector":27,"./inflectors/fr/noun_inflector":29,"./inflectors/ja/noun_inflector":30,"./inflectors/noun_inflector":31,"./inflectors/present_verb_inflector":32,"./ngrams/ngrams":34,"./ngrams/ngrams_zh":35,"./normalizers/normalizer":36,"./normalizers/normalizer_ja":37,"./normalizers/remove_diacritics":39,"./phonetics/dm_soundex":40,"./phonetics/double_metaphone":41,"./phonetics/metaphone":42,"./phonetics/soundex":44,"./spellcheck/spellcheck":45,"./stemmers/lancaster_stemmer":47,"./stemmers/porter_stemmer":48,"./stemmers/porter_stemmer_es":49,"./stemmers/porter_stemmer_fa":50,"./stemmers/porter_stemmer_fr":51,"./stemmers/porter_stemmer_it":52,"./stemmers/porter_stemmer_no":53,"./stemmers/porter_stemmer_pt":54,"./stemmers/porter_stemmer_ru":55,"./stemmers/stemmer_fr":59,"./stemmers/stemmer_ja":61,"./stemmers/stemmer_pl":63,"./tfidf/tfidf":67,"./tokenizers/aggressive_tokenizer":68,"./tokenizers/aggressive_tokenizer_es":69,"./tokenizers/aggressive_tokenizer_fa":70,"./tokenizers/aggressive_tokenizer_fr":71,"./tokenizers/aggressive_tokenizer_it":72,"./tokenizers/aggressive_tokenizer_nl":73,"./tokenizers/aggressive_tokenizer_no":74,"./tokenizers/aggressive_tokenizer_pl":75,"./tokenizers/aggressive_tokenizer_pt":76,"./tokenizers/aggressive_tokenizer_ru":77,"./tokenizers/regexp_tokenizer":78,"./tokenizers/sentence_tokenizer":79,"./tokenizers/tokenizer_case":81,"./tokenizers/tokenizer_ja":82,"./tokenizers/treebank_word_tokenizer":83,"./transliterators/ja":84,"./trie/trie":85,"./util/edge_weighted_digraph":87,"./util/longest_path_tree":88,"./util/shortest_path_tree":89,"./util/stopwords":90,"./wordnet/wordnet":104}],27:[function(require,module,exports){function nthForm(i){var teenth=i%100;if(teenth>10&&teenth<14)return"th";else{switch(i%10){case 1:return"st";break;case 2:return"nd";break;case 3:return"rd";break;default:return"th"}}}function nth(i){return i.toString()+nthForm(i)}var CountInflector=function(){};CountInflector.nth=nth;module.exports=CountInflector},{}],28:[function(require,module,exports){var FormSet=function(){this.regularForms=[];this.irregularForms={}};module.exports=FormSet},{}],29:[function(require,module,exports){var SingularPluralInflector=require("../singular_plural_inflector"),util=require("util"),FormSet=require("../form_set");function attach(){var inflector=this;String.prototype.singularizeNoun=function(){return inflector.singularize(this)};String.prototype.pluralizeNoun=function(){return inflector.pluralize(this)}}var NounInflector=function(){this.ambiguous=["à-peu-près","à-propos","abattis","abcès","abois","abribus","abus","accès","acquis","adénovirus","adonis","ados","agrès","aguets","ailleurs","ais","albatros","albinos","alias","aloès","amaryllis","amas","ampélopsis","ananas","anchois","angélus","anis","anticorps","antihéros","antirides","anus","appas","appentis","appui-bras","appuie-bras","arcanes","argus","arrérages","arrière-pays","as","ascaris","asparagus","atlas","atours","aurochs","autobus","autofocus","avant-bras","avant-corps","avant-propos","avers","avis","axis","barbouillis","bas","beaujolais","beaux-arts","biais","bibliobus","biceps","bicross","bien-fonds","bloc-notes","blockhaus","blocus","blues","bois","bonus","bout-dehors","bouts-rimés","branle-bas","bras","brebis","bris","brise-lames","brise-mottes","brûlis","buis","burnous","bus","business","cabas","cacatoès","cacatois","cactus","cadenas","cafouillis","caillebotis","calvados","cambouis","campus","canevas","cannabis","carquois","cas","casse-noisettes","casse-pieds","cassis","caucus","cens","cervelas","chablis","chamois","chaos","chas","chasselas","châssis","chatouillis","chauffe-assiettes","chauve-souris","chorus","choucas","circoncis","cirrus","clafoutis","clapotis","cliquetis","clos","cochylis","colis","coloris","commis","compas","compromis","compte-chèques","compte-gouttes","compte-tours","concours","confins","congrès","consensus","contrepoids","contresens","contretemps","corn flakes","corps","corps-à-corps","corpus","cosinus","cosmos","coulis","coupe-ongles","cours","court-jus","couscous","coutelas","crocus","croquis","cross","cubitus","cumulus","cure-dents","cure-ongles","cure-pipes","cursus","cyclo-cross","cyprès","dais","damas","débarras","débours","débris","décès","dedans","dehors","delirium tremens","demi-gros","dépens","dessous","dessus","détritus","deux-mâts","deux-pièces","deux-points","deux-roues","deux-temps","dévers","devis","diplodocus","discours","dos","ébats","éboulis","échalas","edelweiss","élaeis","éleis","éléphantiasis","embarras","empois","en-cas","encens","enclos","endos","engrais","entrelacs","entremets","envers","épluche-légumes","ers","espace-temps","essuie-mains","eucalyptus","ex-libris","excès","express","extrados","faciès","fait-divers","fatras","faux-sens","favoris","ficus","fier-à-bras","finnois","florès","focus","fœtus","fois","forceps","fouillis","fracas","frais","français","franglais","frimas","friselis","frisottis","froncis","frottis","fucus","gâchis","galetas","galimatias","garde-à-vous","garde-corps","gargouillis","gars","gâte-bois","gazouillis","génois","gibus","glacis","glas","gneiss","gobe-mouches","grès","gribouillis","guet-apens","habeas corpus","hachis","haras","hardes","harnais","haut-le-corps","hautbois","herbe-aux-chats","héros","herpès","hiatus","hibiscus","hors-concours","hors-pistes","hourdis","huis-clos","humérus","humus","ibis","iléus","indique-fuites","infarctus","inlandsis","insuccès","intercours","intrados","intrus","iris","isatis","jais","jars","jeans","jeuconcours","judas","juliénas","jus","justaucorps","kakatoès","kermès","kriss","lacis","laïus","lambris","lapis","laps","lapsus","laquais","las","lattis","lave-mains","lavis","lèche-bottes","lèche-vitrines","legs","lias","liégeois","lilas","lis","lœss","logis","loris","lotus","louis","lupus","lys","mâchicoulis","madras","maïs","malappris","malus","mânes","maquis","marais","maroilles","marquis","mas","mass-médias","matelas","matois","médius","mépris","mérinos","mess","mets","mi-bas","micro-ondes","mille-pattes","millepertuis","minibus","minois","minus","mirabilis","mois","monocorps","monte-plats","mors","motocross","mots-croisés","motus","mouchetis","mucus","myosotis","nævus","négus","niais","nimbo-stratus","nimbus","norois","nounours","nu-pieds","oasis","obus","olibrius","omnibus","opus","os","ours","ouvre-boîtes","ouvre-bouteilles","palais","palis","palmarès","palus","panais","panaris","pancréas","papyrus","par-dehors","paradis","parcours","pardessus","pare-balles","pare-chocs","parvis","pas","passe-temps","pataquès","pathos","patois","pavois","pays","permis","petit-bourgeois","petit-gris","petit-pois","phallus","phimosis","pickles","pilotis","pique-fleurs","pis","pithiviers","pityriasis","plateau-repas","plâtras","plein-temps","plexiglas","plexus","plus","poids","pois","pont-levis","porte-avions","porte-bagages","porte-billets","porte-bouteilles","porte-clés","porte-hélicoptères","porte-jarretelles","porte-revues","pouls","préavis","presse-fruits","presse-papiers","princeps","printemps","procès","processus","progrès","propos","prospectus","protège-dents","psoriasis","pubis","puits","pus","putois","quatre-épices","quatre-feuilles","quatre-heures","quatre-mâts","quatre-quarts","quatre-temps","quitus","rabais","rachis","radis","radius","raïs","ramassis","rébus","reclus","recours","refus","relais","remords","remous","remue-méninges","rendez-vous","repas","répons","repos","repris","reps","rétrovirus","revers","rhinocéros","rictus","rince-doigts","ris","rollmops","rosé-des-prés","roulis","rubis","salmigondis","salsifis","sans-logis","sas","sassafras","sauternes","schnaps","schuss","secours","semis","sens","serre-fils","serre-livres","sévices","sinus","skunks","souris","sournois","sous-bois","stradivarius","stras","strass","strato-cumulus","stratus","stress","succès","surdos","surplus","surpoids","sursis","suspens","synopsis","syphilis","taffetas","taillis","talus","tamaris","tamis","tapis","tas","taudis","temps","tennis","terminus","terre-neuvas","tétanos","tétras","thalamus","thermos","thesaurus","thésaurus","thymus","tire-fesses","tonus","torchis","torticolis","tournedos","tournevis","tournis","tracas","traîne-savates","travers","tréfonds","treillis","trépas","trias","triceps","trichomonas","trois-étoiles","trois-mâts","trois-quarts","trolleybus","tumulus","typhus","univers","us","utérus","vasistas","vélocross","velours","verglas","verjus","vernis","vers","vert-de-gris","vide-ordures","vide-poches","villageois","virus","vis-à-vis","volubilis","vulgum pecus","waters","williams","xérès","abat-voix","afflux","alpax","anthrax","apex","aptéryx","archéoptéryx","arrière-faix","bombyx","borax","bordeaux","bouseux","box","carex","casse-noix","cedex","céphalothorax","cérambyx","chaux","choix","coccyx","codex","contumax","coqueleux","cortex","courroux","croix","crucifix","culex","demodex","duplex","entre-deux","époux","équivaux","eux","ex","faix","faucheux","faux","fax","ferreux","flux","fox","freux","furax","hapax","harengueux","hélix","horse-pox","houx","index","influx","inox","juke-box","kleenex","lagothrix","larynx","lastex","latex","lux","lynx","macareux","max","mésothorax","mi-voix","mirepoix","motteux","multiplex","murex","narthex","noix","onyx","opopanax","oropharynx","paix","panax","perdrix","pharynx","phénix","phlox","phoenix","pneumothorax","poix","portefaix","pousse-cailloux","preux","prix","prothorax","pucheux","pyrex","pyroligneux","quadruplex","queux","redoux","reflex","reflux","relax","rhinopharynx","rose-croix","rouvieux","roux","rumex","saindoux","sardonyx","scolex","sèche-cheveux","silex","simplex","sioux","sirex","smilax","solex","songe-creux","spalax","sphex","sphinx","storax","strix","styrax","surfaix","surtaux","syrinx","tamarix","taux","télex","thorax","tord-boyaux","toux","trionyx","tripoux","tubifex","vertex","vidéotex","vielleux","vieux","violoneux","voix","volvox","vortex","allume-gaz","assez","biogaz","cache-nez","camping-gaz","chez","chintz","ersatz","fez","free-jazz","fritz","gaz","gin-fizz","hertz","jazz","jerez","kibboutz","kilohertz","kolkhoz","kronprinz","lapiaz","lez","mégahertz","merguez","nez","pince-nez","quartz","quiz","ranz","raz","recez","rémiz","rez","riz","ruolz","seltz","serre-nez"];this.customPluralForms=[];this.customSingularForms=[];this.singularForms=new FormSet;this.pluralForms=new FormSet;this.attach=attach;this.addIrregular("ail","aulx");this.addIrregular("bétail","bestiaux");this.addIrregular("bonhomme","bonshommes");this.addIrregular("ciel","cieux");this.addIrregular("monsieur","messieurs");this.addIrregular("mafioso","mafiosi");this.addIrregular("œil","yeux");this.addIrregular("putto","putti");this.addIrregular("targui","touareg");this.pluralForms.regularForms.push([/^(av|b|c|carnav|cérémoni|chac|corr|emment|emmenth|festiv|fut|gavi|gra|narv|p|récit|rég|rit|rorqu|st)al$/i,"$1als"]);this.pluralForms.regularForms.push([/^(aspir|b|cor|ém|ferm|gemm|soupir|trav|vant|vent|vitr)ail$/i,"$1aux"]);this.pluralForms.regularForms.push([/^(bij|caill|ch|gen|hib|jouj|p|rip|chouch)ou$/i,"$1oux"]);this.pluralForms.regularForms.push([/^(gr|berimb|don|karb|land|pil|rest|sarr|un)au$/i,"$1aus"]);this.pluralForms.regularForms.push([/^(bl|ém|enf|pn)eu$/i,"$1eus"]);this.pluralForms.regularForms.push([/(au|eau|eu|œu)$/i,"$1x"]);this.pluralForms.regularForms.push([/al$/i,"aux"]);this.pluralForms.regularForms.push([/(s|x)$/i,"$1"]);this.pluralForms.regularForms.push([/(.*)$/i,"$1s"]);this.singularForms.regularForms.push([/^(aspir|b|cor|ém|ferm|gemm|soupir|trav|vant|vent|vitr)aux$/i,"$1ail"]);this.singularForms.regularForms.push([/^(aloy|b|bouc|boy|burg|conoy|coy|cr|esquim|ét|fabli|flé|flûti|glu|gr|gru|hoy|joy|kérab|matéri|nobli|noy|pré|sen|sén|t|touch|tuss|tuy|v|ypré)aux$/i,"$1au"]);this.singularForms.regularForms.push([/^(bij|caill|ch|gen|hib|jouj|p|rip|chouch)oux$/i,"$1ou"]);this.singularForms.regularForms.push([/^(bis)?aïeux$/i,"$1aïeul"]);this.singularForms.regularForms.push([/^apparaux$/i,"appareil"]);this.singularForms.regularForms.push([/^ciels$/i,"ciel"]);this.singularForms.regularForms.push([/^œils$/i,"œil"]);this.singularForms.regularForms.push([/(eau|eu|œu)x$/i,"$1"]);this.singularForms.regularForms.push([/aux$/i,"al"]);this.singularForms.regularForms.push([/(.*)s$/i,"$1"]);this.pluralize=function(token){return this.ize(token,this.pluralForms,this.customPluralForms)};this.singularize=function(token){return this.ize(token,this.singularForms,this.customSingularForms)}};util.inherits(NounInflector,SingularPluralInflector);module.exports=NounInflector},{"../form_set":28,"../singular_plural_inflector":33,util:125}],30:[function(require,module,exports){var SingularPluralInflector=require("../singular_plural_inflector"),util=require("util"),FormSet=require("../form_set");function attach(){var inflector=this;String.prototype.singularizeNoun=function(){return inflector.singularize(this)};String.prototype.pluralizeNoun=function(){return inflector.pluralize(this)}}var NounInflector=function(){this.ambiguous=["ともだち","友だち","友達","遊び友達","飲み友達","酒飲み友達","茶飲み友達","学校友達","女友達","男友達","幼友達"];this.customPluralForms=[];this.customSingularForms=[];this.singularForms=new FormSet;this.pluralForms=new FormSet;this.attach=attach;this.addIrregular("神","神神");this.addIrregular("人","人人");this.addIrregular("年","年年");this.addIrregular("月","月月");this.addIrregular("日","日日");this.addIrregular("星","星星");this.addIrregular("島","島島");this.addIrregular("我","我我");this.addIrregular("山","山山");this.addIrregular("国","国国");this.addIrregular("所","所所");this.addIrregular("隅","隅隅");this.pluralForms.regularForms.push([/^(.+)$/i,"$1たち"]);this.singularForms.regularForms.push([/^(.+)たち$/i,function(a,mask){if(["い","おい","つい","か","かおか","なりか","いで","は","から","なり"].indexOf(mask)>=0)return mask+"たち";return mask}]);this.singularForms.regularForms.push([/^(.+)達$/i,function(a,mask){if(["伊","伊","栄","上意下","熟","上","下意上","先","送","速","即日速","書留速","調","通","伝","到","配","牛乳配","新聞配","無料配","四通八","発","未発","御用","宮内庁御用","練","闊"].indexOf(mask)>=0)return mask+"達";return mask}]);this.singularForms.regularForms.push([/^(.+)等$/i,function(a,mask){if(["一","下","何","均","勲","高","三","初","親","二親","数","対","中","同","特","二","品","不","平","悪平","男女平","不平","優","劣"].indexOf(mask)>=0)return mask+"等";return mask}]);this.singularForms.regularForms.push([/^(人間|わたくし|私|てまえ|手前|野郎|やろう|勇者|がき|ガキ|餓鬼|あくとう|悪党|猫|家来)(共|ども)$/i,"$1"]);this.singularForms.regularForms.push([/^(神様|先生|あなた|大名|女中|奥様)(方|がた)$/i,"$1"]);this.pluralize=function(token){return this.ize(token,this.pluralForms,this.customPluralForms)};this.singularize=function(token){return this.ize(token,this.singularForms,this.customSingularForms)}};util.inherits(NounInflector,SingularPluralInflector);module.exports=NounInflector},{"../form_set":28,"../singular_plural_inflector":33,util:125}],31:[function(require,module,exports){var SingularPluralInflector=require("./singular_plural_inflector"),util=require("util"),FormSet=require("./form_set");function attach(){var inflector=this;String.prototype.singularizeNoun=function(){return inflector.singularize(this)};String.prototype.pluralizeNoun=function(){return inflector.pluralize(this)}}var NounInflector=function(){this.ambiguous=["bison","bream","carp","chassis","cod","corps","debris","deer","diabetes","equipment","elk","fish","flounder","gallows","graffiti","headquarters","herpes","highjinks","homework","information","mackerel","mews","money","news","rice","rabies","salmon","series","sheep","shrimp","species","swine","trout","tuna","whiting","wildebeest"];this.customPluralForms=[];this.customSingularForms=[];this.singularForms=new FormSet;this.pluralForms=new FormSet;this.attach=attach;this.addIrregular("child","children");this.addIrregular("man","men");this.addIrregular("person","people");this.addIrregular("sex","sexes");this.addIrregular("mouse","mice");this.addIrregular("ox","oxen");this.addIrregular("foot","feet");this.addIrregular("tooth","teeth");this.addIrregular("goose","geese");this.addIrregular("ephemeris","ephemerides");this.pluralForms.regularForms.push([/y$/i,"ies"]);this.pluralForms.regularForms.push([/ife$/i,"ives"]);this.pluralForms.regularForms.push([/(antenn|formul|nebul|vertebr|vit)a$/i,"$1ae"]);this.pluralForms.regularForms.push([/(octop|vir|radi|nucle|fung|cact|stimul)us$/i,"$1i"]);this.pluralForms.regularForms.push([/(buffal|tomat|tornad)o$/i,"$1oes"]);this.pluralForms.regularForms.push([/(sis)$/i,"ses"]);this.pluralForms.regularForms.push([/(matr|vert|ind|cort)(ix|ex)$/i,"$1ices"]);this.pluralForms.regularForms.push([/(x|ch|ss|sh|s|z)$/i,"$1es"]);this.pluralForms.regularForms.push([/^(?!talis|.*hu)(.*)man$/i,"$1men"]);this.pluralForms.regularForms.push([/(.*)/i,"$1s"]);this.singularForms.regularForms.push([/([^v])ies$/i,"$1y"]);this.singularForms.regularForms.push([/ives$/i,"ife"]);this.singularForms.regularForms.push([/(antenn|formul|nebul|vertebr|vit)ae$/i,"$1a"]);this.singularForms.regularForms.push([/(octop|vir|radi|nucle|fung|cact|stimul)(i)$/i,"$1us"]);this.singularForms.regularForms.push([/(buffal|tomat|tornad)(oes)$/i,"$1o"]);this.singularForms.regularForms.push([/(analy|naly|synop|parenthe|diagno|the)ses$/i,"$1sis"]);this.singularForms.regularForms.push([/(vert|ind|cort)(ices)$/i,"$1ex"]);this.singularForms.regularForms.push([/(matr|append)(ices)$/i,"$1ix"]);this.singularForms.regularForms.push([/(x|ch|ss|sh|s|z)es$/i,"$1"]);this.singularForms.regularForms.push([/men$/i,"man"]);this.singularForms.regularForms.push([/s$/i,""]);this.pluralize=function(token){return this.ize(token,this.pluralForms,this.customPluralForms)};this.singularize=function(token){return this.ize(token,this.singularForms,this.customSingularForms)}};util.inherits(NounInflector,SingularPluralInflector);module.exports=NounInflector},{"./form_set":28,"./singular_plural_inflector":33,util:125}],32:[function(require,module,exports){var util=require("util"),SingularPluralInflector=require("./singular_plural_inflector"),FormSet=require("./form_set");function attach(){var inflector=this;String.prototype.singularizePresentVerb=function(){return inflector.singularize(this)};String.prototype.pluralizePresentVerb=function(){return inflector.pluralize(this)}}var VerbInflector=function(){this.ambiguous=["will"];this.attach=attach;this.customPluralForms=[];this.customSingularForms=[];this.singularForms=new FormSet;this.pluralForms=new FormSet;this.addIrregular("am","are");this.addIrregular("is","are");this.addIrregular("was","were");this.addIrregular("has","have");this.singularForms.regularForms.push([/ed$/i,"ed"]);this.singularForms.regularForms.push([/ss$/i,"sses"]);this.singularForms.regularForms.push([/x$/i,"xes"]);this.singularForms.regularForms.push([/(h|z|o)$/i,"$1es"]);this.singularForms.regularForms.push([/$zz/i,"zzes"]);this.singularForms.regularForms.push([/([^a|e|i|o|u])y$/i,"$1ies"]);this.singularForms.regularForms.push([/$/i,"s"]);this.pluralForms.regularForms.push([/sses$/i,"ss"]);this.pluralForms.regularForms.push([/xes$/i,"x"]);this.pluralForms.regularForms.push([/([cs])hes$/i,"$1h"]);this.pluralForms.regularForms.push([/zzes$/i,"zz"]);this.pluralForms.regularForms.push([/([^h|z|o|i])es$/i,"$1e"]);this.pluralForms.regularForms.push([/ies$/i,"y"]);this.pluralForms.regularForms.push([/e?s$/i,""])};util.inherits(VerbInflector,SingularPluralInflector);module.exports=VerbInflector},{"./form_set":28,"./singular_plural_inflector":33,util:125}],33:[function(require,module,exports){var TenseInflector=function(){};TenseInflector.prototype.addSingular=function(pattern,replacement){this.customSingularForms.push([pattern,replacement])};TenseInflector.prototype.addPlural=function(pattern,replacement){this.customPluralForms.push([pattern,replacement])};TenseInflector.prototype.ize=function(token,formSet,customForms){var restoreCase=this.restoreCase(token);return restoreCase(this.izeRegExps(token,customForms)||this.izeAbiguous(token)||this.izeRegulars(token,formSet)||this.izeRegExps(token,formSet.regularForms)||token);
};TenseInflector.prototype.izeAbiguous=function(token){if(this.ambiguous.indexOf(token.toLowerCase())>-1)return token.toLowerCase();return false};TenseInflector.prototype.pluralize=function(token){return this.ize(token,this.pluralForms,this.customPluralForms)};TenseInflector.prototype.singularize=function(token){return this.ize(token,this.singularForms,this.customSingularForms)};var uppercaseify=function(token){return token.toUpperCase()};var capitalize=function(token){return token[0].toUpperCase()+token.slice(1)};var lowercaseify=function(token){return token.toLowerCase()};TenseInflector.prototype.restoreCase=function(token){if(token[0]===token[0].toUpperCase()){if(token[1]&&token[1]===token[1].toLowerCase()){return capitalize}else{return uppercaseify}}else{return lowercaseify}};TenseInflector.prototype.izeRegulars=function(token,formSet){token=token.toLowerCase();if(formSet.irregularForms.hasOwnProperty(token)&&formSet.irregularForms[token])return formSet.irregularForms[token];return false};TenseInflector.prototype.addForm=function(singularTable,pluralTable,singular,plural){singular=singular.toLowerCase();plural=plural.toLowerCase();pluralTable[singular]=plural;singularTable[plural]=singular};TenseInflector.prototype.addIrregular=function(singular,plural){this.addForm(this.singularForms.irregularForms,this.pluralForms.irregularForms,singular,plural)};TenseInflector.prototype.izeRegExps=function(token,forms){var i,form;for(i=0;i<forms.length;i++){form=forms[i];if(token.match(form[0]))return token.replace(form[0],form[1])}return false};module.exports=TenseInflector},{}],34:[function(require,module,exports){var _=require("underscore")._,Tokenizer=require("../tokenizers/regexp_tokenizer").WordTokenizer,tokenizer=new Tokenizer;exports.setTokenizer=function(t){if(!_.isFunction(t.tokenize))throw new Error("Expected a valid Tokenizer");tokenizer=t};exports.ngrams=function(sequence,n,startSymbol,endSymbol){return ngrams(sequence,n,startSymbol,endSymbol)};exports.bigrams=function(sequence,startSymbol,endSymbol){return ngrams(sequence,2,startSymbol,endSymbol)};exports.trigrams=function(sequence,startSymbol,endSymbol){return ngrams(sequence,3,startSymbol,endSymbol)};exports.multrigrams=function(sequence,n,startSymbol,endSymbol){return ngrams(sequence,n,startSymbol,endSymbol)};var ngrams=function(sequence,n,startSymbol,endSymbol){var result=[];if(!_(sequence).isArray()){sequence=tokenizer.tokenize(sequence)}var count=_.max([0,sequence.length-n+1]);if(typeof startSymbol!=="undefined"&&startSymbol!==null){var blanks=[];for(var i=0;i<n;i++){blanks.push(startSymbol)}for(var p=n-1;p>0;p--){result.push(blanks.slice(0,p).concat(sequence.slice(0,n-p)))}}for(var i=0;i<count;i++){result.push(sequence.slice(i,i+n))}if(typeof endSymbol!=="undefined"&&endSymbol!==null){var blanks=[];for(var i=0;i<n;i++){blanks.push(endSymbol)}for(var p=n-1;p>0;p--){result.push(sequence.slice(sequence.length-p,sequence.length).concat(blanks.slice(0,n-p)))}}return result}},{"../tokenizers/regexp_tokenizer":78,underscore:113}],35:[function(require,module,exports){var _=require("underscore")._;exports.ngrams=function(sequence,n,startSymbol,endSymbol){return ngrams(sequence,n,startSymbol,endSymbol)};exports.bigrams=function(sequence,startSymbol,endSymbol){return ngrams(sequence,2,startSymbol,endSymbol)};exports.trigrams=function(sequence,startSymbol,endSymbol){return ngrams(sequence,3,startSymbol,endSymbol)};var ngrams=function(sequence,n,startSymbol,endSymbol){var result=[],i;if(!_(sequence).isArray()){sequence=sequence.split("")}var count=_.max([0,sequence.length-n+1]);if(typeof startSymbol!=="undefined"&&startSymbol!==null){var blanks=[];for(i=0;i<n;i++){blanks.push(startSymbol)}for(var p=n-1;p>0;p--){result.push(blanks.slice(0,p).concat(sequence.slice(0,n-p)))}}for(i=0;i<count;i++){result.push(sequence.slice(i,i+n))}if(typeof endSymbol!=="undefined"&&endSymbol!==null){var blanks=[];for(var i=0;i<n;i++){blanks.push(endSymbol)}for(var p=n-1;p>0;p--){result.push(sequence.slice(sequence.length-p,sequence.length).concat(blanks.slice(0,n-p)))}}return result}},{underscore:113}],36:[function(require,module,exports){var replacer=require("../util/utils").replacer;var conversionTable={"can't":"can not","won't":"will not","couldn't've":"could not have","i'm":"I am","how'd":"how did"};var rules=[{regex:/([azAZ]*)n\'[tT]/g,output:"$1 not"},{regex:/([azAZ]*)\'[sS]/g,output:"$1 is"},{regex:/([azAZ]*)\'[lL][lL]/g,output:"$1 will"},{regex:/([azAZ]*)\'[rR][eE]/g,output:"$1 are"},{regex:/([azAZ]*)\'[vV][eE]/g,output:"$1 have"},{regex:/([azAZ]*)\'[dD]/g,output:"$1 would"}];var normalize_tokens=function(tokens){if(typeof tokens==="string"){tokens=[tokens]}var results=[];var rule_count=rules.length;var num_tokens=tokens.length;var i,token,r,rule;for(i=0;i<num_tokens;i++){token=tokens[i];if(conversionTable[token.toLowerCase()]){results=results.concat(conversionTable[token.toLowerCase()].split(/\W+/))}else{var matched=false;for(r=0;r<rule_count;r++){rule=rules[r];if(token.match(rule.regex)){results=results.concat(token.replace(rule.regex,rule.output).split(/\W+/));matched=true;break}}if(!matched){results.push(token)}}}return results};exports.normalize_tokens=normalize_tokens},{"../util/utils":101}],37:[function(require,module,exports){var flip=require("../util/utils.js").flip;var merge=require("../util/utils.js").merge;var replacer=require("../util/utils").replacer;var conversionTables={fullwidthToHalfwidth:{alphabet:{"ａ":"a","ｂ":"b","ｃ":"c","ｄ":"d","ｅ":"e","ｆ":"f","ｇ":"g","ｈ":"h","ｉ":"i","ｊ":"j","ｋ":"k","ｌ":"l","ｍ":"m","ｎ":"n","ｏ":"o","ｐ":"p","ｑ":"q","ｒ":"r","ｓ":"s","ｔ":"t","ｕ":"u","ｖ":"v","ｗ":"w","ｘ":"x","ｙ":"y","ｚ":"z","Ａ":"A","Ｂ":"B","Ｃ":"C","Ｄ":"D","Ｅ":"E","Ｆ":"F","Ｇ":"G","Ｈ":"H","Ｉ":"I","Ｊ":"J","Ｋ":"K","Ｌ":"L","Ｍ":"M","Ｎ":"N","Ｏ":"O","Ｐ":"P","Ｑ":"Q","Ｒ":"R","Ｓ":"S","Ｔ":"T","Ｕ":"U","Ｖ":"V","Ｗ":"W","Ｘ":"X","Ｙ":"Y","Ｚ":"Z","　":" "},numbers:{"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9"},symbol:{"＿":"_","－":"-","，":",","；":";","：":":","！":"!","？":"?","．":".","（":"(","）":")","［":"[","］":"]","｛":"{","｝":"}","＠":"@","＊":"*","＼":"\\","／":"/","＆":"&","＃":"#","％":"%","｀":"`","＾":"^","＋":"+","＜":"<","＝":"=","＞":">","｜":"|","≪":"«","≫":"»","─":"-","＄":"$","＂":'"'},purePunctuation:{"、":"､","。":"｡","・":"･","「":"｢","」":"｣"},punctuation:{},katakana:{"゛":"ﾞ","゜":"ﾟ","ー":"ｰ","ヴ":"ｳﾞ","ガ":"ｶﾞ","ギ":"ｷﾞ","グ":"ｸﾞ","ゲ":"ｹﾞ","ゴ":"ｺﾞ","ザ":"ｻﾞ","ジ":"ｼﾞ","ズ":"ｽﾞ","ゼ":"ｾﾞ","ゾ":"ｿﾞ","ダ":"ﾀﾞ","ヂ":"ﾁﾞ","ヅ":"ﾂﾞ","デ":"ﾃﾞ","ド":"ﾄﾞ","バ":"ﾊﾞ","パ":"ﾊﾟ","ビ":"ﾋﾞ","ピ":"ﾋﾟ","ブ":"ﾌﾞ","プ":"ﾌﾟ","ベ":"ﾍﾞ","ペ":"ﾍﾟ","ボ":"ﾎﾞ","ポ":"ﾎﾟ","ァ":"ｧ","ア":"ｱ","ィ":"ｨ","イ":"ｲ","ゥ":"ｩ","ウ":"ｳ","ェ":"ｪ","エ":"ｴ","ォ":"ｫ","オ":"ｵ","カ":"ｶ","キ":"ｷ","ク":"ｸ","ケ":"ｹ","コ":"ｺ","サ":"ｻ","シ":"ｼ","ス":"ｽ","セ":"ｾ","ソ":"ｿ","タ":"ﾀ","チ":"ﾁ","ッ":"ｯ","ツ":"ﾂ","テ":"ﾃ","ト":"ﾄ","ナ":"ﾅ","ニ":"ﾆ","ヌ":"ﾇ","ネ":"ﾈ","ノ":"ﾉ","ハ":"ﾊ","ヒ":"ﾋ","フ":"ﾌ","ヘ":"ﾍ","ホ":"ﾎ","マ":"ﾏ","ミ":"ﾐ","ム":"ﾑ","メ":"ﾒ","モ":"ﾓ","ャ":"ｬ","ヤ":"ﾔ","ュ":"ｭ","ユ":"ﾕ","ョ":"ｮ","ヨ":"ﾖ","ラ":"ﾗ","リ":"ﾘ","ル":"ﾙ","レ":"ﾚ","ロ":"ﾛ","ワ":"ﾜ","ヲ":"ｦ","ン":"ﾝ"}},halfwidthToFullwidth:{}};var fixFullwidthKana={"ゝ゛":"ゞ","ヽ゛":"ヾ","う゛":"ゔ","か゛":"が","き゛":"ぎ","く゛":"ぐ","け゛":"げ","こ゛":"ご","さ゛":"ざ","し゛":"じ","す゛":"ず","せ゛":"ぜ","そ゛":"ぞ","た゛":"だ","ち゛":"ぢ","つ゛":"づ","て゛":"で","と゛":"ど","は゛":"ば","は゜":"ぱ","ひ゛":"び","ひ゜":"ぴ","ふ゛":"ぶ","ふ゜":"ぷ","へ゛":"べ","へ゜":"ぺ","ほ゛":"ぼ","ほ゜":"ぽ","っな":"んな","っに":"んに","っぬ":"んぬ","っね":"んね","っの":"んの","ウ゛":"ヴ","カ゛":"ガ","キ゛":"ギ","ク゛":"グ","ケ゛":"ゲ","コ゛":"ゴ","サ゛":"ザ","シ゛":"ジ","ス゛":"ズ","セ゛":"ゼ","ソ゛":"ゾ","タ゛":"ダ","チ゛":"ヂ","ツ゛":"ヅ","テ゛":"デ","ト゛":"ド","ハ゛":"バ","ハ゜":"パ","ヒ゛":"ビ","ヒ゜":"ピ","フ゛":"ブ","フ゜":"プ","ヘ゛":"ベ","ヘ゜":"ペ","ホ゛":"ボ","ホ゜":"ポ","ッナ":"ンナ","ッニ":"ンニ","ッヌ":"ンヌ","ッネ":"ンネ","ッノ":"ンノ"};var fixCompositeSymbolsTable={"㋀":"1月","㋁":"2月","㋂":"3月","㋃":"4月","㋄":"5月","㋅":"6月","㋆":"7月","㋇":"8月","㋈":"9月","㋉":"10月","㋊":"11月","㋋":"12月","㏠":"1日","㏡":"2日","㏢":"3日","㏣":"4日","㏤":"5日","㏥":"6日","㏦":"7日","㏧":"8日","㏨":"9日","㏩":"10日","㏪":"11日","㏫":"12日","㏬":"13日","㏭":"14日","㏮":"15日","㏯":"16日","㏰":"17日","㏱":"18日","㏲":"19日","㏳":"20日","㏴":"21日","㏵":"22日","㏶":"23日","㏷":"24日","㏸":"25日","㏹":"26日","㏺":"27日","㏻":"28日","㏼":"29日","㏽":"30日","㏾":"31日","㍘":"0点","㍙":"1点","㍚":"2点","㍛":"3点","㍜":"4点","㍝":"5点","㍞":"6点","㍟":"7点","㍠":"8点","㍡":"9点","㍢":"10点","㍣":"11点","㍤":"12点","㍥":"13点","㍦":"14点","㍧":"15点","㍨":"16点","㍩":"17点","㍪":"18点","㍫":"19点","㍬":"20点","㍭":"21点","㍮":"22点","㍯":"23点","㍰":"24点","㍻":"平成","㍼":"昭和","㍽":"大正","㍾":"明治","㍿":"株式会社","㌀":"アパート","㌁":"アルファ","㌂":"アンペア","㌃":"アール","㌄":"イニング","㌅":"インチ","㌆":"ウオン","㌇":"エスクード","㌈":"エーカー","㌉":"オンス","㌊":"オーム","㌋":"カイリ","㌌":"カラット","㌍":"カロリー","㌎":"ガロン","㌏":"ガンマ","㌐":"ギガ","㌑":"ギニー","㌒":"キュリー","㌓":"ギルダー","㌔":"キロ","㌕":"キログラム","㌖":"キロメートル","㌗":"キロワット","㌘":"グラム","㌙":"グラムトン","㌚":"クルゼイロ","㌛":"クローネ","㌜":"ケース","㌝":"コルナ","㌞":"コーポ","㌟":"サイクル","㌠":"サンチーム","㌡":"シリング","㌢":"センチ","㌣":"セント","㌤":"ダース","㌥":"デシ","㌦":"ドル","㌧":"トン","㌨":"ナノ","㌩":"ノット","㌪":"ハイツ","㌫":"パーセント","㌬":"パーツ","㌭":"バーレル","㌮":"ピアストル","㌯":"ピクル","㌰":"ピコ","㌱":"ビル","㌲":"ファラッド","㌳":"フィート","㌴":"ブッシェル","㌵":"フラン","㌶":"ヘクタール","㌷":"ペソ","㌸":"ペニヒ","㌹":"ヘルツ","㌺":"ペンス","㌻":"ページ","㌼":"ベータ","㌽":"ポイント","㌾":"ボルト","㌿":"ホン","㍀":"ポンド","㍁":"ホール","㍂":"ホーン","㍃":"マイクロ","㍄":"マイル","㍅":"マッハ","㍆":"マルク","㍇":"マンション","㍈":"ミクロン","㍉":"ミリ","㍊":"ミリバール","㍋":"メガ","㍌":"メガトン","㍍":"メートル","㍎":"ヤード","㍏":"ヤール","㍐":"ユアン","㍑":"リットル","㍒":"リラ","㍓":"ルピー","㍔":"ルーブル","㍕":"レム","㍖":"レントゲン","㍗":"ワット"};conversionTables.fullwidthToHalfwidth.punctuation=merge(conversionTables.fullwidthToHalfwidth.symbol,conversionTables.fullwidthToHalfwidth.purePunctuation);conversionTables.halfwidthToFullwidth.alphabet=flip(conversionTables.fullwidthToHalfwidth.alphabet);conversionTables.halfwidthToFullwidth.numbers=flip(conversionTables.fullwidthToHalfwidth.numbers);conversionTables.halfwidthToFullwidth.symbol=flip(conversionTables.fullwidthToHalfwidth.symbol);conversionTables.halfwidthToFullwidth.purePunctuation=flip(conversionTables.fullwidthToHalfwidth.purePunctuation);conversionTables.halfwidthToFullwidth.punctuation=flip(conversionTables.fullwidthToHalfwidth.punctuation);conversionTables.halfwidthToFullwidth.katakana=flip(conversionTables.fullwidthToHalfwidth.katakana);conversionTables.normalize=merge(conversionTables.fullwidthToHalfwidth.alphabet,conversionTables.fullwidthToHalfwidth.numbers,conversionTables.fullwidthToHalfwidth.symbol,conversionTables.halfwidthToFullwidth.purePunctuation,conversionTables.halfwidthToFullwidth.katakana);var converters={fullwidthToHalfwidth:{alphabet:replacer(conversionTables.fullwidthToHalfwidth.alphabet),numbers:replacer(conversionTables.fullwidthToHalfwidth.numbers),symbol:replacer(conversionTables.fullwidthToHalfwidth.symbol),purePunctuation:replacer(conversionTables.fullwidthToHalfwidth.purePunctuation),punctuation:replacer(conversionTables.fullwidthToHalfwidth.punctuation),katakana:replacer(conversionTables.fullwidthToHalfwidth.katakana)},halfwidthToFullwidth:{alphabet:replacer(conversionTables.halfwidthToFullwidth.alphabet),numbers:replacer(conversionTables.halfwidthToFullwidth.numbers),symbol:replacer(conversionTables.halfwidthToFullwidth.symbol),purePunctuation:replacer(conversionTables.halfwidthToFullwidth.purePunctuation),punctuation:replacer(conversionTables.halfwidthToFullwidth.punctuation),katakana:replacer(conversionTables.halfwidthToFullwidth.katakana)},fixFullwidthKana:replacer(fixFullwidthKana),normalize:replacer(conversionTables.normalize)};var fixCompositeSymbols=replacer(fixCompositeSymbolsTable);converters.hiraganaToKatakana=function(str){str=converters.halfwidthToFullwidth.katakana(str);str=converters.fixFullwidthKana(str);str=str.replace(/ゝ/g,"ヽ");str=str.replace(/ゞ/g,"ヾ");str=str.replace(/[ぁ-ゖ]/g,function(str){return String.fromCharCode(str.charCodeAt(0)+96)});return str};converters.katakanaToHiragana=function(str){str=converters.halfwidthToFullwidth.katakana(str);str=converters.fixFullwidthKana(str);str=str.replace(/ヽ/g,"ゝ");str=str.replace(/ヾ/g,"ゞ");str=str.replace(/[ァ-ヶ]/g,function(str){return String.fromCharCode(str.charCodeAt(0)-96)});return str};var normalize_ja=function(str){str=str.replace(/(..)々々/g,"$1$1").replace(/(.)々/g,"$1$1");str=converters.normalize(str);str=converters.fixFullwidthKana(str);str=fixCompositeSymbols(str);return str};exports.normalize_ja=normalize_ja;exports.converters=converters},{"../util/utils":101,"../util/utils.js":101}],38:[function(require,module,exports){var remove_diacritics=function(text){text=text.replace("à","a");text=text.replace("À","A");text=text.replace("á","a");text=text.replace("Á","A");text=text.replace("â","a");text=text.replace("Â","A");text=text.replace("ç","c");text=text.replace("Ç","C");text=text.replace("è","e");text=text.replace("È","E");text=text.replace("é","e");text=text.replace("É","E");text=text.replace("ê","e");text=text.replace("Ê","E");text=text.replace("î","i");text=text.replace("Î","I");text=text.replace("ñ","n");text=text.replace("Ñ","N");text=text.replace("ó","o");text=text.replace("Ó","O");text=text.replace("ô","o");text=text.replace("Ô","O");text=text.replace("û","u");text=text.replace("Û","U");text=text.replace("š","s");text=text.replace("Š","S");return text};exports.remove_diacritics=remove_diacritics},{}],39:[function(require,module,exports){var diacriticsRemovalMap=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];module.exports=function(str){var rules=diacriticsRemovalMap;for(var i=0;i<rules.length;i++){str=str.replace(rules[i].letters,rules[i].base)}return str}},{}],40:[function(require,module,exports){var codes={A:{0:[0,-1,-1],I:[[0,1,-1]],J:[[0,1,-1]],Y:[[0,1,-1]],U:[[0,7,-1]]},B:[[7,7,7]],C:{0:[5,5,5],Z:{0:[4,4,4],S:[[4,4,4]]},S:{0:[4,4,4],Z:[[4,4,4]]},K:[[5,5,5],[45,45,45]],H:{0:[5,5,5],S:[[5,54,54]]}},D:{0:[3,3,3],T:[[3,3,3]],Z:{0:[4,4,4],H:[[4,4,4]],S:[[4,4,4]]},S:{0:[4,4,4],H:[[4,4,4]],Z:[[4,4,4]]},R:{S:[[4,4,4]],Z:[[4,4,4]]}},E:{0:[0,-1,-1],I:[[0,1,-1]],J:[[0,1,-1]],Y:[[0,1,-1]],U:[[1,1,-1]],W:[[1,1,-1]]},F:{0:[7,7,7],B:[[7,7,7]]},G:[[5,5,5]],H:[[5,5,-1]],I:{0:[0,-1,-1],A:[[1,-1,-1]],E:[[1,-1,-1]],O:[[1,-1,-1]],U:[[1,-1,-1]]},J:[[4,4,4]],K:{0:[5,5,5],H:[[5,5,5]],S:[[5,54,54]]},L:[[8,8,8]],M:{0:[6,6,6],N:[[66,66,66]]},N:{0:[6,6,6],M:[[66,66,66]]},O:{0:[0,-1,-1],I:[[0,1,-1]],J:[[0,1,-1]],Y:[[0,1,-1]]},P:{0:[7,7,7],F:[[7,7,7]],H:[[7,7,7]]},Q:[[5,5,5]],R:{0:[9,9,9],Z:[[94,94,94],[94,94,94]],S:[[94,94,94],[94,94,94]]},S:{0:[4,4,4],Z:{0:[4,4,4],T:[[2,43,43]],C:{Z:[[2,4,4]],S:[[2,4,4]]},D:[[2,43,43]]},D:[[2,43,43]],T:{0:[2,43,43],R:{Z:[[2,4,4]],S:[[2,4,4]]},C:{H:[[2,4,4]]},S:{H:[[2,4,4]],C:{H:[[2,4,4]]}}},C:{0:[2,4,4],H:{0:[4,4,4],T:{0:[2,43,43],S:{C:{H:[[2,4,4]]},H:[[2,4,4]]},C:{H:[[2,4,4]]}},D:[[2,43,43]]}},H:{0:[4,4,4],T:{0:[2,43,43],C:{H:[[2,4,4]]},S:{H:[[2,4,4]]}},C:{H:[[2,4,4]]},D:[[2,43,43]]}},T:{0:[3,3,3],C:{0:[4,4,4],H:[[4,4,4]]},Z:{0:[4,4,4],S:[[4,4,4]]},S:{0:[4,4,4],Z:[[4,4,4]],H:[[4,4,4]],C:{H:[[4,4,4]]}},T:{S:{0:[4,4,4],Z:[[4,4,4]],C:{H:[[4,4,4]]}},C:{H:[[4,4,4]]},Z:[[4,4,4]]},H:[[3,3,3]],R:{Z:[[4,4,4]],S:[[4,4,4]]}},U:{0:[0,-1,-1],E:[[0,-1,-1]],I:[[0,1,-1]],J:[[0,1,-1]],Y:[[0,1,-1]]},V:[[7,7,7]],W:[[7,7,7]],X:[[5,54,54]],Y:[[1,-1,-1]],Z:{0:[4,4,4],D:{0:[2,43,43],Z:{0:[2,4,4],H:[[2,4,4]]}},H:{0:[4,4,4],D:{0:[2,43,43],Z:{H:[[2,4,4]]}}},S:{0:[4,4,4],H:[[4,4,4]],C:{H:[[4,4,4]]}}}};function process(word,codeLength){codeLength=codeLength||6;word=word.toUpperCase();var output="";var pos=0,lastCode=-1;while(pos<word.length){var substr=word.slice(pos);var rules=findRules(substr);var code;if(pos==0){code=rules.mapping[0]}else if(substr[rules.length]&&findRules(substr[rules.length]).mapping[0]==0){code=rules.mapping[1]}else{code=rules.mapping[2]}if(code!=-1&&code!=lastCode)output+=code;lastCode=code;pos+=rules.length}return normalizeLength(output,codeLength)}function findRules(str){var state=codes[str[0]];var legalState=state||[[-1,-1,-1]],charsInvolved=1;for(var offs=1;offs<str.length;offs++){if(!state||!state[str[offs]])break;state=state[str[offs]];if(state[0]){legalState=state;charsInvolved=offs+1}}return{length:charsInvolved,mapping:legalState[0]}}function normalizeLength(token,length){length=length||6;if(token.length<length){token+=new Array(length-token.length+1).join("0")}return token.slice(0,length)}var Phonetic=require("./phonetic");var soundex=new Phonetic;soundex.process=process;module.exports=soundex},{"./phonetic":43}],41:[function(require,module,exports){var Phonetic=require("./phonetic");var DoubleMetaphone=new Phonetic;module.exports=DoubleMetaphone;function isVowel(c){return c&&c.match(/[aeiouy]/i)}function truncate(string,length){if(string.length>=length)string=string.substring(0,length);return string}function process(token,maxLength){token=token.toUpperCase();var primary="",secondary="";var pos=0;maxLength==maxLength||32;function subMatch(startOffset,stopOffset,terms){return subMatchAbsolute(pos+startOffset,pos+stopOffset,terms)}function subMatchAbsolute(startOffset,stopOffset,terms){return terms.indexOf(token.substring(startOffset,stopOffset))>-1}function addSecondary(primaryAppendage,secondaryAppendage){primary+=primaryAppendage;secondary+=secondaryAppendage}function add(primaryAppendage){addSecondary(primaryAppendage,primaryAppendage)}function addCompressedDouble(c,encoded){if(token[pos+1]==c)pos++;add(encoded||c)}function handleC(){if(pos>=1&&!isVowel(token[pos-2])&&token[pos-1]=="A"&&token[pos+1]=="H"&&(token[pos+2]!="I"&&token[pos+2]!="I")||subMatch(-2,4,["BACHER","MACHER"])){add("K");pos++}else if(pos==0&&token.substring(1,6)=="EASAR"){add("S");add("S");add("R");pos+=6}else if(token.substring(pos+1,pos+4)=="HIA"){add("K");pos++}else if(token[pos+1]=="H"){if(pos>0&&token.substring(pos+2,pos+4)=="AE"){addSecondary("K","X");pos++}else if(pos==0&&(subMatch(1,6,["HARAC","HARIS"])||subMatch(1,4,["HOR","HUM","HIA","HEM"]))&&token.substring(pos+1,pos+5)!="HORE"){add("K");pos++}else{if(subMatchAbsolute(0,3,["VAN","VON"])||token.substring(0,3)=="SCH"||subMatch(-2,4,["ORCHES","ARCHIT","ORCHID"])||subMatch(2,3,["T","S"])||(subMatch(-1,0,["A","O","U","E"])||pos==0)&&subMatch(2,3,["B","F","H","L","M","N","R","V","W"])){add("K")}else if(pos>0){if(token.substring(0,2)=="MC"){add("K")}else{addSecondary("X","K")}}else{add("X")}pos++}}else if(token.substring(pos,pos+2)=="CZ"&&token.substring(pos-2,pos+1)!="WICZ"){addSecondary("S","X");pos++}else if(token.substring(pos,pos+3)=="CIA"){add("X");pos+=2}else if(token[pos+1]=="C"&&pos!=1&&token[0]!="M"){if(["I","E","H"].indexOf(token[pos+2])>-1&&token.substring(pos+2,pos+4)!="HU"){if(pos==1&&token[pos-1]=="A"||subMatch(-1,4,["UCCEE","UCCES"])){add("KS")}else{add("X")}pos+=2}else{add("K");pos++}}else if(["K","G","Q"].indexOf(token[pos+1])>-1){add("K");pos++}else if(["E","I","Y"].indexOf(token[pos+1])>-1){if(subMatch(1,3,["IA","IE","IO"])){addSecondary("S","X")}else{add("S")}pos++}else{add("K");if(token[pos+1]==" "&&["C","Q","G"].indexOf(token[pos+2])){pos+=2}else if(["C","K","Q"].indexOf(token[pos+1])>-1&&!subMatch(1,3,["CE","CI"])){pos++}}}function handleD(){if(token[pos+1]=="G"){if(["I","E","Y"].indexOf(token[pos+2])>-1){add("J");pos+=2}else{add("TK");pos++}}else if(token[pos+1]=="T"){add("T");pos++}else addCompressedDouble("D","T")}function handleG(){if(token[pos+1]=="H"){if(pos>0&&!isVowel(token[pos-1])){add("K");pos++}else if(pos==0){if(token[pos+2]=="I"){add("J")}else{add("K")}pos++}else if(pos>1&&(["B","H","D"].indexOf(token[pos-2])>-1||["B","H","D"].indexOf(token[pos-3])>-1||["B","H"].indexOf(token[pos-4])>-1)){pos++}else{if(pos>2&&token[pos-1]=="U"&&["C","G","L","R","T"].indexOf(token[pos-3])>-1){add("F")}else if(token[pos-1]!="I"){add("K")}pos++}}else if(token[pos+1]=="N"){if(pos==1&&startsWithVowel&&!slavoGermanic){addSecondary("KN","N")}else{if(token.substring(pos+2,pos+4)!="EY"&&(token[pos+1]!="Y"&&!slavoGermanic)){addSecondary("N","KN")}else add("KN")}pos++}else if(token.substring(pos+1,pos+3)=="LI"&&!slavoGermanic){addSecondary("KL","L");pos++}else if(pos==0&&(token[pos+1]=="Y"||subMatch(1,3,["ES","EP","EB","EL","EY","IB","IL","IN","IE","EI","ER"]))){addSecondary("K","J")}else{addCompressedDouble("G","K")}}function handleH(){if((pos==0||isVowel(token[pos-1]))&&isVowel(token[pos+1])){add("H");pos++}}function handleJ(){var jose=token.substring(pos+1,pos+4)=="OSE";if(san||jose){if(pos==0&&token[pos+4]==" "||san){add("H")}else add("J","H")}else{if(pos==0){addSecondary("J","A")}else if(isVowel(token[pos-1])&&!slavoGermanic&&(token[pos+1]=="A"||token[pos+1]=="O")){addSecondary("J","H")}else if(pos==token.length-1){addSecondary("J"," ")}else addCompressedDouble("J")}}function handleL(){if(token[pos+1]=="L"){if(pos==token.length-3&&(subMatch(-1,3,["ILLO","ILLA","ALLE"])||token.substring(pos-1,pos+3)=="ALLE"&&(subMatch(-2,-1,["AS","OS"])>-1||["A","O"].indexOf(token[token.length-1])>-1))){addSecondary("L","");pos++;return}pos++}add("L")}function handleM(){addCompressedDouble("M");if(token[pos-1]=="U"&&token[pos+1]=="B"&&(pos==token.length-2||token.substring(pos+2,pos+4)=="ER"))pos++}function handleP(){if(token[pos+1]=="H"){add("F");pos++}else{addCompressedDouble("P");if(token[pos+1]=="B")pos++}}function handleR(){if(pos==token.length-1&&!slavoGermanic&&token.substring(pos-2,pos)=="IE"&&!subMatch(-4,-3,["ME","MA"])){addSecondary("","R")}else addCompressedDouble("R")}function handleS(){if(pos==0&&token.substring(0,5)=="SUGAR"){addSecondary("X","S")}else if(token[pos+1]=="H"){if(subMatch(2,5,["EIM","OEK","OLM","OLZ"])){add("S")}else{add("X")}pos++}else if(subMatch(1,3,["IO","IA"])){if(slavoGermanic){add("S")}else{addSecondary("S","X")}pos++}else if(pos==0&&["M","N","L","W"].indexOf(token[pos+1])>-1||token[pos+1]=="Z"){addSecondary("S","X");if(token[pos+1]=="Z")pos++}else if(token.substring(pos,pos+2)=="SC"){if(token[pos+2]=="H"){if(subMatch(3,5,["ER","EN"])){addSecondary("X","SK")}else if(subMatch(3,5,["OO","UY","ED","EM"])){add("SK")}else if(pos==0&&!isVowel(token[3])&&token[3]!="W"){addSecondary("X","S")}else{add("X")}}else if(["I","E","Y"].indexOf(token[pos+2])>-1){add("S")}else{add("SK")}pos+=2}else if(pos==token.length-1&&subMatch(-2,0,["AI","OI"])){addSecondary("","S")}else if(token[pos+1]!="L"&&(token[pos-1]!="A"&&token[pos-1]!="I")){addCompressedDouble("S");if(token[pos+1]=="Z")pos++}}function handleT(){if(token.substring(pos+1,pos+4)=="ION"){add("XN");pos+=3}else if(subMatch(1,3,["IA","CH"])){add("X");pos+=2}else if(token[pos+1]=="H"||token.substring(1,2)=="TH"){if(subMatch(2,4,["OM","AM"])||["VAN ","VON "].indexOf(token.substring(0,4))>-1||token.substring(0,3)=="SCH"){add("T")}else addSecondary("0","T");pos++}else{addCompressedDouble("T");if(token[pos+1]=="D")pos++}}function handleX(){if(pos==0){add("S")}else if(!(pos==token.length-1&&(["IAU","EAU","IEU"].indexOf(token.substring(pos-3,pos))>-1||["AU","OU"].indexOf(token.substring(pos-2,pos))>-1))){add("KS")}}function handleW(){if(pos==0){if(token[1]=="H"){add("A")}else if(isVowel(token[1])){addSecondary("A","F")}}else if(pos==token.length-1&&isVowel(token[pos-1])||subMatch(-1,4,["EWSKI","EWSKY","OWSKI","OWSKY"])||token.substring(0,3)=="SCH"){addSecondary("","F");pos++}else if(["ICZ","ITZ"].indexOf(token.substring(pos+1,pos+4))>-1){addSecondary("TS","FX");pos+=3}}function handleZ(){if(token[pos+1]=="H"){add("J");pos++}else if(subMatch(1,3,["ZO","ZI","ZA"])||slavoGermanic&&pos>0&&token[pos-1]!="T"){addSecondary("S","TS");pos++}else addCompressedDouble("Z","S")}var san=token.substring(0,3)=="SAN";var startsWithVowel=isVowel(token[0]);var slavoGermanic=token.match(/(W|K|CZ|WITZ)/);if(subMatch(0,2,["GN","KN","PN","WR","PS"])){pos++}while(pos<token.length){switch(token[pos]){case"A":case"E":case"I":case"O":case"U":case"Y":case"Ê":case"É":case"É":case"À":if(pos==0)add("A");break;case"B":addCompressedDouble("B","P");break;case"C":handleC();break;case"Ç":add("S");break;case"D":handleD();break;case"F":case"K":case"N":addCompressedDouble(token[pos]);break;case"G":handleG();break;case"H":handleH();break;case"J":handleJ();break;case"L":handleL();break;case"M":handleM();break;case"Ñ":add("N");break;case"P":handleP();break;case"Q":addCompressedDouble("Q","K");break;case"R":handleR();break;case"S":handleS();break;case"T":handleT();break;case"V":addCompressedDouble("V","F");break;case"W":handleW();break;case"X":handleX();break;case"Z":handleZ();break}if(primary.length>=maxLength&&secondary.length>=maxLength){break}pos++}return[truncate(primary,maxLength),truncate(secondary,maxLength)]}function compare(stringA,stringB){var encodingsA=process(stringA),encodingsB=process(stringB);return encodingsA[0]==encodingsB[0]||encodingsA[1]==encodingsB[1]}DoubleMetaphone.compare=compare;DoubleMetaphone.process=process;DoubleMetaphone.isVowel=isVowel},{"./phonetic":43}],42:[function(require,module,exports){var Phonetic=require("./phonetic");function dedup(token){return token.replace(/([^c])\1/g,"$1")}function dropInitialLetters(token){if(token.match(/^(kn|gn|pn|ae|wr)/))return token.substr(1,token.length-1);
return token}function dropBafterMAtEnd(token){return token.replace(/mb$/,"m")}function cTransform(token){token=token.replace(/([^s]|^)(c)(h)/g,"$1x$3").trim();token=token.replace(/cia/g,"xia");token=token.replace(/c(i|e|y)/g,"s$1");token=token.replace(/c/g,"k");return token}function dTransform(token){token=token.replace(/d(ge|gy|gi)/g,"j$1");token=token.replace(/d/g,"t");return token}function dropG(token){token=token.replace(/gh(^$|[^aeiou])/g,"h$1");token=token.replace(/g(n|ned)$/g,"$1");return token}function transformG(token){token=token.replace(/gh/g,"f");token=token.replace(/([^g]|^)(g)(i|e|y)/g,"$1j$3");token=token.replace(/gg/g,"g");token=token.replace(/g/g,"k");return token}function dropH(token){return token.replace(/([aeiou])h([^aeiou]|$)/g,"$1$2")}function transformCK(token){return token.replace(/ck/g,"k")}function transformPH(token){return token.replace(/ph/g,"f")}function transformQ(token){return token.replace(/q/g,"k")}function transformS(token){return token.replace(/s(h|io|ia)/g,"x$1")}function transformT(token){token=token.replace(/t(ia|io)/g,"x$1");token=token.replace(/th/,"0");return token}function dropT(token){return token.replace(/tch/g,"ch")}function transformV(token){return token.replace(/v/g,"f")}function transformWH(token){return token.replace(/^wh/,"w")}function dropW(token){return token.replace(/w([^aeiou]|$)/g,"$1")}function transformX(token){token=token.replace(/^x/,"s");token=token.replace(/x/g,"ks");return token}function dropY(token){return token.replace(/y([^aeiou]|$)/g,"$1")}function transformZ(token){return token.replace(/z/,"s")}function dropVowels(token){return token.charAt(0)+token.substr(1,token.length).replace(/[aeiou]/g,"")}var Metaphone=new Phonetic;module.exports=Metaphone;Metaphone.process=function(token,maxLength){maxLength==maxLength||32;token=token.toLowerCase();token=dedup(token);token=dropInitialLetters(token);token=dropBafterMAtEnd(token);token=transformCK(token);token=cTransform(token);token=dTransform(token);token=dropG(token);token=transformG(token);token=dropH(token);token=transformPH(token);token=transformQ(token);token=transformS(token);token=transformX(token);token=transformT(token);token=dropT(token);token=transformV(token);token=transformWH(token);token=dropW(token);token=dropY(token);token=transformZ(token);token=dropVowels(token);token.toUpperCase();if(token.length>=maxLength)token=token.substring(0,maxLength);return token.toUpperCase()};Metaphone.dedup=dedup;Metaphone.dropInitialLetters=dropInitialLetters;Metaphone.dropBafterMAtEnd=dropBafterMAtEnd;Metaphone.cTransform=cTransform;Metaphone.dTransform=dTransform;Metaphone.dropG=dropG;Metaphone.transformG=transformG;Metaphone.dropH=dropH;Metaphone.transformCK=transformCK;Metaphone.transformPH=transformPH;Metaphone.transformQ=transformQ;Metaphone.transformS=transformS;Metaphone.transformT=transformT;Metaphone.dropT=dropT;Metaphone.transformV=transformV;Metaphone.transformWH=transformWH;Metaphone.dropW=dropW;Metaphone.transformX=transformX;Metaphone.dropY=dropY;Metaphone.transformZ=transformZ;Metaphone.dropVowels=dropVowels},{"./phonetic":43}],43:[function(require,module,exports){var stopwords=require("../util/stopwords");var Tokenizer=require("../tokenizers/aggressive_tokenizer"),tokenizer=new Tokenizer;module.exports=function(){this.compare=function(stringA,stringB){return this.process(stringA)==this.process(stringB)};this.attach=function(){var phonetic=this;String.prototype.soundsLike=function(compareTo){return phonetic.compare(this,compareTo)};String.prototype.phonetics=function(){return phonetic.process(this)};String.prototype.tokenizeAndPhoneticize=function(keepStops){var phoneticizedTokens=[];tokenizer.tokenize(this).forEach(function(token){if(keepStops||stopwords.words.indexOf(token)<0)phoneticizedTokens.push(token.phonetics())});return phoneticizedTokens}}}},{"../tokenizers/aggressive_tokenizer":68,"../util/stopwords":90}],44:[function(require,module,exports){var Phonetic=require("./phonetic");function transformLipps(token){return token.replace(/[bfpv]/g,"1")}function transformThroats(token){return token.replace(/[cgjkqsxz]/g,"2")}function transformToungue(token){return token.replace(/[dt]/g,"3")}function transformL(token){return token.replace(/l/g,"4")}function transformHum(token){return token.replace(/[mn]/g,"5")}function transformR(token){return token.replace(/r/g,"6")}function condense(token){return token.replace(/(\d)?\1+/g,"$1")}function padRight0(token){if(token.length<4)return token+Array(4-token.length).join("0");else return token}function transform(token){return transformLipps(transformThroats(transformToungue(transformL(transformHum(transformR(token))))))}var SoundEx=new Phonetic;module.exports=SoundEx;SoundEx.process=function(token,maxLength){token=token.toLowerCase();var transformed=condense(transform(token.substr(1,token.length-1)));transformed=transformed.replace(new RegExp("^"+transform(token.charAt(0))),"");return token.charAt(0).toUpperCase()+padRight0(transformed.replace(/\D/g,"")).substr(0,maxLength&&maxLength-1||3)};SoundEx.transformLipps=transformLipps;SoundEx.transformThroats=transformThroats;SoundEx.transformToungue=transformToungue;SoundEx.transformL=transformL;SoundEx.transformHum=transformHum;SoundEx.transformR=transformR;SoundEx.condense=condense;SoundEx.padRight0=padRight0},{"./phonetic":43}],45:[function(require,module,exports){var Trie=require("../trie/trie");function Spellcheck(wordlist){this.trie=new Trie;this.trie.addStrings(wordlist);this.word2frequency={};for(var i in wordlist){if(!this.word2frequency[wordlist[i]]){this.word2frequency[wordlist[i]]=0}this.word2frequency[wordlist[i]]++}}Spellcheck.prototype.isCorrect=function(word){return this.trie.contains(word)};Spellcheck.prototype.getCorrections=function(word,maxDistance){var self=this;if(!maxDistance)maxDistance=1;var edits=this.editsWithMaxDistance(word,maxDistance);edits=edits.slice(1,edits.length);edits=edits.map(function(editList){return editList.filter(function(word){return self.isCorrect(word)}).map(function(word){return[word,self.word2frequency[word]]}).sort(function(a,b){return a[1]>b[1]?-1:1}).map(function(wordscore){return wordscore[0]})});var flattened=[];for(var i in edits){if(edits[i].length)flattened=flattened.concat(edits[i])}return flattened.filter(function(v,i,a){return a.indexOf(v)==i})};Spellcheck.prototype.edits=function(word){var alphabet="abcdefghijklmnopqrstuvwxyz";var edits=[];for(var i=0;i<word.length+1;i++){if(i>0)edits.push(word.slice(0,i-1)+word.slice(i,word.length));if(i>0&&i<word.length+1)edits.push(word.slice(0,i-1)+word.slice(i,i+1)+word.slice(i-1,i)+word.slice(i+1,word.length));for(var k=0;k<alphabet.length;k++){if(i>0)edits.push(word.slice(0,i-1)+alphabet[k]+word.slice(i,word.length));edits.push(word.slice(0,i)+alphabet[k]+word.slice(i,word.length))}}edits=edits.filter(function(v,i,a){return a.indexOf(v)==i});return edits};Spellcheck.prototype.editsWithMaxDistance=function(word,distance){return this.editsWithMaxDistanceHelper(distance,[[word]])};Spellcheck.prototype.editsWithMaxDistanceHelper=function(distanceCounter,distance2edits){if(distanceCounter==0)return distance2edits;var currentDepth=distance2edits.length-1;var words=distance2edits[currentDepth];var edits=this.edits(words[0]);distance2edits[currentDepth+1]=[];for(var i in words){distance2edits[currentDepth+1]=distance2edits[currentDepth+1].concat(this.edits(words[i]))}return this.editsWithMaxDistanceHelper(distanceCounter-1,distance2edits)};module.exports=Spellcheck},{"../trie/trie":85}],46:[function(require,module,exports){exports.rules={a:[{continuation:false,intact:true,pattern:"ia",size:"2"},{continuation:false,intact:true,pattern:"a",size:"1"}],b:[{continuation:false,intact:false,pattern:"bb",size:"1"}],c:[{appendage:"s",continuation:false,intact:false,pattern:"ytic",size:"3"},{continuation:true,intact:false,pattern:"ic",size:"2"},{appendage:"t",continuation:true,intact:false,pattern:"nc",size:"1"}],d:[{continuation:false,intact:false,pattern:"dd",size:"1"},{appendage:"y",continuation:true,intact:false,pattern:"ied",size:"3"},{appendage:"ss",continuation:false,intact:false,pattern:"ceed",size:"2"},{continuation:false,intact:false,pattern:"eed",size:"1"},{continuation:true,intact:false,pattern:"ed",size:"2"},{continuation:true,intact:false,pattern:"hood",size:"4"}],e:[{continuation:true,intact:false,pattern:"e",size:"1"}],f:[{appendage:"v",continuation:false,intact:false,pattern:"lief",size:"1"},{continuation:true,intact:false,pattern:"if",size:"2"}],g:[{continuation:true,intact:false,pattern:"ing",size:"3"},{appendage:"y",continuation:false,intact:false,pattern:"iag",size:"3"},{continuation:true,intact:false,pattern:"ag",size:"2"},{continuation:false,intact:false,pattern:"gg",size:"1"}],h:[{continuation:false,intact:true,pattern:"th",size:"2"},{appendage:"ct",continuation:false,intact:false,pattern:"guish",size:"5"},{continuation:true,intact:false,pattern:"ish",size:"3"}],i:[{continuation:false,intact:true,pattern:"i",size:"1"},{appendage:"y",continuation:true,intact:false,pattern:"i",size:"1"}],j:[{appendage:"d",continuation:false,intact:false,pattern:"ij",size:"1"},{appendage:"s",continuation:false,intact:false,pattern:"fuj",size:"1"},{appendage:"d",continuation:false,intact:false,pattern:"uj",size:"1"},{appendage:"d",continuation:false,intact:false,pattern:"oj",size:"1"},{appendage:"r",continuation:false,intact:false,pattern:"hej",size:"1"},{appendage:"t",continuation:false,intact:false,pattern:"verj",size:"1"},{appendage:"t",continuation:false,intact:false,pattern:"misj",size:"2"},{appendage:"d",continuation:false,intact:false,pattern:"nj",size:"1"},{appendage:"s",continuation:false,intact:false,pattern:"j",size:"1"}],l:[{continuation:false,intact:false,pattern:"ifiabl",size:"6"},{appendage:"y",continuation:false,intact:false,pattern:"iabl",size:"4"},{continuation:true,intact:false,pattern:"abl",size:"3"},{continuation:false,intact:false,pattern:"ibl",size:"3"},{appendage:"l",continuation:true,intact:false,pattern:"bil",size:"2"},{continuation:false,intact:false,pattern:"cl",size:"1"},{appendage:"y",continuation:false,intact:false,pattern:"iful",size:"4"},{continuation:true,intact:false,pattern:"ful",size:"3"},{continuation:false,intact:false,pattern:"ul",size:"2"},{continuation:true,intact:false,pattern:"ial",size:"3"},{continuation:true,intact:false,pattern:"ual",size:"3"},{continuation:true,intact:false,pattern:"al",size:"2"},{continuation:false,intact:false,pattern:"ll",size:"1"}],m:[{continuation:false,intact:false,pattern:"ium",size:"3"},{continuation:false,intact:true,pattern:"um",size:"2"},{continuation:true,intact:false,pattern:"ism",size:"3"},{continuation:false,intact:false,pattern:"mm",size:"1"}],n:[{appendage:"j",continuation:true,intact:false,pattern:"sion",size:"4"},{appendage:"ct",continuation:false,intact:false,pattern:"xion",size:"4"},{continuation:true,intact:false,pattern:"ion",size:"3"},{continuation:true,intact:false,pattern:"ian",size:"3"},{continuation:true,intact:false,pattern:"an",size:"2"},{continuation:false,intact:false,pattern:"een",size:"0"},{continuation:true,intact:false,pattern:"en",size:"2"},{continuation:false,intact:false,pattern:"nn",size:"1"}],p:[{continuation:true,intact:false,pattern:"ship",size:"4"},{continuation:false,intact:false,pattern:"pp",size:"1"}],r:[{continuation:true,intact:false,pattern:"er",size:"2"},{continuation:false,intact:false,pattern:"ear",size:"0"},{continuation:false,intact:false,pattern:"ar",size:"2"},{continuation:true,intact:false,pattern:"or",size:"2"},{continuation:true,intact:false,pattern:"ur",size:"2"},{continuation:false,intact:false,pattern:"rr",size:"1"},{continuation:true,intact:false,pattern:"tr",size:"1"},{appendage:"y",continuation:true,intact:false,pattern:"ier",size:"3"}],s:[{appendage:"y",continuation:true,intact:false,pattern:"ies",size:"3"},{continuation:false,intact:false,pattern:"sis",size:"2"},{continuation:true,intact:false,pattern:"is",size:"2"},{continuation:true,intact:false,pattern:"ness",size:"4"},{continuation:false,intact:false,pattern:"ss",size:"0"},{continuation:true,intact:false,pattern:"ous",size:"3"},{continuation:false,intact:true,pattern:"us",size:"2"},{continuation:true,intact:true,pattern:"s",size:"1"},{continuation:false,intact:false,pattern:"s",size:"0"}],t:[{appendage:"y",continuation:false,intact:false,pattern:"plicat",size:"4"},{continuation:true,intact:false,pattern:"at",size:"2"},{continuation:true,intact:false,pattern:"ment",size:"4"},{continuation:true,intact:false,pattern:"ent",size:"3"},{continuation:true,intact:false,pattern:"ant",size:"3"},{appendage:"b",continuation:false,intact:false,pattern:"ript",size:"2"},{appendage:"b",continuation:false,intact:false,pattern:"orpt",size:"2"},{continuation:false,intact:false,pattern:"duct",size:"1"},{continuation:false,intact:false,pattern:"sumpt",size:"2"},{appendage:"iv",continuation:false,intact:false,pattern:"cept",size:"2"},{appendage:"v",continuation:false,intact:false,pattern:"olut",size:"2"},{continuation:false,intact:false,pattern:"sist",size:"0"},{continuation:true,intact:false,pattern:"ist",size:"3"},{continuation:false,intact:false,pattern:"tt",size:"1"}],u:[{continuation:false,intact:false,pattern:"iqu",size:"3"},{continuation:false,intact:false,pattern:"ogu",size:"1"}],v:[{appendage:"j",continuation:true,intact:false,pattern:"siv",size:"3"},{continuation:false,intact:false,pattern:"eiv",size:"0"},{continuation:true,intact:false,pattern:"iv",size:"2"}],y:[{continuation:true,intact:false,pattern:"bly",size:"1"},{appendage:"y",continuation:true,intact:false,pattern:"ily",size:"3"},{continuation:false,intact:false,pattern:"ply",size:"0"},{continuation:true,intact:false,pattern:"ly",size:"2"},{continuation:false,intact:false,pattern:"ogy",size:"1"},{continuation:false,intact:false,pattern:"phy",size:"1"},{continuation:false,intact:false,pattern:"omy",size:"1"},{continuation:false,intact:false,pattern:"opy",size:"1"},{continuation:true,intact:false,pattern:"ity",size:"3"},{continuation:true,intact:false,pattern:"ety",size:"3"},{continuation:false,intact:false,pattern:"lty",size:"2"},{continuation:false,intact:false,pattern:"istry",size:"5"},{continuation:true,intact:false,pattern:"ary",size:"3"},{continuation:true,intact:false,pattern:"ory",size:"3"},{continuation:false,intact:false,pattern:"ify",size:"3"},{appendage:"t",continuation:true,intact:false,pattern:"ncy",size:"2"},{continuation:true,intact:false,pattern:"acy",size:"3"}],z:[{continuation:true,intact:false,pattern:"iz",size:"2"},{appendage:"s",continuation:false,intact:false,pattern:"yz",size:"1"}]}},{}],47:[function(require,module,exports){var Stemmer=require("./stemmer");var ruleTable=require("./lancaster_rules").rules;function acceptable(candidate){if(candidate.match(/^[aeiou]/))return candidate.length>1;else return candidate.length>2&&candidate.match(/[aeiouy]/)}function applyRuleSection(token,intact){var section=token.substr(-1);var rules=ruleTable[section];if(rules){for(var i=0;i<rules.length;i++){if((intact||!rules[i].intact)&&token.substr(0-rules[i].pattern.length)==rules[i].pattern){var result=token.substr(0,token.length-rules[i].size);if(rules[i].appendage)result+=rules[i].appendage;if(acceptable(result)){token=result;if(rules[i].continuation){return applyRuleSection(result,false)}else{return result}}}}}return token}var LancasterStemmer=new Stemmer;module.exports=LancasterStemmer;LancasterStemmer.stem=function(token){return applyRuleSection(token.toLowerCase(),true)}},{"./lancaster_rules":46,"./stemmer":56}],48:[function(require,module,exports){var Stemmer=require("./stemmer");function categorizeGroups(token){return token.replace(/[^aeiouy]+y/g,"CV").replace(/[aeiou]+/g,"V").replace(/[^V]+/g,"C")}function categorizeChars(token){return token.replace(/[^aeiouy]y/g,"CV").replace(/[aeiou]/g,"V").replace(/[^V]/g,"C")}function measure(token){if(!token)return-1;return categorizeGroups(token).replace(/^C/,"").replace(/V$/,"").length/2}function endsWithDoublCons(token){return token.match(/([^aeiou])\1$/)}function attemptReplace(token,pattern,replacement,callback){var result=null;if(typeof pattern=="string"&&token.substr(0-pattern.length)==pattern)result=token.replace(new RegExp(pattern+"$"),replacement);else if(pattern instanceof RegExp&&token.match(pattern))result=token.replace(pattern,replacement);if(result&&callback)return callback(result);else return result}function attemptReplacePatterns(token,replacements,measureThreshold){var replacement=token;for(var i=0;i<replacements.length;i++){if(measureThreshold==null||measure(attemptReplace(token,replacements[i][0],replacements[i][1]))>measureThreshold){replacement=attemptReplace(replacement,replacements[i][0],replacements[i][2])||replacement}}return replacement}function replacePatterns(token,replacements,measureThreshold){return attemptReplacePatterns(token,replacements,measureThreshold)||token}function replaceRegex(token,regex,includeParts,minimumMeasure){var parts;var result="";if(regex.test(token)){parts=regex.exec(token);includeParts.forEach(function(i){result+=parts[i]})}if(measure(result)>minimumMeasure){return result}return null}function step1a(token){if(token.match(/(ss|i)es$/)){return token.replace(/(ss|i)es$/,"$1")}if(token.substr(-1)=="s"&&token.substr(-2,1)!="s"&&token.length>2){return token.replace(/s?$/,"")}return token}function step1b(token){if(token.substr(-3)=="eed"){if(measure(token.substr(0,token.length-3))>0)return token.replace(/eed$/,"ee")}else{var result=attemptReplace(token,/(ed|ing)$/,"",function(token){if(categorizeGroups(token).indexOf("V")>=0){result=attemptReplacePatterns(token,[["at","","ate"],["bl","","ble"],["iz","","ize"]]);if(result!=token){return result}else{if(endsWithDoublCons(token)&&token.match(/[^lsz]$/)){return token.replace(/([^aeiou])\1$/,"$1")}if(measure(token)==1&&categorizeChars(token).substr(-3)=="CVC"&&token.match(/[^wxy]$/)){return token+"e"}}return token}return null});if(result){return result}}return token}function step1c(token){var categorizedGroups=categorizeGroups(token);if(token.substr(-1)=="y"&&categorizedGroups.substr(0,categorizedGroups.length-1).indexOf("V")>-1){return token.replace(/y$/,"i")}return token}function step2(token){token=replacePatterns(token,[["ational","","ate"],["tional","","tion"],["enci","","ence"],["anci","","ance"],["izer","","ize"],["abli","","able"],["bli","","ble"],["alli","","al"],["entli","","ent"],["eli","","e"],["ousli","","ous"],["ization","","ize"],["ation","","ate"],["ator","","ate"],["alism","","al"],["iveness","","ive"],["fulness","","ful"],["ousness","","ous"],["aliti","","al"],["iviti","","ive"],["biliti","","ble"],["logi","","log"]],0);return token}function step3(token){return replacePatterns(token,[["icate","","ic"],["ative","",""],["alize","","al"],["iciti","","ic"],["ical","","ic"],["ful","",""],["ness","",""]],0)}function step4(token){return replaceRegex(token,/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,[1],1)||replaceRegex(token,/^(.+?)(s|t)(ion)$/,[1,2],1)||token}function step5a(token){var m=measure(token.replace(/e$/,""));if(m>1||m==1&&!(categorizeChars(token).substr(-4,3)=="CVC"&&token.match(/[^wxy].$/))){token=token.replace(/e$/,"")}return token}function step5b(token){if(measure(token)>1){return token.replace(/ll$/,"l")}return token}var PorterStemmer=new Stemmer;module.exports=PorterStemmer;PorterStemmer.stem=function(token){if(token.length<3)return token;return step5b(step5a(step4(step3(step2(step1c(step1b(step1a(token.toLowerCase())))))))).toString()};PorterStemmer.categorizeGroups=categorizeGroups;PorterStemmer.measure=measure;PorterStemmer.step1a=step1a;PorterStemmer.step1b=step1b;PorterStemmer.step1c=step1c;PorterStemmer.step2=step2;PorterStemmer.step3=step3;PorterStemmer.step4=step4;PorterStemmer.step5a=step5a;PorterStemmer.step5b=step5b},{"./stemmer":56}],49:[function(require,module,exports){var Stemmer=require("./stemmer_es");var PorterStemmer=new Stemmer;module.exports=PorterStemmer;function isVowel(letter){return letter=="a"||letter=="e"||letter=="i"||letter=="o"||letter=="u"||letter=="á"||letter=="é"||letter=="í"||letter=="ó"||letter=="ú"}function getNextVowelPos(token,start){length=token.length;for(var i=start;i<length;i++)if(isVowel(token[i]))return i;return length}function getNextConsonantPos(token,start){length=token.length;for(var i=start;i<length;i++)if(!isVowel(token[i]))return i;return length}function endsin(token,suffix){if(token.length<suffix.length)return false;return token.slice(-suffix.length)==suffix}function endsinArr(token,suffixes){for(var i=0;i<suffixes.length;i++){if(endsin(token,suffixes[i]))return suffixes[i]}return""}function removeAccent(token){var str=token.replace(/á/gi,"a");str=str.replace(/é/gi,"e");str=str.replace(/í/gi,"i");str=str.replace(/ó/gi,"o");str=str.replace(/ú/gi,"u");return str}PorterStemmer.stem=function(token){token=token.toLowerCase();if(token.length<3){return token}var r1,r2,rv,len=token.length;for(var i=0;i<token.length-1&&r1==len;i++){if(isVowel(token[i])&&!isVowel(token[i+1])){r1=i+2}}for(var i=r1;i<token.length-1&&r2==len;i++){if(isVowel(token[i])&&!isVowel(token[i+1])){r2=i+2}}if(len>3){if(isVowel(token[1])){rv=getNextVowelPos(token,2)+1}else if(isVowel(token[0])&&isVowel(token[1])){rv=getNextConsonantPos(token,2)+1}else{rv=3}}var r1_txt=token.substring(r1-1);var r2_txt=token.substring(r2-1);var rv_txt=token.substring(rv-1);var token_orig=token;var pronoun_suf=new Array("me","se","sela","selo","selas","selos","la","le","lo","las","les","los","nos");var pronoun_suf_pre1=new Array("éndo","ándo","ár","ér","ír");var pronoun_suf_pre2=new Array("ando","iendo","ar","er","ir");var suf=endsinArr(token,pronoun_suf);if(suf!=""){var pre_suff=endsinArr(rv_txt.slice(0,-suf.length),pronoun_suf_pre1);if(pre_suff!=""){token=removeAccent(token.slice(0,-suf.length))}else{var pre_suff=endsinArr(rv_txt.slice(0,-suf.length),pronoun_suf_pre2);if(pre_suff!=""||endsin(token,"yendo")&&token.slice(-suf.length-6,1)=="u"){token=token.slice(0,-suf.length)}}}if(token!=token_orig){r1_txt=token.substring(r1-1);r2_txt=token.substring(r2-1);rv_txt=token.substring(rv-1)}var token_after0=token;if((suf=endsinArr(r2_txt,new Array("anza","anzas","ico","ica","icos","icas","ismo","ismos","able","ables","ible","ibles","ista","istas","oso","osa","osos","osas","amiento","amientos","imiento","imientos")))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(r2_txt,new Array("icadora","icador","icación","icadoras","icadores","icaciones","icante","icantes","icancia","icancias","adora","ador","ación","adoras","adores","aciones","ante","antes","ancia","ancias")))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(r2_txt,new Array("logía","logías")))!=""){token=token.slice(0,-suf.length)+"log"}else if((suf=endsinArr(r2_txt,new Array("ución","uciones")))!=""){token=token.slice(0,-suf.length)+"u"}else if((suf=endsinArr(r2_txt,new Array("encia","encias")))!=""){token=token.slice(0,-suf.length)+"ente"}else if((suf=endsinArr(r2_txt,new Array("ativamente","ivamente","osamente","icamente","adamente")))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(r1_txt,new Array("amente")))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(r2_txt,new Array("antemente","ablemente","iblemente","mente")))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(r2_txt,new Array("abilidad","abilidades","icidad","icidades","ividad","ividades","idad","idades")))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(r2_txt,new Array("ativa","ativo","ativas","ativos","iva","ivo","ivas","ivos")))!=""){token=token.slice(0,-suf.length)}if(token!=token_after0){r1_txt=token.substring(r1-1);r2_txt=token.substring(r2-1);rv_txt=token.substring(rv-1)}var token_after1=token;if(token_after0==token_after1){if((suf=endsinArr(rv_txt,new Array("ya","ye","yan","yen","yeron","yendo","yo","yó","yas","yes","yais","yamos")))!=""&&token.substring(suf.length-1,1)=="u"){token=token.slice(0,-suf.length)}if(token!=token_after1){r1_txt=token.substring(r1-1);r2_txt=token.substring(r2-1);rv_txt=token.substring(rv-1)}var token_after2a=token;if(token_after2a==token_after1){if((suf=endsinArr(rv_txt,new Array("en","es","éis","emos")))!=""){token=token.slice(0,-suf.length);if(endsin(token,"gu")){token=token.slice(0,-1)}}else if((suf=endsinArr(rv_txt,new Array("arían","arías","arán","arás","aríais","aría","aréis","aríamos","aremos","ará","aré","erían","erías","erán","erás","eríais","ería","eréis","eríamos","eremos","erá","eré","irían","irías","irán","irás","iríais","iría","iréis","iríamos","iremos","irá","iré","aba","ada","ida","ía","ara","iera","ad","ed","id","ase","iese","aste","iste","an","aban","ían","aran","ieran","asen","iesen","aron","ieron","ado","ido","ando","iendo","ió","ar","er","ir","as","abas","adas","idas","ías","aras","ieras","ases","ieses","ís","áis","abais","íais","arais","ierais","  aseis","ieseis","asteis","isteis","ados","idos","amos","ábamos","íamos","imos","áramos","iéramos","iésemos","ásemos")))!=""){token=token.slice(0,-suf.length)}}}r1_txt=token.substring(r1-1);r2_txt=token.substring(r2-1);rv_txt=token.substring(rv-1);if((suf=endsinArr(rv_txt,new Array("os","a","o","á","í","ó")))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(rv_txt,new Array("e","é")))!=""){token=token.slice(0,-1);rv_txt=token.substring(rv-1);if(endsin(rv_txt,"u")&&endsin(token,"gu")){token=token.slice(0,-1)}}return removeAccent(token)}},{"./stemmer_es":57}],50:[function(require,module,exports){var Stemmer=require("./stemmer_fa");var PorterStemmer=new Stemmer;module.exports=PorterStemmer;PorterStemmer.stem=function(token){return token}},{"./stemmer_fa":58}],51:[function(require,module,exports){"use strict";var Stemmer=require("./stemmer_fr");var PorterStemmer=new Stemmer;module.exports=PorterStemmer;PorterStemmer.stem=stem;PorterStemmer.prelude=prelude;PorterStemmer.regions=regions;PorterStemmer.endsinArr=endsinArr;function stem(token){token=prelude(token.toLowerCase());if(token.length==1)return token;var regs=regions(token);var r1_txt,r2_txt,rv_txt;r1_txt=token.substring(regs.r1);r2_txt=token.substring(regs.r2);rv_txt=token.substring(regs.rv);var beforeStep1=token;var suf,pref2,pref3,letterBefore,letter2Before,i;var doStep2a=false;if((suf=endsinArr(r2_txt,["ance","iqUe","isme","able","iste","eux","ances","iqUes","ismes","ables","istes"]))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(token,["icatrice","icateur","ication","icatrices","icateurs","ications"]))!=""){if(endsinArr(r2_txt,["icatrice","icateur","ication","icatrices","icateurs","ications"])!=""){token=token.slice(0,-suf.length)}else{token=token.slice(0,-suf.length)+"iqU"}}else if((suf=endsinArr(r2_txt,["atrice","ateur","ation","atrices","ateurs","ations"]))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(r2_txt,["logie","logies"]))!=""){token=token.slice(0,-suf.length)+"log"}else if((suf=endsinArr(r2_txt,["usion","ution","usions","utions"]))!=""){token=token.slice(0,-suf.length)+"u"}else if((suf=endsinArr(r2_txt,["ence","ences"]))!=""){token=token.slice(0,-suf.length)+"ent"}else if((suf=endsinArr(r1_txt,["issement","issements"]))!=""){if(!isVowel(token[token.length-suf.length-1])){token=token.slice(0,-suf.length);r1_txt=token.substring(regs.r1);r2_txt=token.substring(regs.r2);rv_txt=token.substring(regs.rv)}}else if((suf=endsinArr(r2_txt,["ativement","ativements"]))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(r2_txt,["ivement","ivements"]))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(token,["eusement","eusements"]))!=""){if((suf=endsinArr(r2_txt,["eusement","eusements"]))!="")token=token.slice(0,-suf.length);else if((suf=endsinArr(r1_txt,["eusement","eusements"]))!="")token=token.slice(0,-suf.length)+"eux";else if((suf=endsinArr(rv_txt,["ement","ements"]))!="")token=token.slice(0,-suf.length)}else if((suf=endsinArr(r2_txt,["ablement","ablements","iqUement","iqUements"]))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(rv_txt,["ièrement","ièrements","Ièrement","Ièrements"]))!=""){token=token.slice(0,-suf.length)+"i"}else if((suf=endsinArr(rv_txt,["ement","ements"]))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(token,["icité","icités"]))!=""){if(endsinArr(r2_txt,["icité","icités"])!="")token=token.slice(0,-suf.length);else token=token.slice(0,-suf.length)+"iqU"}else if((suf=endsinArr(token,["abilité","abilités"]))!=""){if(endsinArr(r2_txt,["abilité","abilités"])!="")token=token.slice(0,-suf.length);else token=token.slice(0,-suf.length)+"abl"}else if((suf=endsinArr(r2_txt,["ité","ités"]))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(token,["icatif","icative","icatifs","icatives"]))!=""){if((suf=endsinArr(r2_txt,["icatif","icative","icatifs","icatives"]))!=""){token=token.slice(0,-suf.length);r2_txt=token.substring(regs.r2);rv_txt=token.substring(regs.rv)}if((suf=endsinArr(r2_txt,["atif","ative","atifs","atives"]))!=""){token=token.slice(0,-suf.length-2)+"iqU";r2_txt=token.substring(regs.r2);rv_txt=token.substring(regs.rv)}}else if((suf=endsinArr(r2_txt,["atif","ative","atifs","atives"]))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(r2_txt,["if","ive","ifs","ives"]))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(token,["eaux"]))!=""){token=token.slice(0,-suf.length)+"eau"}else if((suf=endsinArr(r1_txt,["aux"]))!=""){token=token.slice(0,-suf.length)+"al"}else if((suf=endsinArr(r2_txt,["euse","euses"]))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(r1_txt,["euse","euses"]))!=""){token=token.slice(0,-suf.length)+"eux"}else if((suf=endsinArr(rv_txt,["amment"]))!=""){token=token.slice(0,-suf.length)+"ant";doStep2a=true}else if((suf=endsinArr(rv_txt,["emment"]))!=""){token=token.slice(0,-suf.length)+"ent";doStep2a=true}else if((suf=endsinArr(rv_txt,["ment","ments"]))!=""){letterBefore=token[token.length-suf.length-1];if(isVowel(letterBefore)&&endsin(rv_txt,letterBefore+suf)){token=token.slice(0,-suf.length);doStep2a=true}}r1_txt=token.substring(regs.r1);r2_txt=token.substring(regs.r2);rv_txt=token.substring(regs.rv);var beforeStep2a=token;var step2aDone=false;if(beforeStep1===token||doStep2a){step2aDone=true;if((suf=endsinArr(rv_txt,["îmes","ît","îtes","i","ie","Ie","ies","ir","ira","irai","iraIent","irais","irait","iras","irent","irez","iriez","irions","irons","iront","is","issaIent","issais","issait","issant","issante","issantes","issants","isse","issent","isses","issez","issiez","issions","issons","it"]))!=""){letterBefore=token[token.length-suf.length-1];if(!isVowel(letterBefore)&&endsin(rv_txt,letterBefore+suf))token=token.slice(0,-suf.length)}}if(step2aDone&&token===beforeStep2a){if((suf=endsinArr(rv_txt,["é","ée","ées","és","èrent","er","era","erai","eraIent","erais","erait","eras","erez","eriez","erions","erons","eront","ez","iez","Iez"]))!=""){token=token.slice(0,-suf.length);r2_txt=token.substring(regs.r2);rv_txt=token.substring(regs.rv)}else if((suf=endsinArr(rv_txt,["ions"]))!=""&&endsinArr(r2_txt,["ions"])){token=token.slice(0,-suf.length);r2_txt=token.substring(regs.r2);rv_txt=token.substring(regs.rv)}else if((suf=endsinArr(rv_txt,["âmes","ât","âtes","a","ai","aIent","ais","ait","ant","ante","antes","ants","as","asse","assent","asses","assiez","assions"]))!=""){token=token.slice(0,-suf.length);letterBefore=token[token.length-1];if(letterBefore==="e"&&endsin(rv_txt,"e"+suf))token=token.slice(0,-1);r2_txt=token.substring(regs.r2);rv_txt=token.substring(regs.rv)}}if(!(token===beforeStep1)){if(token[token.length-1]==="Y")token=token.slice(0,-1)+"i";if(token[token.length-1]==="ç")token=token.slice(0,-1)+"c"}else{letterBefore=token[token.length-1];letter2Before=token[token.length-2];if(letterBefore==="s"&&["a","i","o","u","è","s"].indexOf(letter2Before)==-1){token=token.slice(0,-1);r1_txt=token.substring(regs.r1);r2_txt=token.substring(regs.r2);rv_txt=token.substring(regs.rv)}if((suf=endsinArr(r2_txt,["ion"]))!=""){letterBefore=token[token.length-suf.length-1];
if(letterBefore==="s"||letterBefore==="t"){token=token.slice(0,-suf.length);r1_txt=token.substring(regs.r1);r2_txt=token.substring(regs.r2);rv_txt=token.substring(regs.rv)}}if((suf=endsinArr(rv_txt,["ier","ière","Ier","Ière"]))!=""){token=token.slice(0,-suf.length)+"i";r1_txt=token.substring(regs.r1);r2_txt=token.substring(regs.r2);rv_txt=token.substring(regs.rv)}if((suf=endsinArr(rv_txt,"e"))!=""){token=token.slice(0,-suf.length);r1_txt=token.substring(regs.r1);r2_txt=token.substring(regs.r2);rv_txt=token.substring(regs.rv)}if((suf=endsinArr(rv_txt,"ë"))!=""){if(token.slice(token.length-3,-1)==="gu")token=token.slice(0,-suf.length)}}if((suf=endsinArr(token,["enn","onn","ett","ell","eill"]))!=""){token=token.slice(0,-1)}i=token.length-1;while(i>0){if(!isVowel(token[i])){i--}else if(i!==token.length-1&&(token[i]==="é"||token[i]==="è")){token=token.substring(0,i)+"e"+token.substring(i+1,token.length);break}else{break}}return token.toLowerCase()}function regions(token){var r1,r2,rv,len;var i;r1=r2=rv=len=token.length;for(var i=0;i<len-1&&r1==len;i++){if(isVowel(token[i])&&!isVowel(token[i+1])){r1=i+2}}for(i=r1;i<len-1&&r2==len;i++){if(isVowel(token[i])&&!isVowel(token[i+1])){r2=i+2}}var three=token.slice(0,3);if(isVowel(token[0])&&isVowel(token[1])){rv=3}if(three==="par"||three=="col"||three==="tap")rv=3;else{for(i=1;i<len-1&&rv==len;i++){if(isVowel(token[i])){rv=i+1}}}return{r1:r1,r2:r2,rv:rv}}function prelude(token){token=token.toLowerCase();var result="";var i=0;if(token[i]==="y"&&isVowel(token[i+1])){result+=token[i].toUpperCase()}else{result+=token[i]}for(i=1;i<token.length;i++){if((token[i]==="u"||token[i]==="i")&&isVowel(token[i-1])&&isVowel(token[i+1])){result+=token[i].toUpperCase()}else if(token[i]==="y"&&(isVowel(token[i-1])||isVowel(token[i+1]))){result+=token[i].toUpperCase()}else if(token[i]==="u"&&token[i-1]==="q"){result+=token[i].toUpperCase()}else{result+=token[i]}}return result}function endsinArr(token,suffixes){var i,longest="";for(i=0;i<suffixes.length;i++){if(endsin(token,suffixes[i])&&suffixes[i].length>longest.length)longest=suffixes[i]}return longest}function isVowel(letter){return letter=="a"||letter=="e"||letter=="i"||letter=="o"||letter=="u"||letter=="y"||letter=="â"||letter=="à"||letter=="ë"||letter=="é"||letter=="ê"||letter=="è"||letter=="ï"||letter=="î"||letter=="ô"||letter=="û"||letter=="ù"}function endsin(token,suffix){if(token.length<suffix.length)return false;return token.slice(-suffix.length)==suffix}},{"./stemmer_fr":59}],52:[function(require,module,exports){var Stemmer=require("./stemmer_it");var PorterStemmer=new Stemmer;module.exports=PorterStemmer;function isVowel(letter){return letter=="a"||letter=="e"||letter=="i"||letter=="o"||letter=="u"||letter=="à"||letter=="è"||letter=="ì"||letter=="ò"||letter=="ù"}function getNextVowelPos(token,start){start=start+1;var length=token.length;for(var i=start;i<length;i++){if(isVowel(token[i])){return i}}return length}function getNextConsonantPos(token,start){length=token.length;for(var i=start;i<length;i++)if(!isVowel(token[i]))return i;return length}function endsin(token,suffix){if(token.length<suffix.length)return false;return token.slice(-suffix.length)==suffix}function endsinArr(token,suffixes){for(var i=0;i<suffixes.length;i++){if(endsin(token,suffixes[i]))return suffixes[i]}return""}function replaceAcute(token){var str=token.replace(/á/gi,"à");str=str.replace(/é/gi,"è");str=str.replace(/í/gi,"ì");str=str.replace(/ó/gi,"ò");str=str.replace(/ú/gi,"ù");return str}function vowelMarking(token){function replacer(match,p1,p2,p3){return p1+p2.toUpperCase()+p3}str=token.replace(/([aeiou])(i|u)([aeiou])/g,replacer);return str}PorterStemmer.stem=function(token){token=token.toLowerCase();token=replaceAcute(token);token=token.replace(/qu/g,"qU");token=vowelMarking(token);if(token.length<3){return token}var r1=r2=rv=len=token.length;for(var i=0;i<token.length-1&&r1==len;i++){if(isVowel(token[i])&&!isVowel(token[i+1])){r1=i+2}}for(var i=r1;i<token.length-1&&r2==len;i++){if(isVowel(token[i])&&!isVowel(token[i+1])){r2=i+2}}if(len>3){if(!isVowel(token[1])){rv=getNextVowelPos(token,1)+1}else if(isVowel(token[0])&&isVowel(token[1])){rv=getNextConsonantPos(token,2)+1}else{rv=3}}var r1_txt=token.substring(r1);var r2_txt=token.substring(r2);var rv_txt=token.substring(rv);var token_orig=token;var pronoun_suf=new Array("glieli","glielo","gliene","gliela","gliele","sene","tene","cela","cele","celi","celo","cene","vela","vele","veli","velo","vene","mela","mele","meli","melo","mene","tela","tele","teli","telo","gli","ci","la","le","li","lo","mi","ne","si","ti","vi");var pronoun_suf_pre1=new Array("ando","endo");var pronoun_suf_pre2=new Array("ar","er","ir");var suf=endsinArr(token,pronoun_suf);if(suf!=""){var pre_suff1=endsinArr(rv_txt.slice(0,-suf.length),pronoun_suf_pre1);var pre_suff2=endsinArr(rv_txt.slice(0,-suf.length),pronoun_suf_pre2);if(pre_suff1!=""){token=token.slice(0,-suf.length)}if(pre_suff2!=""){token=token.slice(0,-suf.length)+"e"}}if(token!=token_orig){r1_txt=token.substring(r1);r2_txt=token.substring(r2);rv_txt=token.substring(rv)}var token_after0=token;if((suf=endsinArr(r2_txt,new Array("ativamente","abilamente","ivamente","osamente","icamente")))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(r2_txt,new Array("icazione","icazioni","icatore","icatori","azione","azioni","atore","atori")))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(r2_txt,new Array("logia","logie")))!=""){token=token.slice(0,-suf.length)+"log"}else if((suf=endsinArr(r2_txt,new Array("uzione","uzioni","usione","usioni")))!=""){token=token.slice(0,-suf.length)+"u"}else if((suf=endsinArr(r2_txt,new Array("enza","enze")))!=""){token=token.slice(0,-suf.length)+"ente"}else if((suf=endsinArr(rv_txt,new Array("amento","amenti","imento","imenti")))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(r1_txt,new Array("amente")))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(r2_txt,new Array("atrice","atrici","abile","abili","ibile","ibili","mente","ante","anti","anza","anze","iche","ichi","ismo","ismi","ista","iste","isti","istà","istè","istì","ico","ici","ica","ice","oso","osi","osa","ose")))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(r2_txt,new Array("abilità","icità","ività","ità")))!=""){token=token.slice(0,-suf.length)}else if((suf=endsinArr(r2_txt,new Array("icativa","icativo","icativi","icative","ativa","ativo","ativi","ative","iva","ivo","ivi","ive")))!=""){token=token.slice(0,-suf.length)}if(token!=token_after0){r1_txt=token.substring(r1);r2_txt=token.substring(r2);rv_txt=token.substring(rv)}var token_after1=token;if(token_after0==token_after1){if((suf=endsinArr(rv_txt,new Array("erebbero","irebbero","assero","assimo","eranno","erebbe","eremmo","ereste","eresti","essero","iranno","irebbe","iremmo","ireste","iresti","iscano","iscono","issero","arono","avamo","avano","avate","eremo","erete","erono","evamo","evano","evate","iremo","irete","irono","ivamo","ivano","ivate","ammo","ando","asse","assi","emmo","enda","ende","endi","endo","erai","Yamo","iamo","immo","irai","irei","isca","isce","isci","isco","erei","uti","uto","ita","ite","iti","ito","iva","ivi","ivo","ono","uta","ute","ano","are","ata","ate","ati","ato","ava","avi","avo","erà","ere","erò","ete","eva","evi","evo","irà","ire","irò","ar","ir")))!=""){token=token.slice(0,-suf.length)}}r1_txt=token.substring(r1);r2_txt=token.substring(r2);rv_txt=token.substring(rv);if((suf=endsinArr(rv_txt,new Array("ia","ie","ii","io","ià","iè","iì","iò","a","e","i","o","à","è","ì","ò")))!=""){token=token.slice(0,-suf.length)}r1_txt=token.substring(r1);r2_txt=token.substring(r2);rv_txt=token.substring(rv);if((suf=endsinArr(rv_txt,new Array("ch")))!=""){token=token.slice(0,-suf.length)+"c"}else if((suf=endsinArr(rv_txt,new Array("gh")))!=""){token=token.slice(0,-suf.length)+"g"}r1_txt=token.substring(r1);r2_txt=token.substring(r2);rv_txt=token.substring(rv);return token.toLowerCase()}},{"./stemmer_it":60}],53:[function(require,module,exports){var Stemmer=require("./stemmer_no");function getR1(token){var match=token.match(/[aeiouyæåø]{1}[^aeiouyæåø]([A-Za-z0-9_æøåÆØÅäÄöÖüÜ]+)/);if(match){var preR1Length=match.index+2;if(preR1Length<3&&preR1Length>0){return token.slice(3)}else if(preR1Length>=3){return match[1]}else{return token}}return null}function step1(token){var step1aResult=step1a(token),step1bResult=step1b(token),step1cResult=step1c(token);if(step1aResult.length<step1bResult.length){return step1aResult.length<step1cResult.length?step1aResult:step1cResult}else{return step1bResult.length<step1cResult.length?step1bResult:step1cResult}}function step1a(token){var r1=getR1(token);if(!r1){return token}var r1Match=r1.match(/(a|e|ede|ande|ende|ane|ene|hetene|en|heten|ar|er|heter|as|es|edes|endes|enes|hetenes|ens|hetens|ers|ets|et|het|ast)$/);if(r1Match){return token.replace(new RegExp(r1Match[1]+"$"),"")}return token}function step1b(token){var r1=getR1(token);if(!r1){return token}if(token.match(/(b|c|d|f|g|h|j|l|m|n|o|p|r|t|v|y|z)s$/)){return token.slice(0,-1)}if(token.match(/([^aeiouyæåø]k)s$/)){return token.slice(0,-1)}return token}function step1c(token){var r1=getR1(token);if(!r1){return token}if(r1.match(/(erte|ert)$/)){return token.replace(/(erte|ert)$/,"er")}return token}function step2(token){var r1=getR1(token);if(!r1){return token}if(r1.match(/(d|v)t$/)){return token.slice(0,-1)}return token}function step3(token){var r1=getR1(token);if(!r1)return token;var r1Match=r1.match(/(leg|eleg|ig|eig|lig|elig|els|lov|elov|slov|hetslov)$/);if(r1Match){return token.replace(new RegExp(r1Match[1]+"$"),"")}return token}var PorterStemmer=new Stemmer;module.exports=PorterStemmer;PorterStemmer.stem=function(token){return step3(step2(step1(token.toLowerCase()))).toString()};PorterStemmer.getR1=getR1;PorterStemmer.step1=step1;PorterStemmer.step1a=step1a;PorterStemmer.step1b=step1b;PorterStemmer.step1c=step1c;PorterStemmer.step2=step2;PorterStemmer.step3=step3},{"./stemmer_no":62}],54:[function(require,module,exports){module.exports=function(){"use strict";var Stemmer=require("./stemmer_pt"),Token=require("./token"),PorterStemmer=new Stemmer;var markRegionN=function(start){var index=start||0,length=this.string.length,region=length;while(index<length-1&&region===length){if(this.hasVowelAtIndex(index)&&!this.hasVowelAtIndex(index+1)){region=index+2}index++}return region};var markRegionV=function(){var rv=this.string.length;if(rv>3){if(!this.hasVowelAtIndex(1)){rv=this.nextVowelIndex(2)+1}else if(this.hasVowelAtIndex(0)&&this.hasVowelAtIndex(1)){rv=this.nextConsonantIndex(2)+1}else{rv=3}}return rv};function prelude(token){return token.replaceAll("ã","a~").replaceAll("õ","o~")}function standardSuffix(token){token.replaceSuffixInRegion(["amentos","imentos","aço~es","adoras","adores","amento","imento","aça~o","adora","ância","antes","ismos","istas","ador","ante","ável","ezas","icas","icos","ismo","ista","ível","osas","osos","eza","ica","ico","osa","oso"],"","r2");token.replaceSuffixInRegion(["logias","logia"],"log","r2");token.replaceSuffixInRegion(["ências","ência"],"ente","r2");token.replaceSuffixInRegion(["ativamente","icamente","ivamente","osamente","adamente"],"","r2");token.replaceSuffixInRegion("amente","","r1");token.replaceSuffixInRegion(["antemente","avelmente","ivelmente","mente"],"","r2");token.replaceSuffixInRegion(["abilidades","abilidade","icidades","icidade","ividades","ividade","idades","idade"],"","r2");token.replaceSuffixInRegion(["ativas","ativos","ativa","ativo","ivas","ivos","iva","ivo"],"","r2");if(token.hasSuffix("eiras")||token.hasSuffix("eira")){token.replaceSuffixInRegion(["iras","ira"],"ir","rv")}return token}function verbSuffix(token){token.replaceSuffixInRegion(["aríamos","ássemos","eríamos","êssemos","iríamos","íssemos","áramos","aremos","aríeis","ásseis","ávamos","éramos","eremos","eríeis","ésseis","íramos","iremos","iríeis","ísseis","ara~o","ardes","areis","áreis","ariam","arias","armos","assem","asses","astes","áveis","era~o","erdes","ereis","éreis","eriam","erias","ermos","essem","esses","estes","íamos","ira~o","irdes","ireis","íreis","iriam","irias","irmos","issem","isses","istes","adas","ados","amos","ámos","ando","aram","aras","arás","arei","arem","ares","aria","asse","aste","avam","avas","emos","endo","eram","eras","erás","erei","erem","eres","eria","esse","este","idas","idos","íeis","imos","indo","iram","iras","irás","irei","irem","ires","iria","isse","iste","ada","ado","ais","ara","ará","ava","eis","era","erá","iam","ias","ida","ido","ira","irá","am","ar","as","ei","em","er","es","eu","ia","ir","is","iu","ou"],"","rv");return token}function iPrecededByCSuffix(token){if(token.hasSuffix("ci")){token.replaceSuffixInRegion("i","","rv")}return token}function residualSuffix(token){token.replaceSuffixInRegion(["os","a","i","o","á","í","ó"],"","rv");return token}function residualForm(token){var tokenString=token.string;if(token.hasSuffix("gue")||token.hasSuffix("gué")||token.hasSuffix("guê")){token.replaceSuffixInRegion(["ue","ué","uê"],"","rv")}if(token.hasSuffix("cie")||token.hasSuffix("cié")||token.hasSuffix("ciê")){token.replaceSuffixInRegion(["ie","ié","iê"],"","rv")}if(tokenString===token.string){token.replaceSuffixInRegion(["e","é","ê"],"","rv")}token.replaceSuffixInRegion("ç","c","all");return token}function postlude(token){return token.replaceAll("a~","ã").replaceAll("o~","õ")}PorterStemmer.stem=function(word){var token=new Token(word.toLowerCase()),original;token=prelude(token);token.usingVowels("aeiouáéíóúâêôàãõ").markRegion("all",0).markRegion("r1",null,markRegionN).markRegion("r2",token.regions.r1,markRegionN).markRegion("rv",null,markRegionV);original=token.string;token=standardSuffix(token);if(token.string===original){token=verbSuffix(token)}token=token.string!==original?iPrecededByCSuffix(token):residualSuffix(token);token=residualForm(token);token=postlude(token);return token.string};return PorterStemmer}()},{"./stemmer_pt":64,"./token":66}],55:[function(require,module,exports){var Stemmer=require("./stemmer_ru");var PorterStemmer=new Stemmer;module.exports=PorterStemmer;function attemptReplacePatterns(token,patterns){var replacement=null;var i=0,isReplaced=false;while(i<patterns.length&&!isReplaced){if(patterns[i][0].test(token)){replacement=token.replace(patterns[i][0],patterns[i][1]);isReplaced=true}i++}return replacement}function perfectiveGerund(token){var result=attemptReplacePatterns(token,[[/[ая]в(ши|шись)$/g,""],[/(ив|ивши|ившись|ывши|ывшись|ыв)$/g,""]]);return result}function adjectival(token){var result=adjective(token);if(result!=null){var pariticipleResult=participle(result);result=pariticipleResult?pariticipleResult:result}return result}function adjective(token){var result=attemptReplacePatterns(token,[[/(ее|ие|ые|ое|ими|ыми|ей|ий|ый|ой|ем|им|ым|ом|его|ого|ему|ому|их|ых|ую|юю|ая|яя|ою|ею)$/g,""]]);return result}function participle(token){var result=attemptReplacePatterns(token,[[/([ая])(ем|нн|вш|ющ|щ)$/g,"$1"],[/(ивш|ывш|ующ)$/g,""]]);return result}function reflexive(token){var result=attemptReplacePatterns(token,[[/(ся|сь)$/g,""]]);return result}function verb(token){var result=attemptReplacePatterns(token,[[/([ая])(ла|на|ете|йте|ли|й|л|ем|н|ло|но|ет|ют|ны|ть|ешь|нно)$/g,"$1"],[/(ила|ыла|ена|ейте|уйте|ите|или|ыли|ей|уй|ил|ыл|им|ым|ен|ило|ыло|ено|ят|ует|ит|ыт|ены|ить|ыть|ишь|ую|ю)$/g,""]]);return result}function noun(token){var result=attemptReplacePatterns(token,[[/(а|ев|ов|ие|ье|е|иями|ями|ами|еи|ии|и|ией|ей|ой|ий|й|иям|ям|ием|ем|ам|ом|о|у|ах|иях|ях|ы|ь|ию|ью|ю|ия|ья|я)$/g,""]]);return result}function superlative(token){var result=attemptReplacePatterns(token,[[/(ейш|ейше)$/g,""]]);return result}function derivational(token){var result=attemptReplacePatterns(token,[[/(ост|ость)$/g,""]]);return result}PorterStemmer.stem=function(token){token=token.toLowerCase().replace(/ё/g,"е");var volwesRegexp=/^(.*?[аеиоюяуыиэ])(.*)$/g;var RV=volwesRegexp.exec(token);if(!RV||RV.length<3){return token}var head=RV[1];RV=RV[2];volwesRegexp.lastIndex=0;var R2=volwesRegexp.exec(RV);var result=perfectiveGerund(RV);if(result===null){var resultReflexive=reflexive(RV)||RV;result=adjectival(resultReflexive);if(result===null){result=verb(resultReflexive);if(result===null){result=noun(resultReflexive);if(result===null){result=resultReflexive}}}}result=result.replace(/и$/g,"");var derivationalResult=result;if(R2&&R2[2]){derivationalResult=derivational(R2[2]);if(derivationalResult!=null){derivationalResult=derivational(result)}else{derivationalResult=result}}var superlativeResult=superlative(derivationalResult)||derivationalResult;superlativeResult=superlativeResult.replace(/(н)н/g,"$1");superlativeResult=superlativeResult.replace(/ь$/g,"");return head+superlativeResult}},{"./stemmer_ru":65}],56:[function(require,module,exports){var stopwords=require("../util/stopwords");var Tokenizer=require("../tokenizers/aggressive_tokenizer");module.exports=function(){var stemmer=this;stemmer.stem=function(token){return token};stemmer.addStopWord=function(stopWord){stopwords.words.push(stopWord)};stemmer.addStopWords=function(moreStopWords){stopwords.words=stopwords.words.concat(moreStopWords)};stemmer.removeStopWord=function(stopWord){this.removeStopWords([stopWord])};stemmer.removeStopWords=function(moreStopWords){moreStopWords.forEach(function(stopWord){var idx=stopwords.words.indexOf(stopWord);if(idx>=0){stopwords.words.splice(idx,1)}})};stemmer.tokenizeAndStem=function(text,keepStops){var stemmedTokens=[];var lowercaseText=text.toLowerCase();var tokens=(new Tokenizer).tokenize(lowercaseText);if(keepStops){tokens.forEach(function(token){stemmedTokens.push(stemmer.stem(token))})}else{tokens.forEach(function(token){if(stopwords.words.indexOf(token)==-1)stemmedTokens.push(stemmer.stem(token))})}return stemmedTokens};stemmer.attach=function(){String.prototype.stem=function(){return stemmer.stem(this)};String.prototype.tokenizeAndStem=function(keepStops){return stemmer.tokenizeAndStem(this,keepStops)}}}},{"../tokenizers/aggressive_tokenizer":68,"../util/stopwords":90}],57:[function(require,module,exports){var stopwords=require("../util/stopwords_es");var Tokenizer=require("../tokenizers/aggressive_tokenizer_es");module.exports=function(){var stemmer=this;stemmer.stem=function(token){return token};stemmer.tokenizeAndStem=function(text,keepStops){var stemmedTokens=[];(new Tokenizer).tokenize(text).forEach(function(token){if(keepStops||stopwords.words.indexOf(token)==-1){var resultToken=token.toLowerCase();if(resultToken.match(new RegExp("[a-záéíóúüñ0-9]+","gi"))){resultToken=stemmer.stem(resultToken)}stemmedTokens.push(resultToken)}});return stemmedTokens};stemmer.attach=function(){String.prototype.stem=function(){return stemmer.stem(this)};String.prototype.tokenizeAndStem=function(keepStops){return stemmer.tokenizeAndStem(this,keepStops)}}}},{"../tokenizers/aggressive_tokenizer_es":69,"../util/stopwords_es":91}],58:[function(require,module,exports){var stopwords=require("../util/stopwords_fa");var Tokenizer=require("../tokenizers/aggressive_tokenizer_fa");module.exports=function(){var stemmer=this;stemmer.stem=function(token){return token};stemmer.tokenizeAndStem=function(text,keepStops){var stemmedTokens=[];(new Tokenizer).tokenize(text).forEach(function(token){if(keepStops||stopwords.words.indexOf(token)==-1)stemmedTokens.push(stemmer.stem(token))});return stemmedTokens};stemmer.attach=function(){String.prototype.stem=function(){return stemmer.stem(this)};String.prototype.tokenizeAndStem=function(keepStops){return stemmer.tokenizeAndStem(this,keepStops)}}}},{"../tokenizers/aggressive_tokenizer_fa":70,"../util/stopwords_fa":92}],59:[function(require,module,exports){var stopwords=require("../util/stopwords_fr");var Tokenizer=require("../tokenizers/aggressive_tokenizer_fr");module.exports=function(){var stemmer=this;stemmer.stem=function(token){return token};stemmer.tokenizeAndStem=function(text,keepStops){var stemmedTokens=[];(new Tokenizer).tokenize(text).forEach(function(token){if(keepStops||stopwords.words.indexOf(token)==-1){var resultToken=token.toLowerCase();if(resultToken.match(/[a-zâàëéêèïîôûùç0-9]/gi)){resultToken=stemmer.stem(resultToken)}stemmedTokens.push(resultToken)}});return stemmedTokens};stemmer.attach=function(){String.prototype.stem=function(){return stemmer.stem(this)};String.prototype.tokenizeAndStem=function(keepStops){return stemmer.tokenizeAndStem(this,keepStops)}}}},{"../tokenizers/aggressive_tokenizer_fr":71,"../util/stopwords_fr":93}],60:[function(require,module,exports){var stopwords=require("../util/stopwords_it");var Tokenizer=require("../tokenizers/aggressive_tokenizer_it");module.exports=function(){var stemmer=this;stemmer.stem=function(token){return token};stemmer.tokenizeAndStem=function(text,keepStops){var stemmedTokens=[];(new Tokenizer).tokenize(text).forEach(function(token){if(keepStops||stopwords.words.indexOf(token)==-1){var resultToken=token.toLowerCase();if(resultToken.match(/[a-zàèìòù0-9]/gi)){resultToken=stemmer.stem(resultToken)}stemmedTokens.push(resultToken)}});return stemmedTokens};stemmer.attach=function(){String.prototype.stem=function(){return stemmer.stem(this)};String.prototype.tokenizeAndStem=function(keepStops){return stemmer.tokenizeAndStem(this,keepStops)}}}},{"../tokenizers/aggressive_tokenizer_it":72,"../util/stopwords_it":94}],61:[function(require,module,exports){var Tokenizer=require("../tokenizers/tokenizer_ja");var stopwords=require("../util/stopwords_ja");var StemmerJa=function(){};StemmerJa.prototype.tokenizeAndStem=function(text,keepStops){var self=this;var stemmedTokens=[];var tokens=(new Tokenizer).tokenize(text);if(keepStops){tokens.forEach(function(token){var resultToken=token.toLowerCase();resultToken=self.stem(resultToken);stemmedTokens.push(resultToken)})}else{tokens.forEach(function(token){if(stopwords.indexOf(token)==-1){var resultToken=token.toLowerCase();resultToken=self.stem(resultToken);stemmedTokens.push(resultToken)}})}return stemmedTokens};StemmerJa.prototype.stem=function(token){token=this.stemKatakana(token);return token};StemmerJa.prototype.stemKatakana=function(token){var HIRAGANA_KATAKANA_PROLONGED_SOUND_MARK="ー";var DEFAULT_MINIMUM_LENGTH=4;if(token.length>=DEFAULT_MINIMUM_LENGTH&&token.slice(-1)===HIRAGANA_KATAKANA_PROLONGED_SOUND_MARK&&this.isKatakana(token)){token=token.slice(0,token.length-1)}return token};StemmerJa.prototype.isKatakana=function(str){return!!str.match(/^[゠-ヿ]+$/)};StemmerJa.prototype.attach=function(){var self=this;String.prototype.stem=function(){return self.stem(this)};String.prototype.tokenizeAndStem=function(keepStops){return self.tokenizeAndStem(this,keepStops)}};module.exports=StemmerJa},{"../tokenizers/tokenizer_ja":82,"../util/stopwords_ja":95}],62:[function(require,module,exports){var stopwords=require("../util/stopwords_no");var Tokenizer=require("../tokenizers/aggressive_tokenizer_no");module.exports=function(){var stemmer=this;stemmer.stem=function(token){return token};stemmer.addStopWord=function(stopWord){stopwords.words.push(stopWord)};stemmer.addStopWords=function(moreStopWords){stopwords.words=stopwords.words.concat(moreStopWords)};stemmer.tokenizeAndStem=function(text,keepStops){var stemmedTokens=[];(new Tokenizer).tokenize(text).forEach(function(token){if(keepStops||stopwords.words.indexOf(token.toLowerCase())==-1)stemmedTokens.push(stemmer.stem(token))});return stemmedTokens};stemmer.attach=function(){String.prototype.stem=function(){return stemmer.stem(this)};String.prototype.tokenizeAndStem=function(keepStops){return stemmer.tokenizeAndStem(this,keepStops)}}}},{"../tokenizers/aggressive_tokenizer_no":74,"../util/stopwords_no":96}],63:[function(require,module,exports){var stopwords=require("../util/stopwords_pl");var Tokenizer=require("../tokenizers/aggressive_tokenizer_pl");module.exports=function(){var stemmer=this;stemmer.stem=function(token){return token};stemmer.tokenizeAndStem=function(text,keepStops){var stemmedTokens=[];(new Tokenizer).tokenize(text).forEach(function(token){if(keepStops||stopwords.words.indexOf(token)==-1){var resultToken=token.toLowerCase();if(resultToken.match(new RegExp("[a-zążśźęćńół0-9]+","gi"))){resultToken=stemmer.stem(resultToken)}stemmedTokens.push(resultToken)}});return stemmedTokens};stemmer.attach=function(){String.prototype.stem=function(){return stemmer.stem(this)};String.prototype.tokenizeAndStem=function(keepStops){return stemmer.tokenizeAndStem(this,keepStops)}}}},{"../tokenizers/aggressive_tokenizer_pl":75,"../util/stopwords_pl":97}],64:[function(require,module,exports){module.exports=function(){"use strict";var Stemmer=this,stopwords=require("../util/stopwords_pt"),Tokenizer=require("../tokenizers/aggressive_tokenizer_pt");Stemmer.stem=function(token){return token};Stemmer.addStopWords=function(word){stopwords.words.push(word)};Stemmer.addStopWords=function(words){stopwords.words=stopwords.words.concat(words)};Stemmer.tokenizeAndStem=function(text,keepStops){var stemmedTokens=[];var tokenStemmer=function(token){if(keepStops||stopwords.words.indexOf(token.toLowerCase())===-1){stemmedTokens.push(Stemmer.stem(token))}};(new Tokenizer).tokenize(text).forEach(tokenStemmer);return stemmedTokens};Stemmer.attach=function(){String.prototype.stem=function(){return Stemmer.stem(this)};String.prototype.tokenizeAndStem=function(keepStops){return Stemmer.tokenizeAndStem(this,keepStops)}}}},{"../tokenizers/aggressive_tokenizer_pt":76,"../util/stopwords_pt":98}],65:[function(require,module,exports){var stopwords=require("../util/stopwords_ru");var Tokenizer=require("../tokenizers/aggressive_tokenizer_ru");module.exports=function(){var stemmer=this;stemmer.stem=function(token){return token};stemmer.tokenizeAndStem=function(text,keepStops){var stemmedTokens=[];(new Tokenizer).tokenize(text).forEach(function(token){if(keepStops||stopwords.words.indexOf(token)==-1){var resultToken=token.toLowerCase();if(resultToken.match(new RegExp("[а-яё0-9]+","gi"))){resultToken=stemmer.stem(resultToken)}stemmedTokens.push(resultToken)}});return stemmedTokens};stemmer.attach=function(){String.prototype.stem=function(){return stemmer.stem(this)};String.prototype.tokenizeAndStem=function(keepStops){return stemmer.tokenizeAndStem(this,keepStops)}}}},{"../tokenizers/aggressive_tokenizer_ru":77,"../util/stopwords_ru":99}],66:[function(require,module,exports){module.exports=function(){"use strict";var Token=function(string){this.vowels="";this.regions={};this.string=string;this.original=string};Token.prototype.usingVowels=function(vowels){this.vowels=vowels;return this};Token.prototype.markRegion=function(region,args,callback,context){if(typeof callback==="function"){this.regions[region]=callback.apply(context||this,[].concat(args))}else if(!isNaN(args)){this.regions[region]=args}return this};Token.prototype.replaceAll=function(find,replace){this.string=this.string.split(find).join(replace);return this};Token.prototype.replaceSuffixInRegion=function(suffix,replace,region){var suffixes=[].concat(suffix);for(var i=0;i<suffixes.length;i++){if(this.hasSuffixInRegion(suffixes[i],region)){this.string=this.string.slice(0,-suffixes[i].length)+replace;return this}}return this};Token.prototype.hasVowelAtIndex=function(index){return this.vowels.indexOf(this.string[index])!==-1};Token.prototype.nextVowelIndex=function(start){var index=start>=0&&start<this.string.length?start:this.string.length;while(index<this.string.length&&!this.hasVowelAtIndex(index)){index++}return index};Token.prototype.nextConsonantIndex=function(start){var index=start>=0&&start<this.string.length?start:this.string.length;while(index<this.string.length&&this.hasVowelAtIndex(index)){index++}return index};Token.prototype.hasSuffix=function(suffix){return this.string.slice(-suffix.length)===suffix};Token.prototype.hasSuffixInRegion=function(suffix,region){var regionStart=this.regions[region]||0,suffixStart=this.string.length-suffix.length;return this.hasSuffix(suffix)&&suffixStart>=regionStart};return Token}()},{}],67:[function(require,module,exports){(function(Buffer){var _=require("underscore")._,Tokenizer=require("../tokenizers/regexp_tokenizer").WordTokenizer,tokenizer=new Tokenizer,stopwords=require("../util/stopwords").words,fs=require("fs");function buildDocument(text,key){var stopOut;if(typeof text==="string"){text=tokenizer.tokenize(text.toLowerCase());stopOut=true}else if(!_.isArray(text)){stopOut=false;return text}return text.reduce(function(document,term){if(typeof document[term]==="function")document[term]=0;if(!stopOut||stopwords.indexOf(term)<0)document[term]=document[term]?document[term]+1:1;return document},{__key:key})}function tf(term,document){return document[term]?document[term]:0}function documentHasTerm(term,document){return document[term]&&document[term]>0}function TfIdf(deserialized){if(deserialized)this.documents=deserialized.documents;else this.documents=[];this._idfCache={}}function isEncoding(encoding){if(typeof Buffer.isEncoding!=="undefined")return Buffer.isEncoding(encoding);switch((encoding+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true}return false}module.exports=TfIdf;TfIdf.tf=tf;TfIdf.prototype.idf=function(term,force){if(this._idfCache[term]&&this._idfCache.hasOwnProperty(term)&&force!==true)return this._idfCache[term];var docsWithTerm=this.documents.reduce(function(count,document){return count+(documentHasTerm(term,document)?1:0)},0);var idf=1+Math.log(this.documents.length/(1+docsWithTerm));this._idfCache[term]=idf;return idf};TfIdf.prototype.addDocument=function(document,key,restoreCache){this.documents.push(buildDocument(document,key));if(restoreCache===true){for(var term in this._idfCache){this.idf(term,true)}}else{this._idfCache={}}};TfIdf.prototype.addFileSync=function(path,encoding,key,restoreCache){if(!encoding)encoding="utf8";if(!isEncoding(encoding))throw new Error("Invalid encoding: "+encoding);var document=fs.readFileSync(path,encoding);this.documents.push(buildDocument(document,key));if(restoreCache===true){for(var term in this._idfCache){this.idf(term,true)}}else{this._idfCache={}}};TfIdf.prototype.tfidf=function(terms,d){var _this=this;if(!_.isArray(terms))terms=tokenizer.tokenize(terms.toString().toLowerCase());return terms.reduce(function(value,term){var idf=_this.idf(term);idf=idf===Infinity?0:idf;return value+tf(term,_this.documents[d])*idf},0)};TfIdf.prototype.listTerms=function(d){var terms=[];for(var term in this.documents[d]){if(term!="__key")terms.push({term:term,tfidf:this.tfidf(term,d)})}return terms.sort(function(x,y){return y.tfidf-x.tfidf})};TfIdf.prototype.tfidfs=function(terms,callback){var tfidfs=new Array(this.documents.length);for(var i=0;i<this.documents.length;i++){tfidfs[i]=this.tfidf(terms,i);if(callback)callback(i,tfidfs[i],this.documents[i].__key)}return tfidfs};TfIdf.prototype.setTokenizer=function(t){if(!_.isFunction(t.tokenize))throw new Error("Expected a valid Tokenizer");tokenizer=t}}).call(this,require("buffer").Buffer)},{"../tokenizers/regexp_tokenizer":78,"../util/stopwords":90,buffer:117,fs:114,underscore:113}],68:[function(require,module,exports){var Tokenizer=require("./tokenizer"),util=require("util");var AggressiveTokenizer=function(){Tokenizer.call(this)};util.inherits(AggressiveTokenizer,Tokenizer);module.exports=AggressiveTokenizer;AggressiveTokenizer.prototype.tokenize=function(text){return this.trim(text.split(/\W+/))}},{"./tokenizer":80,util:125}],69:[function(require,module,exports){var Tokenizer=require("./tokenizer"),util=require("util");var AggressiveTokenizer=function(){Tokenizer.call(this)};util.inherits(AggressiveTokenizer,Tokenizer);module.exports=AggressiveTokenizer;AggressiveTokenizer.prototype.tokenize=function(text){return this.trim(text.split(/[^a-zA-Zá-úÁ-ÚñÑüÜ]+/))}},{"./tokenizer":80,util:125}],70:[function(require,module,exports){var Tokenizer=require("./tokenizer"),util=require("util");var AggressiveTokenizer=function(){Tokenizer.call(this);
};util.inherits(AggressiveTokenizer,Tokenizer);module.exports=AggressiveTokenizer;AggressiveTokenizer.prototype.clearEmptyString=function(array){return array.filter(function(a){return a!=""})};AggressiveTokenizer.prototype.clearText=function(text){return text.replace(new RegExp(".:+-=()\"'!?،,؛;","g")," ")};AggressiveTokenizer.prototype.tokenize=function(text){text=this.clearText(text);return this.clearEmptyString(text.split(/\s+/))}},{"./tokenizer":80,util:125}],71:[function(require,module,exports){var Tokenizer=require("./tokenizer"),util=require("util");var AggressiveTokenizer=function(){Tokenizer.call(this)};util.inherits(AggressiveTokenizer,Tokenizer);module.exports=AggressiveTokenizer;AggressiveTokenizer.prototype.tokenize=function(text){return this.trim(text.split(/[^a-z0-9äâàéèëêïîöôùüûœç]+/i))}},{"./tokenizer":80,util:125}],72:[function(require,module,exports){var Tokenizer=require("./tokenizer"),util=require("util");var AggressiveTokenizer=function(){Tokenizer.call(this)};util.inherits(AggressiveTokenizer,Tokenizer);module.exports=AggressiveTokenizer;AggressiveTokenizer.prototype.tokenize=function(text){return this.trim(text.split(/\W+/))}},{"./tokenizer":80,util:125}],73:[function(require,module,exports){var Tokenizer=require("./tokenizer"),util=require("util");var AggressiveTokenizer=function(){Tokenizer.call(this)};util.inherits(AggressiveTokenizer,Tokenizer);module.exports=AggressiveTokenizer;AggressiveTokenizer.prototype.tokenize=function(text){return this.trim(text.split(/[^a-zA-Z0-9_']+/))}},{"./tokenizer":80,util:125}],74:[function(require,module,exports){var Tokenizer=require("./tokenizer"),normalizer=require("../normalizers/normalizer_no"),util=require("util");var AggressiveTokenizer=function(){Tokenizer.call(this)};util.inherits(AggressiveTokenizer,Tokenizer);module.exports=AggressiveTokenizer;AggressiveTokenizer.prototype.tokenize=function(text){text=normalizer.remove_diacritics(text);return this.trim(text.split(/[^A-Za-z0-9_æøåÆØÅäÄöÖüÜ]+/))}},{"../normalizers/normalizer_no":38,"./tokenizer":80,util:125}],75:[function(require,module,exports){var Tokenizer=require("./tokenizer"),util=require("util");var AggressiveTokenizer=function(){Tokenizer.call(this)};util.inherits(AggressiveTokenizer,Tokenizer);module.exports=AggressiveTokenizer;AggressiveTokenizer.prototype.withoutEmpty=function(array){return array.filter(function(a){return a})};AggressiveTokenizer.prototype.clearText=function(text){return text.replace(/[^a-zążśźęćńół0-9]/gi," ").replace(/[\s\n]+/g," ").trim()};AggressiveTokenizer.prototype.tokenize=function(text){return this.withoutEmpty(this.clearText(text).split(" "))}},{"./tokenizer":80,util:125}],76:[function(require,module,exports){var Tokenizer=require("./tokenizer"),util=require("util");var AggressiveTokenizer=function(){Tokenizer.call(this)};util.inherits(AggressiveTokenizer,Tokenizer);module.exports=AggressiveTokenizer;AggressiveTokenizer.prototype.withoutEmpty=function(array){return array.filter(function(a){return a})};AggressiveTokenizer.prototype.tokenize=function(text){return this.withoutEmpty(this.trim(text.split(/[^a-zA-Zà-úÀ-Ú]/)))}},{"./tokenizer":80,util:125}],77:[function(require,module,exports){var Tokenizer=require("./tokenizer"),util=require("util");var AggressiveTokenizer=function(){Tokenizer.call(this)};util.inherits(AggressiveTokenizer,Tokenizer);module.exports=AggressiveTokenizer;AggressiveTokenizer.prototype.withoutEmpty=function(array){return array.filter(function(a){return a})};AggressiveTokenizer.prototype.clearText=function(text){return text.replace(/[^a-zа-яё0-9]/gi," ").replace(/[\s\n]+/g," ").trim()};AggressiveTokenizer.prototype.tokenize=function(text){return this.withoutEmpty(this.clearText(text).split(" "))}},{"./tokenizer":80,util:125}],78:[function(require,module,exports){var Tokenizer=require("./tokenizer"),util=require("util"),_=require("underscore")._;var RegexpTokenizer=function(options){var options=options||{};this._pattern=options.pattern||this._pattern;this.discardEmpty=options.discardEmpty||true;this._gaps=options.gaps;if(this._gaps===undefined){this._gaps=true}};util.inherits(RegexpTokenizer,Tokenizer);RegexpTokenizer.prototype.tokenize=function(s){var results;if(this._gaps){results=s.split(this._pattern);return this.discardEmpty?_.without(results,""," "):results}else{return s.match(this._pattern)}};exports.RegexpTokenizer=RegexpTokenizer;var WordTokenizer=function(options){this._pattern=/[^A-Za-zА-Яа-я0-9_]+/;RegexpTokenizer.call(this,options)};util.inherits(WordTokenizer,RegexpTokenizer);exports.WordTokenizer=WordTokenizer;var WordPunctTokenizer=function(options){this._pattern=new RegExp(/(\w+|[а-я0-9_]+|\.|\!|\'|\"")/i);RegexpTokenizer.call(this,options)};util.inherits(WordPunctTokenizer,RegexpTokenizer);exports.WordPunctTokenizer=WordPunctTokenizer},{"./tokenizer":80,underscore:113,util:125}],79:[function(require,module,exports){var Tokenizer=require("./tokenizer"),util=require("util");var SentenceTokenizer=function(){Tokenizer.call(this)};util.inherits(SentenceTokenizer,Tokenizer);SentenceTokenizer.prototype.tokenize=function(text){var tokens=text.match(/([\"\'\‘\“\'\"\[\(\{\⟨][^\.\?\!]+[\.\?\!][\"\'\’\”\'\"\]\)\}\⟩]|[^\.\?\!]+[\.\?\!])\s?/g);tokens=tokens.map(Function.prototype.call,String.prototype.trim);return this.trim(tokens)};module.exports=SentenceTokenizer},{"./tokenizer":80,util:125}],80:[function(require,module,exports){var Tokenizer=function(){};Tokenizer.prototype.trim=function(array){while(array[array.length-1]=="")array.pop();while(array[0]=="")array.shift();return array};Tokenizer.prototype.attach=function(){var self=this;String.prototype.tokenize=function(){return self.tokenize(this)}};Tokenizer.prototype.tokenize=function(){};module.exports=Tokenizer},{}],81:[function(require,module,exports){var Tokenizer=require("./tokenizer"),util=require("util"),CaseTokenizer=function(){Tokenizer.call(this)};util.inherits(CaseTokenizer,Tokenizer);CaseTokenizer.prototype.attach=function(){var self=this;String.prototype.tokenize=function(preserveApostrophe){return self.tokenize(this,preserveApostrophe)}};CaseTokenizer.prototype.tokenize=function(text,preserveApostrophe){var whitelist=["0","1","2","3","4","5","6","7","8","9"];var lower=text.toLowerCase();var upper=text.toUpperCase();var result="";var i;for(i=0;i<lower.length;++i){if(lower[i]!==upper[i]||whitelist.indexOf(lower[i])>-1||text[i]==="'"&&preserveApostrophe){result+=text[i]}else{result+=" "}}return this.trim(result.replace(/\s+/g," ").split(" "))};module.exports=CaseTokenizer},{"./tokenizer":80,util:125}],82:[function(require,module,exports){var Tokenizer=require("./tokenizer"),normalize=require("../normalizers/normalizer_ja").normalize_ja,util=require("util");var TokenizerJa=function(){this.chartype_=[[/[〇一二三四五六七八九十百千万億兆]/,"M"],[/[一-鿌〆]/,"H"],[/[ぁ-ゟ]/,"I"],[/[゠-ヿ]/,"K"],[/[a-zA-Z]/,"A"],[/[0-9]/,"N"]];this.BIAS__=-332;this.BC1__={HH:6,II:2461,KH:406,OH:-1378};this.BC2__={AA:-3267,AI:2744,AN:-878,HH:-4070,HM:-1711,HN:4012,HO:3761,IA:1327,IH:-1184,II:-1332,IK:1721,IO:5492,KI:3831,KK:-8741,MH:-3132,MK:3334,OO:-2920};this.BC3__={HH:996,HI:626,HK:-721,HN:-1307,HO:-836,IH:-301,KK:2762,MK:1079,MM:4034,OA:-1652,OH:266};this.BP1__={BB:295,OB:304,OO:-125,UB:352};this.BP2__={BO:60,OO:-1762};this.BQ1__={BHH:1150,BHM:1521,BII:-1158,BIM:886,BMH:1208,BNH:449,BOH:-91,BOO:-2597,OHI:451,OIH:-296,OKA:1851,OKH:-1020,OKK:904,OOO:2965};this.BQ2__={BHH:118,BHI:-1159,BHM:466,BIH:-919,BKK:-1720,BKO:864,OHH:-1139,OHM:-181,OIH:153,UHI:-1146};this.BQ3__={BHH:-792,BHI:2664,BII:-299,BKI:419,BMH:937,BMM:8335,BNN:998,BOH:775,OHH:2174,OHM:439,OII:280,OKH:1798,OKI:-793,OKO:-2242,OMH:-2402,OOO:11699};this.BQ4__={BHH:-3895,BIH:3761,BII:-4654,BIK:1348,BKK:-1806,BMI:-3385,BOO:-12396,OAH:926,OHH:266,OHK:-2036,ONN:-973};this.BW1__={"，と":660,"，同":727,"B1あ":1404,"B1同":542,"、と":660,"、同":727,"｣と":1682,"あっ":1505,"いう":1743,"いっ":-2055,"いる":672,"うし":-4817,"うん":665,"から":3472,"がら":600,"こう":-790,"こと":2083,"こん":-1262,"さら":-4143,"さん":4573,"した":2641,"して":1104,"すで":-3399,"そこ":1977,"それ":-871,"たち":1122,"ため":601,"った":3463,"つい":-802,"てい":805,"てき":1249,"でき":1127,"です":3445,"では":844,"とい":-4915,"とみ":1922,"どこ":3887,"ない":5713,"なっ":3015,"など":7379,"なん":-1113,"にし":2468,"には":1498,"にも":1671,"に対":-912,"の一":-501,"の中":741,"ませ":2448,"まで":1711,"まま":2600,"まる":-2155,"やむ":-1947,"よっ":-2565,"れた":2369,"れで":-913,"をし":1860,"を見":731,"亡く":-1886,"京都":2558,"取り":-2784,"大き":-2604,"大阪":1497,"平方":-2314,"引き":-1336,"日本":-195,"本当":-2423,"毎日":-2113,"目指":-724};this.BW2__={11:-669,"．．":-11822,"――":-5730,"−−":-13175,"いう":-1609,"うか":2490,"かし":-1350,"かも":-602,"から":-7194,"かれ":4612,"がい":853,"がら":-3198,"きた":1941,"くな":-1597,"こと":-8392,"この":-4193,"させ":4533,"され":13168,"さん":-3977,"しい":-1819,"しか":-545,"した":5078,"して":972,"しな":939,"その":-3744,"たい":-1253,"たた":-662,"ただ":-3857,"たち":-786,"たと":1224,"たは":-939,"った":4589,"って":1647,"っと":-2094,"てい":6144,"てき":3640,"てく":2551,"ては":-3110,"ても":-3065,"でい":2666,"でき":-1528,"でし":-3828,"です":-4761,"でも":-4203,"とい":1890,"とこ":-1746,"とと":-2279,"との":720,"とみ":5168,"とも":-3941,"ない":-2488,"なが":-1313,"など":-6509,"なの":2614,"なん":3099,"にお":-1615,"にし":2748,"にな":2454,"によ":-7236,"に対":-14943,"に従":-4688,"に関":-11388,"のか":2093,"ので":-7059,"のに":-6041,"のの":-6125,"はい":1073,"はが":-1033,"はず":-2532,"ばれ":1813,"まし":-1316,"まで":-6621,"まれ":5409,"めて":-3153,"もい":2230,"もの":-10713,"らか":-944,"らし":-1611,"らに":-1897,"りし":651,"りま":1620,"れた":4270,"れて":849,"れば":4114,"ろう":6067,"われ":7901,"を通":-11877,"んだ":728,"んな":-4115,"一人":602,"一方":-1375,"一日":970,"一部":-1051,"上が":-4479,"会社":-1116,"出て":2163,"分の":-7758,"同党":970,"同日":-913,"大阪":-2471,"委員":-1250,"少な":-1050,"年度":-8669,"年間":-1626,"府県":-2363,"手権":-1982,"新聞":-4066,"日新":-722,"日本":-7068,"日米":3372,"曜日":-601,"朝鮮":-2355,"本人":-2697,"東京":-1543,"然と":-1384,"社会":-1276,"立て":-990,"第に":-1612,"米国":-4268};this.BW3__={"あた":-2194,"あり":719,"ある":3846,"い．":-1185,"い。":-1185,"いい":5308,"いえ":2079,"いく":3029,"いた":2056,"いっ":1883,"いる":5600,"いわ":1527,"うち":1117,"うと":4798,"えと":1454,"か．":2857,"か。":2857,"かけ":-743,"かっ":-4098,"かに":-669,"から":6520,"かり":-2670,"が，":1816,"が、":1816,"がき":-4855,"がけ":-1127,"がっ":-913,"がら":-4977,"がり":-2064,"きた":1645,"けど":1374,"こと":7397,"この":1542,"ころ":-2757,"さい":-714,"さを":976,"し，":1557,"し、":1557,"しい":-3714,"した":3562,"して":1449,"しな":2608,"しま":1200,"す．":-1310,"す。":-1310,"する":6521,"ず，":3426,"ず、":3426,"ずに":841,"そう":428,"た．":8875,"た。":8875,"たい":-594,"たの":812,"たり":-1183,"たる":-853,"だ．":4098,"だ。":4098,"だっ":1004,"った":-4748,"って":300,"てい":6240,"てお":855,"ても":302,"です":1437,"でに":-1482,"では":2295,"とう":-1387,"とし":2266,"との":541,"とも":-3543,"どう":4664,"ない":1796,"なく":-903,"など":2135,"に，":-1021,"に、":-1021,"にし":1771,"にな":1906,"には":2644,"の，":-724,"の、":-724,"の子":-1e3,"は，":1337,"は、":1337,"べき":2181,"まし":1113,"ます":6943,"まっ":-1549,"まで":6154,"まれ":-793,"らし":1479,"られ":6820,"るる":3818,"れ，":854,"れ、":854,"れた":1850,"れて":1375,"れば":-3246,"れる":1091,"われ":-605,"んだ":606,"んで":798,"カ月":990,"会議":860,"入り":1232,"大会":2217,"始め":1681,"市":965,"新聞":-5055,"日，":974,"日、":974,"社会":2024};this.TC1__={AAA:1093,HHH:1029,HHM:580,HII:998,HOH:-390,HOM:-331,IHI:1169,IOH:-142,IOI:-1015,IOM:467,MMH:187,OOI:-1832};this.TC2__={HHO:2088,HII:-1023,HMM:-1154,IHI:-1965,KKH:703,OII:-2649};this.TC3__={AAA:-294,HHH:346,HHI:-341,HII:-1088,HIK:731,HOH:-1486,IHH:128,IHI:-3041,IHO:-1935,IIH:-825,IIM:-1035,IOI:-542,KHH:-1216,KKA:491,KKH:-1217,KOK:-1009,MHH:-2694,MHM:-457,MHO:123,MMH:-471,NNH:-1689,NNO:662,OHO:-3393};this.TC4__={HHH:-203,HHI:1344,HHK:365,HHM:-122,HHN:182,HHO:669,HIH:804,HII:679,HOH:446,IHH:695,IHO:-2324,IIH:321,III:1497,IIO:656,IOO:54,KAK:4845,KKA:3386,KKK:3065,MHH:-405,MHI:201,MMH:-241,MMM:661,MOM:841};this.TQ1__={BHHH:-227,BHHI:316,BHIH:-132,BIHH:60,BIII:1595,BNHH:-744,BOHH:225,BOOO:-908,OAKK:482,OHHH:281,OHIH:249,OIHI:200,OIIH:-68};this.TQ2__={BIHH:-1401,BIII:-1033,BKAK:-543,BOOO:-5591};this.TQ3__={BHHH:478,BHHM:-1073,BHIH:222,BHII:-504,BIIH:-116,BIII:-105,BMHI:-863,BMHM:-464,BOMH:620,OHHH:346,OHHI:1729,OHII:997,OHMH:481,OIHH:623,OIIH:1344,OKAK:2792,OKHH:587,OKKA:679,OOHH:110,OOII:-685};this.TQ4__={BHHH:-721,BHHM:-3604,BHII:-966,BIIH:-607,BIII:-2181,OAAA:-2763,OAKK:180,OHHH:-294,OHHI:2446,OHHO:480,OHIH:-1573,OIHH:1935,OIHI:-493,OIIH:626,OIII:-4007,OKAK:-8156};this.TW1__={"につい":-4681,"東京都":2026};this.TW2__={"ある程":-2049,"いった":-1256,"ころが":-2434,"しょう":3873,"その後":-4430,"だって":-1049,"ていた":1833,"として":-4657,"ともに":-4517,"もので":1882,"一気に":-792,"初めて":-1512,"同時に":-8097,"大きな":-1255,"対して":-2721,"社会党":-3216};this.TW3__={"いただ":-1734,"してい":1314,"として":-4314,"につい":-5483,"にとっ":-5989,"に当た":-6247,"ので，":-727,"ので、":-727,"のもの":-600,"れから":-3752,"十二月":-2287};this.TW4__={"いう．":8576,"いう。":8576,"からな":-2348,"してい":2958,"たが，":1516,"たが、":1516,"ている":1538,"という":1349,"ました":5543,"ません":1097,"ようと":-4258,"よると":5865};this.UC1__={A:484,K:93,M:645,O:-505};this.UC2__={A:819,H:1059,I:409,M:3987,N:5775,O:646};this.UC3__={A:-1370,I:2311};this.UC4__={A:-2643,H:1809,I:-1032,K:-3450,M:3565,N:3876,O:6646};this.UC5__={H:313,I:-1238,K:-799,M:539,O:-831};this.UC6__={H:-506,I:-253,K:87,M:247,O:-387};this.UP1__={O:-214};this.UP2__={B:69,O:935};this.UP3__={B:189};this.UQ1__={BH:21,BI:-12,BK:-99,BN:142,BO:-56,OH:-95,OI:477,OK:410,OO:-2422};this.UQ2__={BH:216,BI:113,OK:1759};this.UQ3__={BA:-479,BH:42,BI:1913,BK:-7198,BM:3160,BN:6427,BO:14761,OI:-827,ON:-3212};this.UW1__={"，":156,"、":156,"｢":-463,"あ":-941,"う":-127,"が":-553,"き":121,"こ":505,"で":-201,"と":-547,"ど":-123,"に":-789,"の":-185,"は":-847,"も":-466,"や":-470,"よ":182,"ら":-292,"り":208,"れ":169,"を":-446,"ん":-137,"・":-135,"主":-402,"京":-268,"区":-912,"午":871,"国":-460,"大":561,"委":729,"市":-411,"日":-141,"理":361,"生":-408,"県":-386,"都":-718};this.UW2__={"，":-829,"、":-829,"〇":892,"｢":-645,"｣":3145,"あ":-538,"い":505,"う":134,"お":-502,"か":1454,"が":-856,"く":-412,"こ":1141,"さ":878,"ざ":540,"し":1529,"す":-675,"せ":300,"そ":-1011,"た":188,"だ":1837,"つ":-949,"て":-291,"で":-268,"と":-981,"ど":1273,"な":1063,"に":-1764,"の":130,"は":-409,"ひ":-1273,"べ":1261,"ま":600,"も":-1263,"や":-402,"よ":1639,"り":-579,"る":-694,"れ":571,"を":-2516,"ん":2095,"ア":-587,"カ":306,"キ":568,"ッ":831,"三":-758,"不":-2150,"世":-302,"中":-968,"主":-861,"事":492,"人":-123,"会":978,"保":362,"入":548,"初":-3025,"副":-1566,"北":-3414,"区":-422,"大":-1769,"天":-865,"太":-483,"子":-1519,"学":760,"実":1023,"小":-2009,"市":-813,"年":-1060,"強":1067,"手":-1519,"揺":-1033,"政":1522,"文":-1355,"新":-1682,"日":-1815,"明":-1462,"最":-630,"朝":-1843,"本":-1650,"東":-931,"果":-665,"次":-2378,"民":-180,"気":-1740,"理":752,"発":529,"目":-1584,"相":-242,"県":-1165,"立":-763,"第":810,"米":509,"自":-1353,"行":838,"西":-744,"見":-3874,"調":1010,"議":1198,"込":3041,"開":1758,"間":-1257};this.UW3__={1:-800,"，":4889,"−":-1723,"、":4889,"々":-2311,"〇":5827,"｣":2670,"〓":-3573,"あ":-2696,"い":1006,"う":2342,"え":1983,"お":-4864,"か":-1163,"が":3271,"く":1004,"け":388,"げ":401,"こ":-3552,"ご":-3116,"さ":-1058,"し":-395,"す":584,"せ":3685,"そ":-5228,"た":842,"ち":-521,"っ":-1444,"つ":-1081,"て":6167,"で":2318,"と":1691,"ど":-899,"な":-2788,"に":2745,"の":4056,"は":4555,"ひ":-2171,"ふ":-1798,"へ":1199,"ほ":-5516,"ま":-4384,"み":-120,"め":1205,"も":2323,"や":-788,"よ":-202,"ら":727,"り":649,"る":5905,"れ":2773,"わ":-1207,"を":6620,"ん":-518,"ア":551,"グ":1319,"ス":874,"ッ":-1350,"ト":521,"ム":1109,"ル":1591,"ロ":2201,"ン":278,"・":-3794,"一":-1619,"下":-1759,"世":-2087,"両":3815,"中":653,"主":-758,"予":-1193,"二":974,"人":2742,"今":792,"他":1889,"以":-1368,"低":811,"何":4265,"作":-361,"保":-2439,"元":4858,"党":3593,"全":1574,"公":-3030,"六":755,"共":-1880,"円":5807,"再":3095,"分":457,"初":2475,"別":1129,"前":2286,"副":4437,"力":365,"動":-949,"務":-1872,"化":1327,"北":-1038,"区":4646,"千":-2309,"午":-783,"協":-1006,"口":483,"右":1233,"各":3588,"合":-241,"同":3906,"和":-837,"員":4513,"国":642,"型":1389,"場":1219,"外":-241,"妻":2016,"学":-1356,"安":-423,"実":-1008,"家":1078,"小":-513,"少":-3102,"州":1155,"市":3197,"平":-1804,"年":2416,"広":-1030,"府":1605,"度":1452,"建":-2352,"当":-3885,"得":1905,"思":-1291,"性":1822,"戸":-488,"指":-3973,"政":-2013,"教":-1479,"数":3222,"文":-1489,"新":1764,"日":2099,"旧":5792,"昨":-661,"時":-1248,"曜":-951,"最":-937,"月":4125,"期":360,"李":3094,"村":364,"東":-805,"核":5156,"森":2438,"業":484,"氏":2613,"民":-1694,"決":-1073,"法":1868,"海":-495,"無":979,"物":461,"特":-3850,"生":-273,"用":914,"町":1215,"的":7313,"直":-1835,"省":792,"県":6293,"知":-1528,"私":4231,"税":401,"立":-960,"第":1201,"米":7767,"系":3066,"約":3663,"級":1384,"統":-4229,"総":1163,"線":1255,"者":6457,"能":725,"自":-2869,"英":785,"見":1044,"調":-562,"財":-733,"費":1777,"車":1835,"軍":1375,"込":-1504,"通":-1136,"選":-681,"郎":1026,"郡":4404,"部":1200,"金":2163,"長":421,"開":-1432,"間":1302,"関":-1282,"雨":2009,"電":-1045,"非":2066,"駅":1620};this.UW4__={"，":3930,"．":3508,"―":-4841,"、":3930,"。":3508,"〇":4999,"｢":1895,"｣":3798,"〓":-5156,"あ":4752,"い":-3435,"う":-640,"え":-2514,"お":2405,"か":530,"が":6006,"き":-4482,"ぎ":-3821,"く":-3788,"け":-4376,"げ":-4734,"こ":2255,"ご":1979,"さ":2864,"し":-843,"じ":-2506,"す":-731,"ず":1251,"せ":181,"そ":4091,"た":5034,"だ":5408,"ち":-3654,"っ":-5882,"つ":-1659,"て":3994,"で":7410,"と":4547,"な":5433,"に":6499,"ぬ":1853,"ね":1413,"の":7396,"は":8578,"ば":1940,"ひ":4249,"び":-4134,"ふ":1345,"へ":6665,"べ":-744,"ほ":1464,"ま":1051,"み":-2082,"む":-882,"め":-5046,"も":4169,"ゃ":-2666,"や":2795,"ょ":-1544,"よ":3351,"ら":-2922,"り":-9726,"る":-14896,"れ":-2613,"ろ":-4570,"わ":-1783,"を":13150,"ん":-2352,"カ":2145,"コ":1789,"セ":1287,"ッ":-724,"ト":-403,"メ":-1635,"ラ":-881,"リ":-541,"ル":-856,"ン":-3637,"・":-4371,"ー":-11870,"一":-2069,"中":2210,"予":782,"事":-190,"井":-1768,"人":1036,"以":544,"会":950,"体":-1286,"作":530,"側":4292,"先":601,"党":-2006,"共":-1212,"内":584,"円":788,"初":1347,"前":1623,"副":3879,"力":-302,"動":-740,"務":-2715,"化":776,"区":4517,"協":1013,"参":1555,"合":-1834,"和":-681,"員":-910,"器":-851,"回":1500,"国":-619,"園":-1200,"地":866,"場":-1410,"塁":-2094,"士":-1413,"多":1067,"大":571,"子":-4802,"学":-1397,"定":-1057,"寺":-809,"小":1910,"屋":-1328,"山":-1500,"島":-2056,"川":-2667,"市":2771,"年":374,"庁":-4556,"後":456,"性":553,"感":916,"所":-1566,"支":856,"改":787,"政":2182,"教":704,"文":522,"方":-856,"日":1798,"時":1829,"最":845,"月":-9066,"木":-485,"来":-442,"校":-360,"業":-1043,"氏":5388,"民":-2716,"気":-910,"沢":-939,"済":-543,"物":-735,"率":672,"球":-1267,"生":-1286,"産":-1101,"田":-2900,"町":1826,"的":2586,"目":922,"省":-3485,"県":2997,"空":-867,"立":-2112,"第":788,"米":2937,"系":786,"約":2171,"経":1146,"統":-1169,"総":940,"線":-994,"署":749,"者":2145,"能":-730,"般":-852,"行":-792,"規":792,"警":-1184,"議":-244,"谷":-1e3,"賞":730,"車":-1481,"軍":1158,"輪":-1433,"込":-3370,"近":929,"道":-1291,"選":2596,"郎":-4866,"都":1192,"野":-1100,"銀":-2213,"長":357,"間":-2344,"院":-2297,"際":-2604,"電":-878,"領":-1659,"題":-792,"館":-1984,"首":1749,"高":2120};this.UW5__={1:-514,"，":465,"．":-299,E2:-32768,"］":-2762,"、":465,"。":-299,"｢":363,"あ":1655,"い":331,"う":-503,"え":1199,"お":527,"か":647,"が":-421,"き":1624,"ぎ":1971,"く":312,"げ":-983,"さ":-1537,"し":-1371,"す":-852,"だ":-1186,"ち":1093,"っ":52,"つ":921,"て":-18,"で":-850,"と":-127,"ど":1682,"な":-787,"に":-1224,"の":-635,"は":-578,"べ":1001,"み":502,"め":865,"ゃ":3350,"ょ":854,"り":-208,"る":429,"れ":504,"わ":419,"を":-1264,"ん":327,"イ":241,"ル":451,"ン":-343,"中":-871,"京":722,"会":-1153,"党":-654,"務":3519,"区":-901,"告":848,"員":2104,"大":-1296,"学":-548,"定":1785,"嵐":-1304,"市":-2991,"席":921,"年":1763,"思":872,"所":-814,"挙":1618,"新":-1682,"日":218,"月":-4353,"査":932,"格":1356,"機":-1508,"氏":-1347,"田":240,"町":-3912,"的":-3149,"相":1319,"省":-1052,"県":-4003,"研":-997,"社":-278,"空":-813,"統":1955,"者":-2233,"表":663,"語":-1073,"議":1219,"選":-1018,"郎":-368,"長":786,"間":1191,"題":2368,"館":-689};this.UW6__={1:-270,"，":227,"．":808,E1:306,"、":227,"。":808,"あ":-307,"う":189,"か":241,"が":-73,"く":-121,"こ":-200,"じ":1782,"す":383,"た":-428,"っ":573,"て":-1014,"で":101,"と":-105,"な":-253,"に":-149,"の":-417,"は":-236,"も":-206,"り":187,"る":-135,"を":195,"ル":-673,"ン":-496,"一":-277,"中":201,"件":-800,"会":624,"前":302,"区":1792,"員":-1212,"委":798,"学":-960,"市":887,"広":-695,"後":535,"業":-697,"相":753,"社":-507,"福":974,"空":-822,"者":1811,"連":463,"郎":1082};return this};util.inherits(TokenizerJa,Tokenizer);TokenizerJa.prototype.ctype_=function(str){for(var i=0,length=this.chartype_.length;i<length;i++){if(str.match(this.chartype_[i][0])){return this.chartype_[i][1]}}return"O"};TokenizerJa.prototype.ts_=function(v){if(v){return v}return 0};TokenizerJa.prototype.removePuncTokens=function(tokens){return tokens.map(function(token){return token.replace(/[＿－・，、；：！？．。（）［］｛｝｢｣＠＊＼／＆＃％｀＾＋＜＝＞｜～≪≫─＄＂_\-･,､;:!?.｡()[\]{}「」@*\/&#%`^+<=>|~«»$"\s]+/g,"")}).filter(function(token){return token!=""})};TokenizerJa.prototype.tokenize=function(text){if(text==null||text==undefined||text==""){return[]}text=normalize(text);var result=[];var seg=["B3","B2","B1"];var ctype=["O","O","O"];var o=text.split("");var i;var length;for(i=0,length=o.length;i<length;++i){seg.push(o[i]);ctype.push(this.ctype_(o[i]))}seg.push("E1");seg.push("E2");seg.push("E3");ctype.push("O");ctype.push("O");ctype.push("O");var word=seg[3];var p1="U";var p2="U";var p3="U";for(i=4,length=seg.length-3;i<length;++i){var score=this.BIAS__;var w1=seg[i-3];var w2=seg[i-2];var w3=seg[i-1];var w4=seg[i];var w5=seg[i+1];var w6=seg[i+2];var c1=ctype[i-3];var c2=ctype[i-2];var c3=ctype[i-1];var c4=ctype[i];var c5=ctype[i+1];var c6=ctype[i+2];score+=this.ts_(this.UP1__[p1]);score+=this.ts_(this.UP2__[p2]);score+=this.ts_(this.UP3__[p3]);score+=this.ts_(this.BP1__[p1+p2]);score+=this.ts_(this.BP2__[p2+p3]);score+=this.ts_(this.UW1__[w1]);score+=this.ts_(this.UW2__[w2]);score+=this.ts_(this.UW3__[w3]);score+=this.ts_(this.UW4__[w4]);score+=this.ts_(this.UW5__[w5]);score+=this.ts_(this.UW6__[w6]);score+=this.ts_(this.BW1__[w2+w3]);score+=this.ts_(this.BW2__[w3+w4]);score+=this.ts_(this.BW3__[w4+w5]);score+=this.ts_(this.TW1__[w1+w2+w3]);score+=this.ts_(this.TW2__[w2+w3+w4]);score+=this.ts_(this.TW3__[w3+w4+w5]);score+=this.ts_(this.TW4__[w4+w5+w6]);score+=this.ts_(this.UC1__[c1]);score+=this.ts_(this.UC2__[c2]);score+=this.ts_(this.UC3__[c3]);score+=this.ts_(this.UC4__[c4]);score+=this.ts_(this.UC5__[c5]);score+=this.ts_(this.UC6__[c6]);score+=this.ts_(this.BC1__[c2+c3]);score+=this.ts_(this.BC2__[c3+c4]);score+=this.ts_(this.BC3__[c4+c5]);score+=this.ts_(this.TC1__[c1+c2+c3]);score+=this.ts_(this.TC2__[c2+c3+c4]);score+=this.ts_(this.TC3__[c3+c4+c5]);score+=this.ts_(this.TC4__[c4+c5+c6]);score+=this.ts_(this.UQ1__[p1+c1]);score+=this.ts_(this.UQ2__[p2+c2]);score+=this.ts_(this.UQ3__[p3+c3]);score+=this.ts_(this.BQ1__[p2+c2+c3]);score+=this.ts_(this.BQ2__[p2+c3+c4]);score+=this.ts_(this.BQ3__[p3+c2+c3]);score+=this.ts_(this.BQ4__[p3+c3+c4]);score+=this.ts_(this.TQ1__[p2+c1+c2+c3]);score+=this.ts_(this.TQ2__[p2+c2+c3+c4]);score+=this.ts_(this.TQ3__[p3+c1+c2+c3]);score+=this.ts_(this.TQ4__[p3+c2+c3+c4]);var p="O";if(score>0){result.push(word);word="";p="B"}p1=p2;p2=p3;p3=p;word+=seg[i]}result.push(word);result=this.removePuncTokens(result);return result};module.exports=TokenizerJa},{"../normalizers/normalizer_ja":37,"./tokenizer":80,util:125}],83:[function(require,module,exports){var Tokenizer=require("./tokenizer"),util=require("util"),_=require("underscore")._;var contractions2=[/(.)('ll|'re|'ve|n't|'s|'m|'d)\b/gi,/\b(can)(not)\b/gi,/\b(D)('ye)\b/gi,/\b(Gim)(me)\b/gi,/\b(Gon)(na)\b/gi,/\b(Got)(ta)\b/gi,/\b(Lem)(me)\b/gi,/\b(Mor)('n)\b/gi,/\b(T)(is)\b/gi,/\b(T)(was)\b/gi,/\b(Wan)(na)\b/gi];var contractions3=[/\b(Whad)(dd)(ya)\b/gi,/\b(Wha)(t)(cha)\b/gi];var TreebankWordTokenizer=function(){};util.inherits(TreebankWordTokenizer,Tokenizer);TreebankWordTokenizer.prototype.tokenize=function(text){contractions2.forEach(function(regexp){text=text.replace(regexp,"$1 $2")});contractions3.forEach(function(regexp){text=text.replace(regexp,"$1 $2 $3")});text=text.replace(/([^\w\.\'\-\/\+\<\>,&])/g," $1 ");text=text.replace(/(,\s)/g," $1");text=text.replace(/('\s)/g," $1");text=text.replace(/\. *(\n|$)/g," . ");return _.without(text.split(/\s+/),"")};module.exports=TreebankWordTokenizer},{"./tokenizer":80,underscore:113,util:125}],84:[function(require,module,exports){var replacer=require("../../util/utils").replacer;var transliterationTable1={"ウァ":"wa","ウィ":"wi","ウェ":"we","ウォ":"wo","ウー":"ū","ヴァ":"va","ヴィ":"vi","ヴェ":"ve","ヴォ":"vo","ヴュ":"vyu","うぁ":"wa","うぃ":"wi","うぇ":"we","うぉ":"wo","うー":"ū","ゔぁ":"va","ゔぃ":"vi","ゔぇ":"ve","ゔぉ":"vo","ゔゅ":"vyu"};var transliterationTable2={"イェ":"ye","ア":"a","イ":"i","ウウ":"ū","ウ":"u","エ":"e","オウ":"ō","オ":"o","クァ":"kwa","クィ":"kwi","クェ":"kwe","クォ":"kwo","カ":"ka","キョウ":"kyō","キュウ":"kyū","キャ":"kya","キョ":"kyo","キュ":"kyu","キ":"ki","ク":"ku","ケ":"ke","コウ":"kō","コ":"ko","シェ":"she","スィ":"si","サ":"sa","ショウ":"shō","シュウ":"shū","シャ":"sha","ショ":"sho","シュ":"shu","シ":"shi","スウ":"sū","ス":"su","セ":"se","ソウ":"sō","ソ":"so","チェ":"che","ツァ":"tsa","ツィ":"tsi","ツェ":"tse","ツォ":"tso","ティ":"ti","ディ":"di","テュ":"tyu","デュ":"dyu","トィ":"twi","トゥ":"tu","ドィ":"dwi","ドゥ":"du","タ":"ta","チョウ":"chō","チュウ":"chū","チャ":"cha","チョ":"cho","チュ":"chu","チ":"chi","ツウ":"tsū","ツ":"tsu","テ":"te","トウ":"tō","ト":"to","ナ":"na","ニョウ":"nyō","ニュウ":"nyū","ニャ":"nya","ニョ":"nyo","ニュ":"nyu","ニ":"ni","ヌウ":"nū","ヌ":"nu","ネ":"ne","ノウ":"nō","ノ":"no","ファ":"fa","フィ":"fi","フェ":"fe","フォ":"fo","フュ":"fyu","ホェ":"hwe","ハ":"ha","ヒョウ":"hyō","ヒュウ":"hyū","ヒャ":"hya","ヒョ":"hyo","ヒュ":"hyu","ヒ":"hi","フウ":"fū","フ":"fu","ヘ":"he","ホウ":"hō","ホ":"ho","マ":"ma","ミョウ":"myō","ミュウ":"myū","ミャ":"mya","ミョ":"myo","ミュ":"myu","ミ":"mi","ムウ":"mū","ム":"mu","メ":"me","モウ":"mō","モ":"mo","ヤ":"ya","ユウ":"yū","ユ":"yu","ヨウ":"yō","ヨ":"yo","リェ":"rye","ラ":"ra","リョウ":"ryō","リュウ":"ryū","リャ":"rya","リョ":"ryo","リュ":"ryu","リ":"ri","ルウ":"rū","ル":"ru","レ":"re","ロウ":"rō","ロ":"ro","ワ":"wa","ヰ":"i","ヱ":"e","ヲ":"o","ン":"n","グァ":"gwa","グィ":"gwi","グェ":"gwe","グォ":"gwo","ガ":"ga","ギョウ":"gyō","ギュウ":"gyū","ギャ":"gya","ギョ":"gyo","ギュ":"gyu","ギ":"gi","グウ":"gū","グ":"gu","ゲ":"ge","ゴウ":"gō","ゴ":"go","ジェ":"je","ズィ":"zi","ザ":"za","ジョウ":"jō","ジュウ":"jū","ジャ":"ja","ジョ":"jo","ジュ":"ju","ジ":"ji","ズウ":"zū","ズ":"zu","ゼ":"ze","ゾウ":"zō","ゾ":"zo","ダ":"da","ヂ":"ji","ヅウ":"zū","ヅ":"zu","デ":"de","ドウ":"dō","ド":"do","ブュ":"byu","バ":"ba","ビョウ":"byō","ビュウ":"byū","ビャ":"bya","ビョ":"byo","ビュ":"byu","ビ":"bi","ブウ":"bū","ブ":"bu","ベ":"be","ボウ":"bō","ボ":"bo","パ":"pa","ピョウ":"pyō","ピュウ":"pyū","ピャ":"pya","ピョ":"pyo","ピュ":"pyu","ピ":"pi","プウ":"pū","プ":"pu","ペ":"pe","ポウ":"pō","ポ":"po","ヴ":"v","・":" ","いぇ":"ye","あ":"a","い":"i","うう":"ū","う":"u","え":"e","おう":"ō","お":"o","くぁ":"kwa","くぃ":"kwi","くぇ":"kwe","くぉ":"kwo","か":"ka","きょう":"kyō","きゅう":"kyū","きゃ":"kya","きょ":"kyo","きゅ":"kyu","き":"ki","くう":"kū","く":"ku","け":"ke","こう":"kō","こ":"ko","しぇ":"she","すぃ":"si","さ":"sa","しょう":"shō","しゅう":"shū","しゃ":"sha","しょ":"sho","しゅ":"shu","し":"shi","すう":"sū","す":"su","せ":"se","そう":"sō","そ":"so","ちぇ":"che","つぁ":"tsa","つぃ":"tsi","つぇ":"tse","つぉ":"tso","てぃ":"ti","でぃ":"di","てゅ":"tyu","でゅ":"dyu","とぃ":"twi","とぅ":"tu","どぃ":"dwi","どぅ":"du","た":"ta","ちょう":"chō","ちゅう":"chū","ちゃ":"cha","ちょ":"cho","ちゅ":"chu","ち":"chi","つう":"tsū","つ":"tsu","て":"te","とう":"tō","と":"to","な":"na","にょう":"nyō","にゅう":"nyū","にゃ":"nya","にょ":"nyo","にゅ":"nyu","に":"ni","ぬう":"nū","ぬ":"nu","ね":"ne","のう":"nō","の":"no","ふぁ":"fa","ふぃ":"fi","ふぇ":"fe","ふぉ":"fo","ふゅ":"fyu","ほぇ":"hwe","は":"ha","ひょう":"hyō","ひゅう":"hyū","ひゃ":"hya","ひょ":"hyo","ひゅ":"hyu","ひ":"hi","ふう":"fū","ふ":"fu","へ":"he","ほう":"hō","ほ":"ho","ま":"ma","みょう":"myō","みゅう":"myū","みゃ":"mya","みょ":"myo","みゅ":"myu","み":"mi","むう":"mū","む":"mu","め":"me","もう":"mō","も":"mo","や":"ya","ゆう":"yū","ゆ":"yu","よう":"yō","よ":"yo","りぇ":"rye","ら":"ra","りょう":"ryō","りゅう":"ryū","りゃ":"rya","りょ":"ryo","りゅ":"ryu","り":"ri","るう":"rū","る":"ru","れ":"re","ろう":"rō","ろ":"ro","わ":"wa","ゐ":"i","ゑ":"e","を":"o","ん":"n","ぐぁ":"gwa","ぐぃ":"gwi","ぐぇ":"gwe","ぐぉ":"gwo","が":"ga","ぎょう":"gyō","ぎゅう":"gyū","ぎゃ":"gya","ぎょ":"gyo","ぎゅ":"gyu","ぎ":"gi","ぐう":"gū","ぐ":"gu","げ":"ge","ごう":"gō","ご":"go","じぇ":"je","ずぃ":"zi","ざ":"za","じょう":"jō","じゅう":"jū","じゃ":"ja","じょ":"jo","じゅ":"ju","じ":"ji","ずう":"zū","ず":"zu","ぜ":"ze","ぞう":"zō","ぞ":"zo","だ":"da","ぢ":"ji","づう":"zū","づ":"zu","で":"de","どう":"dō","ど":"do","ぶゅ":"byu","ば":"ba","びょう":"byō","びゅう":"byū","びゃ":"bya","びょ":"byo","びゅ":"byu","び":"bi","ぶう":"bū","ぶ":"bu","べ":"be","ぼう":"bō","ぼ":"bo","ぱ":"pa","ぴょう":"pyō","ぴゅう":"pyū","ぴゃ":"pya","ぴょ":"pyo","ぴゅ":"pyu","ぴ":"pi","ぷう":"pū","ぷ":"pu","ぺ":"pe","ぽう":"pō","ぽ":"po","ゔ":"v"};var transliterationTable3={"aァ":"ā","aぁ":"ā","iィー":"ī","iィ":"ī","iぃー":"ī","iぃ":"ī","aー":"ā","iー":"ī","uー":"ū","eー":"ē","oー":"ō","ァ":"a","ィ":"i","ゥ":"u","ェ":"e","ォ":"o","ぁ":"a","ぃ":"i","ぅ":"u","ぇ":"e","ぉ":"o"};var replace1=replacer(transliterationTable1);var replace2=replacer(transliterationTable2);var replace3=replacer(transliterationTable3);module.exports=function(str){str=replace1(str);str=str.replace(/ッ(?=[ン])/g,"n").replace(/っ(?=[ん])/g,"n").replace(/ン(?=[バビブベボパピプペポマミムメモ])/g,"m").replace(/ん(?=[ばびぶべぼぱぴぷぺぽまみむめも])/g,"m").replace(/ン(?=[ヤユヨアイウエオ])/g,"n'").replace(/ん(?=[やゆよあいうえお])/g,"n'");str=str.replace(/ッ(?=[カキクケコ])/g,"k").replace(/っ(?=[かきくけこ])/g,"k").replace(/ッ(?=[ガギグゲゴ])/g,"g").replace(/っ(?=[がぎぐげご])/g,"g").replace(/ッ(?=[サシスセソ])/g,"s").replace(/っ(?=[さしすせそ])/g,"s").replace(/ッ(?=[ザズゼゾ])/g,"z").replace(/っ(?=[ざずぜぞ])/g,"z").replace(/ッ(?=[ジ])/g,"j").replace(/っ(?=[じ])/g,"j").replace(/ッ(?=[タチツテト])/g,"t").replace(/っ(?=[たちつてと])/g,"t").replace(/ッ(?=[ダヂヅデド])/g,"t").replace(/っ(?=[だぢづでど])/g,"t").replace(/ッ(?=[ハヒヘホ])/g,"h").replace(/っ(?=[はひへほ])/g,"h").replace(/ッ(?=[フ])/g,"f").replace(/っ(?=[ふ])/g,"f").replace(/ッ(?=[バビブベボ])/g,"b").replace(/っ(?=[ばびぶべぼ])/g,"b").replace(/ッ(?=[パピプペポ])/g,"p").replace(/っ(?=[ぱぴぷぺぽ])/g,"p").replace(/ッ(?=[ラリルレロ])/g,"r").replace(/っ(?=[らりるれろ])/g,"r");str=replace2(str);str=replace3(str);str=str.replace(/(ッ|っ)\B/g,"t");return str}},{"../../util/utils":101}],85:[function(require,module,exports){function Trie(caseSensitive){this.dictionary={};this.$=false;if(typeof caseSensitive==="undefined"){caseSensitive=true}this.cs=caseSensitive}Trie.prototype.addString=function(string){if(this.cs===false){string=string.toLowerCase()}if(string.length===0){var wasWord=this.$;this.$=true;return wasWord}var next=this.dictionary[string[0]];if(!next){this.dictionary[string[0]]=new Trie(this.cs);next=this.dictionary[string[0]]}return next.addString(string.substring(1))};Trie.prototype.addStrings=function(list){for(var i in list){this.addString(list[i])}};Trie.prototype.keysWithPrefix=function(prefix){if(this.caseSensitive===false){prefix=prefix.toLowerCase()}function isEmpty(object){for(var key in object)if(object.hasOwnProperty(key))return false;return true}function get(node,word){if(!node)return null;if(word.length==0)return node;return get(node.dictionary[word[0]],word.substring(1))}function recurse(node,stringAgg,resultsAgg){if(!node)return;if(node.$){resultsAgg.push(stringAgg)}if(isEmpty(node.dictionary)){return}for(var c in node.dictionary){recurse(node.dictionary[c],stringAgg+c,resultsAgg)}}var results=[];recurse(get(this,prefix),prefix,results);return results};Trie.prototype.contains=function(string){if(this.cs===false){string=string.toLowerCase()}if(string.length===0){return this.$}var firstLetter=string[0];var next=this.dictionary[firstLetter];if(!next){return false}return next.contains(string.substring(1))};Trie.prototype.findMatchesOnPath=function(search){if(this.cs===false){search=search.toLowerCase()}function recurse(node,search,stringAgg,resultsAgg){if(node.$){resultsAgg.push(stringAgg)}if(search.length===0){return resultsAgg}var next=node.dictionary[search[0]];if(!next){return resultsAgg}return recurse(next,search.substring(1),stringAgg+search[0],resultsAgg)}return recurse(this,search,"",[])};Trie.prototype.findPrefix=function(search){if(this.cs===false){search=search.toLowerCase()}function recurse(node,search,stringAgg,lastWord){if(node.$){lastWord=stringAgg}if(search.length===0){return[lastWord,search]}var next=node.dictionary[search[0]];if(!next){return[lastWord,search]}return recurse(next,search.substring(1),stringAgg+search[0],lastWord)}return recurse(this,search,"",null)};Trie.prototype.getSize=function(){var total=1;for(var c in this.dictionary){total+=this.dictionary[c].getSize()}return total};module.exports=Trie},{}],86:[function(require,module,exports){"use strict";function Bag(){this.dictionary=[];this.nElement=0}Bag.prototype.add=function(element){this.dictionary.push(element);this.nElement++;return this};Bag.prototype.isEmpty=function(){return this.nElement>0};Bag.prototype.contains=function(item){return this.dictionary.indexOf(item)>=0};Bag.prototype.unpack=function(){return this.dictionary.slice()};module.exports=Bag},{}],87:[function(require,module,exports){"use strict";var util=require("util"),Bag=require("./bag");var DirectedEdge=function(start,end,weight){this.start=start;this.end=end;this.weight=weight;
};DirectedEdge.prototype.weight=function(){return this.weight};DirectedEdge.prototype.from=function(){return this.start};DirectedEdge.prototype.to=function(){return this.end};DirectedEdge.prototype.toString=function(){return util.format("%s -> %s, %s",this.start,this.end,this.weight)};var EdgeWeightedDigraph=function(){this.edgesNum=0;this.adj=[]};EdgeWeightedDigraph.prototype.v=function(){return this.adj.length};EdgeWeightedDigraph.prototype.e=function(){return this.edgesNum};EdgeWeightedDigraph.prototype.add=function(start,end,weight){var e=new DirectedEdge(start,end,weight);this.addEdge(e)};EdgeWeightedDigraph.prototype.addEdge=function(e){if(!this.adj[e.from()]){this.adj[e.from()]=new Bag}this.adj[e.from()].add(e);this.edgesNum++};EdgeWeightedDigraph.prototype.getAdj=function(v){if(!this.adj[v])return[];return this.adj[v].unpack()};EdgeWeightedDigraph.prototype.edges=function(){var adj=this.adj;var list=new Bag;for(var i in adj){adj[i].unpack().forEach(function(item){list.add(item)})}return list.unpack()};EdgeWeightedDigraph.prototype.toString=function(){var result=[];var list=this.edges();list.forEach(function(edge){result.push(edge.toString())});return result.join("\n")};module.exports=EdgeWeightedDigraph},{"./bag":86,util:125}],88:[function(require,module,exports){"use strict";var EdgeWeightedDigraph=require("./edge_weighted_digraph"),Topological=require("./topological");var LongestPathTree=function(digraph,start){var _this=this;this.edgeTo=[];this.distTo=[];this.distTo[start]=0;this.start=start;this.top=new Topological(digraph);this.top.order().forEach(function(vertex){_this.relaxVertex(digraph,vertex,_this)})};LongestPathTree.prototype.relaxEdge=function(e){var distTo=this.distTo,edgeTo=this.edgeTo;var v=e.from(),w=e.to();if(distTo[w]<distTo[v]+e.weight){distTo[w]=distTo[v]+e.weight;edgeTo[w]=e}};LongestPathTree.prototype.relaxVertex=function(digraph,vertex,tree){var distTo=tree.distTo;var edgeTo=tree.edgeTo;digraph.getAdj(vertex).forEach(function(edge){var w=edge.to();distTo[w]=distTo[w]||0;distTo[vertex]=distTo[vertex]||0;if(distTo[w]<distTo[vertex]+edge.weight){distTo[w]=parseFloat((distTo[vertex]+edge.weight).toFixed(2));edgeTo[w]=edge}})};LongestPathTree.prototype.getDistTo=function(v){return this.distTo[v]};LongestPathTree.prototype.hasPathTo=function(v){return!!this.distTo[v]};LongestPathTree.prototype.pathTo=function(v){if(!this.hasPathTo(v))return[];var path=[];var edgeTo=this.edgeTo;for(var e=edgeTo[v];!!e;e=edgeTo[e.from()]){path.push(e.to())}path.push(this.start);return path.reverse()};module.exports=LongestPathTree},{"./edge_weighted_digraph":87,"./topological":100}],89:[function(require,module,exports){"use strict";var EdgeWeightedDigraph=require("./edge_weighted_digraph"),Topological=require("./topological");var ShortestPathTree=function(digraph,start){var _this=this;this.edgeTo=[];this.distTo=[];this.distTo[start]=0;this.start=start;this.top=new Topological(digraph);this.top.order().forEach(function(vertex){_this.relaxVertex(digraph,vertex,_this)})};ShortestPathTree.prototype.relaxEdge=function(e){var distTo=this.distTo,edgeTo=this.edgeTo;var v=e.from(),w=e.to();if(distTo[w]>distTo[v]+e.weight){distTo[w]=distTo[v]+e.weight;edgeTo[w]=e}};ShortestPathTree.prototype.relaxVertex=function(digraph,vertex,tree){var distTo=tree.distTo;var edgeTo=tree.edgeTo;digraph.getAdj(vertex).forEach(function(edge){var w=edge.to();distTo[w]=/\d/.test(distTo[w])?distTo[w]:Number.MAX_VALUE;distTo[vertex]=distTo[vertex]||0;if(distTo[w]>distTo[vertex]+edge.weight){distTo[w]=parseFloat((distTo[vertex]+edge.weight).toFixed(2));edgeTo[w]=edge}})};ShortestPathTree.prototype.getDistTo=function(v){return this.distTo[v]};ShortestPathTree.prototype.hasPathTo=function(v){var dist=this.distTo[v];if(v==this.start)return false;return/\d/.test(dist)?dist!=Number.MAX_VALUE:false};ShortestPathTree.prototype.pathTo=function(v){if(!this.hasPathTo(v)||v==this.start)return[];var path=[];var edgeTo=this.edgeTo;for(var e=edgeTo[v];!!e;e=edgeTo[e.from()]){path.push(e.to())}path.push(this.start);return path.reverse()};module.exports=ShortestPathTree},{"./edge_weighted_digraph":87,"./topological":100}],90:[function(require,module,exports){var words=["about","after","all","also","am","an","and","another","any","are","as","at","be","because","been","before","being","between","both","but","by","came","can","come","could","did","do","each","for","from","get","got","has","had","he","have","her","here","him","himself","his","how","if","in","into","is","it","like","make","many","me","might","more","most","much","must","my","never","now","of","on","only","or","other","our","out","over","said","same","see","should","since","some","still","such","take","than","that","the","their","them","then","there","these","they","this","those","through","to","too","under","up","very","was","way","we","well","were","what","where","which","while","who","with","would","you","your","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","$","1","2","3","4","5","6","7","8","9","0","_"];exports.words=words},{}],91:[function(require,module,exports){var words=["a","un","el","ella","y","sobre","de","la","que","en","los","del","se","las","por","un","para","con","no","una","su","al","lo","como","más","pero","sus","le","ya","o","porque","cuando","muy","sin","sobre","también","me","hasta","donde","quien","desde","nos","durante","uno","ni","contra","ese","eso","mí","qué","otro","él","cual","poco","mi","tú","te","ti","sí","1","2","3","4","5","6","7","8","9","0","_"];exports.words=words},{}],92:[function(require,module,exports){var words=["از","با","یه","برای","و","باید","شاید","؟","!","٪",".","،","؛",":",";",",","۱","۲","۳","۴","۵","۶","۷","۸","۹","۰"];exports.words=words},{}],93:[function(require,module,exports){var words=["être","avoir","faire","a","au","aux","avec","ce","ces","dans","de","des","du","elle","en","et","eux","il","je","la","le","leur","lui","ma","mais","me","même","mes","moi","mon","ne","nos","notre","nous","on","ou","où","par","pas","pour","qu","que","qui","sa","se","ses","son","sur","ta","te","tes","toi","ton","tu","un","une","vos","votre","vous","c","d","j","l","à","m","n","s","t","y","été","étée","étées","étés","étant","suis","es","est","sommes","êtes","sont","serai","seras","sera","serons","serez","seront","serais","serait","serions","seriez","seraient","étais","était","étions","étiez","étaient","fus","fut","fûmes","fûtes","furent","sois","soit","soyons","soyez","soient","fusse","fusses","fût","fussions","fussiez","fussent","ayant","eu","eue","eues","eus","ai","as","avons","avez","ont","aurai","auras","aura","aurons","aurez","auront","aurais","aurait","aurions","auriez","auraient","avais","avait","avions","aviez","avaient","eut","eûmes","eûtes","eurent","aie","aies","ait","ayons","ayez","aient","eusse","eusses","eût","eussions","eussiez","eussent","ceci","cela","cet","cette","ici","ils","les","leurs","quel","quels","quelle","quelles","sans","soi"];exports.words=words},{}],94:[function(require,module,exports){var words=["ad","al","allo","ai","agli","all","agl","alla","alle","con","col","coi","da","dal","dallo","dai","dagli","dall","dagl","dalla","dalle","di","del","dello","dei","degli","dell","degl","della","delle","in","nel","nello","nei","negli","nell","negl","nella","nelle","su","sul","sullo","sui","sugli","sull","sugl","sulla","sulle","per","tra","contro","io","tu","lui","lei","noi","voi","loro","mio","mia","miei","mie","tuo","tua","tuoi","tue","suo","sua","suoi","sue","nostro","nostra","nostri","nostre","vostro","vostra","vostri","vostre","mi","ti","ci","vi","lo","la","li","le","gli","ne","il","un","uno","una","ma","ed","se","perché","anche","come","dov","dove","che","chi","cui","non","più","quale","quanto","quanti","quanta","quante","quello","quelli","quella","quelle","questo","questi","questa","queste","si","tutto","tutti","a","c","e","i","l","o","ho","hai","ha","abbiamo","avete","hanno","abbia","abbiate","abbiano","avrò","avrai","avrà","avremo","avrete","avranno","avrei","avresti","avrebbe","avremmo","avreste","avrebbero","avevo","avevi","aveva","avevamo","avevate","avevano","ebbi","avesti","ebbe","avemmo","aveste","ebbero","avessi","avesse","avessimo","avessero","avendo","avuto","avuta","avuti","avute","sono","sei","è","siamo","siete","sia","siate","siano","sarò","sarai","sarà","saremo","sarete","saranno","sarei","saresti","sarebbe","saremmo","sareste","sarebbero","ero","eri","era","eravamo","eravate","erano","fui","fosti","fu","fummo","foste","furono","fossi","fosse","fossimo","fossero","essendo","faccio","fai","facciamo","fanno","faccia","facciate","facciano","farò","farai","farà","faremo","farete","faranno","farei","faresti","farebbe","faremmo","fareste","farebbero","facevo","facevi","faceva","facevamo","facevate","facevano","feci","facesti","fece","facemmo","faceste","fecero","facessi","facesse","facessimo","facessero","facendo","sto","stai","sta","stiamo","stanno","stia","stiate","stiano","starò","starai","starà","staremo","starete","staranno","starei","staresti","starebbe","staremmo","stareste","starebbero","stavo","stavi","stava","stavamo","stavate","stavano","stetti","stesti","stette","stemmo","steste","stettero","stessi","stesse","stessimo","stessero","stando","1","2","3","4","5","6","7","8","9","0","_"];exports.words=words},{}],95:[function(require,module,exports){var words=["の","に","は","を","た","が","で","て","と","し","れ","さ","ある","いる","も","する","から","な","こと","として","い","や","れる","など","なっ","ない","この","ため","その","あっ","よう","また","もの","という","あり","まで","られ","なる","へ","か","だ","これ","によって","により","おり","より","による","ず","なり","られる","において","ば","なかっ","なく","しかし","について","せ","だっ","その後","できる","それ","う","ので","なお","のみ","でき","き","つ","における","および","いう","さらに","でも","ら","たり","その他","に関する","たち","ます","ん","なら","に対して","特に","せる","及び","これら","とき","では","にて","ほか","ながら","うち","そして","とともに","ただし","かつて","それぞれ","または","お","ほど","ものの","に対する","ほとんど","と共に","といった","です","とも","ところ","ここ"];module.exports=words},{}],96:[function(require,module,exports){var words=["og","i","jeg","det","at","en","et","den","til","er","som","på","de","med","han","av","ikke","der","så","var","meg","seg","men","ett","har","om","vi","min","mitt","ha","hadde","hun","nå","over","da","ved","fra","du","ut","sin","dem","oss","opp","man","kan","hans","hvor","eller","hva","skal","selv","sjøl","her","alle","vil","bli","ble","blitt","kunne","inn","når","være","kom","noen","noe","ville","dere","som","deres","kun","ja","etter","ned","skulle","denne","for","deg","si","sine","sitt","mot","å","meget","hvorfor","dette","disse","uten","hvordan","ingen","din","ditt","blir","samme","hvilken","hvilke","sånn","inni","mellom","vår","hver","hvem","vors","hvis","både","bare","enn","fordi","før","mange","også","slik","vært","være","begge","siden","henne","hennar","hennes","1","2","3","4","5","6","7","8","9","0","_"];exports.words=words},{}],97:[function(require,module,exports){var words=["a","aby","ach","acz","aczkolwiek","aj","albo","ale","ależ","ani","aż","bardziej","bardzo","bo","bowiem","by","byli","bynajmniej","być","był","była","było","były","będzie","będą","cali","cała","cały","ci","cię","ciebie","co","cokolwiek","coś","czasami","czasem","czemu","czy","czyli","daleko","dla","dlaczego","dlatego","do","dobrze","dokąd","dość","dużo","dwa","dwaj","dwie","dwoje","dziś","dzisiaj","gdy","gdyby","gdyż","gdzie","gdziekolwiek","gdzieś","i","ich","ile","im","inna","inne","inny","innych","iż","ja","ją","jak","jakaś","jakby","jaki","jakichś","jakie","jakiś","jakiż","jakkolwiek","jako","jakoś","je","jeden","jedna","jedno","jednak","jednakże","jego","jej","jemu","jest","jestem","jeszcze","jeśli","jeżeli","już","ją","każdy","kiedy","kilka","kimś","kto","ktokolwiek","ktoś","która","które","którego","której","który","których","którym","którzy","ku","lat","lecz","lub","ma","mają","mało","mam","mi","mimo","między","mną","mnie","mogą","moi","moim","moja","moje","może","możliwe","można","mój","mu","musi","my","na","nad","nam","nami","nas","nasi","nasz","nasza","nasze","naszego","naszych","natomiast","natychmiast","nawet","nią","nic","nich","nie","niech","niego","niej","niemu","nigdy","nim","nimi","niż","no","o","obok","od","około","on","ona","one","oni","ono","oraz","oto","owszem","pan","pana","pani","po","pod","podczas","pomimo","ponad","ponieważ","powinien","powinna","powinni","powinno","poza","prawie","przecież","przed","przede","przedtem","przez","przy","roku","również","sam","sama","są","się","skąd","sobie","sobą","sposób","swoje","ta","tak","taka","taki","takie","także","tam","te","tego","tej","temu","ten","teraz","też","to","tobą","tobie","toteż","trzeba","tu","tutaj","twoi","twoim","twoja","twoje","twym","twój","ty","tych","tylko","tym","u","w","wam","wami","was","wasz","zaś","wasza","wasze","we","według","wiele","wielu","więc","więcej","tę","wszyscy","wszystkich","wszystkie","wszystkim","wszystko","wtedy","wy","właśnie","z","za","zapewne","zawsze","ze","zł","znowu","znów","został","żaden","żadna","żadne","żadnych","że","żeby","$","1","2","3","4","5","6","7","8","9","0","_"];exports.words=words},{}],98:[function(require,module,exports){var words=["a","à","ao","aos","aquela","aquelas","aquele","aqueles","aquilo","as","às","até","com","como","da","das","de","dela","delas","dele","deles","depois","do","dos","e","ela","elas","ele","eles","em","entre","essa","essas","esse","esses","esta","estas","este","estes","eu","isso","isto","já","lhe","lhes","mais","mas","me","mesmo","meu","meus","minha","minhas","muito","muitos","na","não","nas","nem","no","nos","nós","nossa","nossas","nosso","nossos","num","nuns","numa","numas","o","os","ou","para","pela","pelas","pelo","pelos","por","quais","qual","quando","que","quem","se","sem","seu","seus","só","sua","suas","também","te","teu","teus","tu","tua","tuas","um","uma","umas","você","vocês","vos","vosso","vossos","1","2","3","4","5","6","7","8","9","0","_"];exports.words=words},{}],99:[function(require,module,exports){var words=["о","после","все","также","и","другие","все","как","во","быть","потому","был","до","являюсь","между","все","но","от","иди","могу","подойди","мог","делал","делаю","каждый","для","откуда","иметь","имел","он","имеет","её","здесь","его","как","если","в","оно","за","делать","много","я","может быть","более","самый","должен","мой","никогда","сейчас","из","на","только","или","другой","другая","другое","наше","вне","конец","сказал","сказала","также","видел","c","немного","все еще","так","затем","тот","их","там","этот","они","те","через","тоже","под","над","очень","был","путь","мы","хорошо","что","где","который","пока","кто","с кем","хотел бы","ты","твои","а","б","в","г","д","е","ё","ж","з","и","й","к","л","м","н","o","п","р","с","т","у","ф","х","ц","ч","ш","щ","ъ","ы","ь","э","ю","я","$","1","2","3","4","5","6","7","8","9","0","_"];exports.words=words},{}],100:[function(require,module,exports){"use strict";var Topological=function(g){this.isDag=true;this.sorted=topoSort(uniqueVertexs(g.edges()),g.edges())};Topological.prototype.isDAG=function(){return this.isDag};Topological.prototype.order=function(){return this.sorted.slice()};function topoSort(vertexs,edges){var sorted=[];var cursor=vertexs.length,visited={},i=cursor;while(i--){if(!visited[i])visit(vertexs[i],i,[])}return sorted.reverse();function visit(vertex,i,predecessors){if(predecessors.indexOf(vertex)>=0){throw new Error("Cyclic dependency:"+JSON.stringify(vertex))}if(visited[i])return;visited[i]=true;var outgoing=edges.filter(function(edge){return edge.to()===vertex});var preds=[];if(outgoing.length>0){preds=predecessors.concat(vertex)}var from;outgoing.forEach(function(edge){from=edge.from();visit(from,vertexs.indexOf(from),preds)});sorted[--cursor]=vertex}}function uniqueVertexs(edges){var vertexs=[];var from,to;edges.forEach(function(edge){from=edge.from();to=edge.to();if(vertexs.indexOf(from)<0)vertexs.push(from);if(vertexs.indexOf(to)<0)vertexs.push(to)});return vertexs}module.exports=Topological},{}],101:[function(require,module,exports){function replacer(translationTable){var pattern=[];var regExp;var key;for(key in translationTable){key=(""+key).replace(/([-()\[\]{}+?*.$\^|,:#<!\\\/])/g,"\\$1").replace(/\x08/g,"\\x08");pattern.push(key)}regExp=new RegExp(pattern.join("|"),"g");return function(str){return str.replace(regExp,function(str){return translationTable[str]})}}function flip(obj){var newObj=Object.create(null),key;for(key in obj){newObj[obj[key]]=key}return newObj}function merge(var_args){var args=[].slice.call(arguments),newObj=Object.create(null),id=0,key;while(args[id]){for(key in args[id]){newObj[key]=args[id][key]}id++}return newObj}exports.replacer=replacer;exports.flip=flip;exports.merge=merge},{}],102:[function(require,module,exports){(function(Buffer){var WordNetFile=require("./wordnet_file"),fs=require("fs"),util=require("util");function get(location,callback){var buff=new Buffer(4096);this.open(function(err,fd,done){WordNetFile.appendLineChar(fd,location,0,buff,function(line){done();var data=line.split("| ");var tokens=data[0].split(/\s+/);var ptrs=[];var wCnt=parseInt(tokens[3],16);var synonyms=[];for(var i=0;i<wCnt;i++){synonyms.push(tokens[4+i*2])}var ptrOffset=(wCnt-1)*2+6;for(var i=0;i<parseInt(tokens[ptrOffset],10);i++){ptrs.push({pointerSymbol:tokens[ptrOffset+1+i*4],synsetOffset:parseInt(tokens[ptrOffset+2+i*4],10),pos:tokens[ptrOffset+3+i*4],sourceTarget:tokens[ptrOffset+4+i*4]})}var glossArray=data[1].split("; ");var definition=glossArray[0];var examples=glossArray.slice(1);for(var k=0;k<examples.length;k++){examples[k]=examples[k].replace(/\"/g,"").replace(/\s\s+/g,"")}callback({synsetOffset:parseInt(tokens[0],10),lexFilenum:parseInt(tokens[1],10),pos:tokens[2],wCnt:wCnt,lemma:tokens[4],synonyms:synonyms,lexId:tokens[5],ptrs:ptrs,gloss:data[1],def:definition,exp:examples})})})}var DataFile=function(dataDir,name){WordNetFile.call(this,dataDir,"data."+name)};util.inherits(DataFile,WordNetFile);DataFile.prototype.get=get;module.exports=DataFile}).call(this,require("buffer").Buffer)},{"./wordnet_file":105,buffer:117,fs:114,util:125}],103:[function(require,module,exports){(function(Buffer){var WordNetFile=require("./wordnet_file"),fs=require("fs"),util=require("util");function getFileSize(path){var stat=fs.statSync(path);return stat.size}function findPrevEOL(fd,pos,callback){var buff=new Buffer(1024);if(pos==0)callback(0);else{fs.read(fd,buff,0,1,pos,function(err,count){if(buff[0]==10)callback(pos+1);else findPrevEOL(fd,pos-1,callback)})}}function readLine(fd,pos,callback){var buff=new Buffer(1024);findPrevEOL(fd,pos,function(pos){WordNetFile.appendLineChar(fd,pos,0,buff,callback)})}function miss(callback){callback({status:"miss"})}function findAt(fd,size,pos,lastPos,adjustment,searchKey,callback,lastKey){if(lastPos==pos||pos>=size){miss(callback)}else{readLine(fd,pos,function(line){var tokens=line.split(/\s+/);var key=tokens[0];if(key==searchKey){callback({status:"hit",key:key,line:line,tokens:tokens})}else if(adjustment==1||key==lastKey){miss(callback)}else{adjustment=Math.ceil(adjustment*.5);if(key<searchKey){findAt(fd,size,pos+adjustment,pos,adjustment,searchKey,callback,key)}else{findAt(fd,size,pos-adjustment,pos,adjustment,searchKey,callback,key)}}})}}function find(searchKey,callback){var indexFile=this;indexFile.open(function(err,fd,done){if(err){console.log(err)}else{var size=getFileSize(indexFile.filePath)-1;var pos=Math.ceil(size/2);findAt(fd,size,pos,null,pos,searchKey,function(result){callback(result);done()})}})}function lookupFromFile(word,callback){this.find(word,function(record){var indexRecord=null;if(record.status=="hit"){var ptrs=[],offsets=[];for(var i=0;i<parseInt(record.tokens[3]);i++)ptrs.push(record.tokens[i]);for(var i=0;i<parseInt(record.tokens[2]);i++)offsets.push(parseInt(record.tokens[ptrs.length+6+i],10));indexRecord={lemma:record.tokens[0],pos:record.tokens[1],ptrSymbol:ptrs,senseCnt:parseInt(record.tokens[ptrs.length+4],10),tagsenseCnt:parseInt(record.tokens[ptrs.length+5],10),synsetOffset:offsets}}callback(indexRecord)})}function lookup(word,callback){this.lookupFromFile(word,callback)}var IndexFile=function(dataDir,name){WordNetFile.call(this,dataDir,"index."+name)};util.inherits(IndexFile,WordNetFile);IndexFile.prototype.lookupFromFile=lookupFromFile;IndexFile.prototype.lookup=lookup;IndexFile.prototype.find=find;IndexFile.prototype._findAt=findAt;module.exports=IndexFile}).call(this,require("buffer").Buffer)},{"./wordnet_file":105,buffer:117,fs:114,util:125}],104:[function(require,module,exports){var IndexFile=require("./index_file"),DataFile=require("./data_file");function pushResults(data,results,offsets,callback){var wordnet=this;if(offsets.length==0){callback(results)}else{data.get(offsets.pop(),function(record){results.push(record);wordnet.pushResults(data,results,offsets,callback)})}}function lookupFromFiles(files,results,word,callback){var wordnet=this;if(files.length==0)callback(results);else{var file=files.pop();file.index.lookup(word,function(record){if(record){wordnet.pushResults(file.data,results,record.synsetOffset,function(){wordnet.lookupFromFiles(files,results,word,callback)})}else{wordnet.lookupFromFiles(files,results,word,callback)}})}}function lookup(word,callback){word=word.toLowerCase().replace(/\s+/g,"_");this.lookupFromFiles([{index:this.nounIndex,data:this.nounData},{index:this.verbIndex,data:this.verbData},{index:this.adjIndex,data:this.adjData},{index:this.advIndex,data:this.advData}],[],word,callback)}function get(synsetOffset,pos,callback){var dataFile=this.getDataFile(pos);var wordnet=this;dataFile.get(synsetOffset,function(result){callback(result)})}function getDataFile(pos){switch(pos){case"n":return this.nounData;case"v":return this.verbData;case"a":case"s":return this.adjData;case"r":return this.advData}}function loadSynonyms(synonyms,results,ptrs,callback){var wordnet=this;if(ptrs.length>0){var ptr=ptrs.pop();this.get(ptr.synsetOffset,ptr.pos,function(result){synonyms.push(result);wordnet.loadSynonyms(synonyms,results,ptrs,callback)})}else{wordnet.loadResultSynonyms(synonyms,results,callback)}}function loadResultSynonyms(synonyms,results,callback){var wordnet=this;if(results.length>0){var result=results.pop();wordnet.loadSynonyms(synonyms,results,result.ptrs,callback)}else callback(synonyms)}function lookupSynonyms(word,callback){var wordnet=this;wordnet.lookup(word,function(results){wordnet.loadResultSynonyms([],results,callback)})}function getSynonyms(){var wordnet=this;var callback=arguments[2]?arguments[2]:arguments[1];var pos=arguments[0].pos?arguments[0].pos:arguments[1];var synsetOffset=arguments[0].synsetOffset?arguments[0].synsetOffset:arguments[0];this.get(synsetOffset,pos,function(result){wordnet.loadSynonyms([],[],result.ptrs,callback)})}function WordNet(dataDir){if(!dataDir){try{var WNdb=require("wordnet-db")}catch(e){console.error("Please 'npm install wordnet-db' before using WordNet module or specify a dict directory.");throw e}dataDir=WNdb.path}this.nounIndex=new IndexFile(dataDir,"noun");this.verbIndex=new IndexFile(dataDir,"verb");this.adjIndex=new IndexFile(dataDir,"adj");this.advIndex=new IndexFile(dataDir,"adv");this.nounData=new DataFile(dataDir,"noun");this.verbData=new DataFile(dataDir,"verb");this.adjData=new DataFile(dataDir,"adj");this.advData=new DataFile(dataDir,"adv");this.get=get;this.lookup=lookup;this.lookupFromFiles=lookupFromFiles;this.pushResults=pushResults;this.loadResultSynonyms=loadResultSynonyms;this.loadSynonyms=loadSynonyms;this.lookupSynonyms=lookupSynonyms;this.getSynonyms=getSynonyms;this.getDataFile=getDataFile}module.exports=WordNet},{"./data_file":102,"./index_file":103,"wordnet-db":undefined}],105:[function(require,module,exports){(function(Buffer){var fs=require("fs"),path=require("path"),util=require("util");function appendLineChar(fd,pos,buffPos,buff,callback){if(buffPos>=buff.length){var newBuff=new Buffer(buff.length*2);buff.copy(newBuff,0,0,buff.length);buff=newBuff}fs.read(fd,buff,buffPos,1,pos,function(err,count){if(err)console.log(err);else{if(buff[buffPos]==10||buffPos==buff.length)callback(buff.slice(0,buffPos).toString("UTF-8"));else{appendLineChar(fd,pos+1,buffPos+1,buff,callback)}}})}function open(callback){var filePath=this.filePath;fs.open(filePath,"r",null,function(err,fd){if(err){console.log("Unable to open %s",filePath);return}callback(err,fd,function(){fs.close(fd)})})}var WordNetFile=function(dataDir,fileName){this.dataDir=dataDir;this.fileName=fileName;this.filePath=require("path").join(this.dataDir,this.fileName)};WordNetFile.prototype.open=open;WordNetFile.appendLineChar=appendLineChar;module.exports=WordNetFile}).call(this,require("buffer").Buffer)},{buffer:117,fs:114,path:122,util:125}],106:[function(require,module,exports){(function(global){exports.Vector=require("./vector");global.$V=exports.Vector.create;exports.Matrix=require("./matrix");global.$M=exports.Matrix.create;exports.Line=require("./line");global.$L=exports.Line.create;exports.Plane=require("./plane");global.$P=exports.Plane.create;exports.Line.Segment=require("./line.segment");exports.Sylvester=require("./sylvester")}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./line":107,"./line.segment":108,"./matrix":109,"./plane":110,"./sylvester":111,"./vector":112}],107:[function(require,module,exports){var Vector=require("./vector");var Matrix=require("./matrix");var Plane=require("./plane");var Sylvester=require("./sylvester");function Line(){}Line.prototype={eql:function(line){return this.isParallelTo(line)&&this.contains(line.anchor)},dup:function(){return Line.create(this.anchor,this.direction)},translate:function(vector){var V=vector.elements||vector;return Line.create([this.anchor.elements[0]+V[0],this.anchor.elements[1]+V[1],this.anchor.elements[2]+(V[2]||0)],this.direction)},isParallelTo:function(obj){if(obj.normal||obj.start&&obj.end){return obj.isParallelTo(this)}var theta=this.direction.angleFrom(obj.direction);return Math.abs(theta)<=Sylvester.precision||Math.abs(theta-Math.PI)<=Sylvester.precision},distanceFrom:function(obj){if(obj.normal||obj.start&&obj.end){return obj.distanceFrom(this)}if(obj.direction){if(this.isParallelTo(obj)){return this.distanceFrom(obj.anchor)}var N=this.direction.cross(obj.direction).toUnitVector().elements;var A=this.anchor.elements,B=obj.anchor.elements;return Math.abs((A[0]-B[0])*N[0]+(A[1]-B[1])*N[1]+(A[2]-B[2])*N[2])}else{var P=obj.elements||obj;var A=this.anchor.elements,D=this.direction.elements;var PA1=P[0]-A[0],PA2=P[1]-A[1],PA3=(P[2]||0)-A[2];var modPA=Math.sqrt(PA1*PA1+PA2*PA2+PA3*PA3);if(modPA===0)return 0;var cosTheta=(PA1*D[0]+PA2*D[1]+PA3*D[2])/modPA;var sin2=1-cosTheta*cosTheta;return Math.abs(modPA*Math.sqrt(sin2<0?0:sin2))}},contains:function(obj){if(obj.start&&obj.end){return this.contains(obj.start)&&this.contains(obj.end)}var dist=this.distanceFrom(obj);return dist!==null&&dist<=Sylvester.precision},positionOf:function(point){if(!this.contains(point)){return null}var P=point.elements||point;var A=this.anchor.elements,D=this.direction.elements;return(P[0]-A[0])*D[0]+(P[1]-A[1])*D[1]+((P[2]||0)-A[2])*D[2]},liesIn:function(plane){return plane.contains(this)},intersects:function(obj){if(obj.normal){return obj.intersects(this)}return!this.isParallelTo(obj)&&this.distanceFrom(obj)<=Sylvester.precision},intersectionWith:function(obj){if(obj.normal||obj.start&&obj.end){return obj.intersectionWith(this)}if(!this.intersects(obj)){return null}var P=this.anchor.elements,X=this.direction.elements,Q=obj.anchor.elements,Y=obj.direction.elements;var X1=X[0],X2=X[1],X3=X[2],Y1=Y[0],Y2=Y[1],Y3=Y[2];var PsubQ1=P[0]-Q[0],PsubQ2=P[1]-Q[1],PsubQ3=P[2]-Q[2];var XdotQsubP=-X1*PsubQ1-X2*PsubQ2-X3*PsubQ3;var YdotPsubQ=Y1*PsubQ1+Y2*PsubQ2+Y3*PsubQ3;var XdotX=X1*X1+X2*X2+X3*X3;var YdotY=Y1*Y1+Y2*Y2+Y3*Y3;var XdotY=X1*Y1+X2*Y2+X3*Y3;var k=(XdotQsubP*YdotY/XdotX+XdotY*YdotPsubQ)/(YdotY-XdotY*XdotY);return Vector.create([P[0]+k*X1,P[1]+k*X2,P[2]+k*X3])},pointClosestTo:function(obj){if(obj.start&&obj.end){var P=obj.pointClosestTo(this);return P===null?null:this.pointClosestTo(P)}else if(obj.direction){if(this.intersects(obj)){return this.intersectionWith(obj)}if(this.isParallelTo(obj)){return null}var D=this.direction.elements,E=obj.direction.elements;var D1=D[0],D2=D[1],D3=D[2],E1=E[0],E2=E[1],E3=E[2];var x=D3*E1-D1*E3,y=D1*E2-D2*E1,z=D2*E3-D3*E2;var N=[x*E3-y*E2,y*E1-z*E3,z*E2-x*E1];var P=Plane.create(obj.anchor,N);return P.intersectionWith(this)}else{var P=obj.elements||obj;if(this.contains(P)){return Vector.create(P)}var A=this.anchor.elements,D=this.direction.elements;var D1=D[0],D2=D[1],D3=D[2],A1=A[0],A2=A[1],A3=A[2];var x=D1*(P[1]-A2)-D2*(P[0]-A1),y=D2*((P[2]||0)-A3)-D3*(P[1]-A2),z=D3*(P[0]-A1)-D1*((P[2]||0)-A3);var V=Vector.create([D2*x-D3*z,D3*y-D1*x,D1*z-D2*y]);var k=this.distanceFrom(P)/V.modulus();return Vector.create([P[0]+V.elements[0]*k,P[1]+V.elements[1]*k,(P[2]||0)+V.elements[2]*k])}},rotate:function(t,line){if(typeof line.direction=="undefined"){line=Line.create(line.to3D(),Vector.k)}var R=Matrix.Rotation(t,line.direction).elements;var C=line.pointClosestTo(this.anchor).elements;var A=this.anchor.elements,D=this.direction.elements;var C1=C[0],C2=C[1],C3=C[2],A1=A[0],A2=A[1],A3=A[2];var x=A1-C1,y=A2-C2,z=A3-C3;return Line.create([C1+R[0][0]*x+R[0][1]*y+R[0][2]*z,C2+R[1][0]*x+R[1][1]*y+R[1][2]*z,C3+R[2][0]*x+R[2][1]*y+R[2][2]*z],[R[0][0]*D[0]+R[0][1]*D[1]+R[0][2]*D[2],R[1][0]*D[0]+R[1][1]*D[1]+R[1][2]*D[2],R[2][0]*D[0]+R[2][1]*D[1]+R[2][2]*D[2]])},reverse:function(){return Line.create(this.anchor,this.direction.x(-1))},reflectionIn:function(obj){if(obj.normal){var A=this.anchor.elements,D=this.direction.elements;var A1=A[0],A2=A[1],A3=A[2],D1=D[0],D2=D[1],D3=D[2];var newA=this.anchor.reflectionIn(obj).elements;var AD1=A1+D1,AD2=A2+D2,AD3=A3+D3;var Q=obj.pointClosestTo([AD1,AD2,AD3]).elements;var newD=[Q[0]+(Q[0]-AD1)-newA[0],Q[1]+(Q[1]-AD2)-newA[1],Q[2]+(Q[2]-AD3)-newA[2]];return Line.create(newA,newD)}else if(obj.direction){return this.rotate(Math.PI,obj)}else{var P=obj.elements||obj;return Line.create(this.anchor.reflectionIn([P[0],P[1],P[2]||0]),this.direction)}},setVectors:function(anchor,direction){anchor=Vector.create(anchor);direction=Vector.create(direction);if(anchor.elements.length==2){anchor.elements.push(0)}if(direction.elements.length==2){direction.elements.push(0)}if(anchor.elements.length>3||direction.elements.length>3){return null}var mod=direction.modulus();if(mod===0){return null}this.anchor=anchor;this.direction=Vector.create([direction.elements[0]/mod,direction.elements[1]/mod,direction.elements[2]/mod]);return this}};Line.create=function(anchor,direction){var L=new Line;return L.setVectors(anchor,direction)};Line.X=Line.create(Vector.Zero(3),Vector.i);Line.Y=Line.create(Vector.Zero(3),Vector.j);Line.Z=Line.create(Vector.Zero(3),Vector.k);module.exports=Line},{"./matrix":109,"./plane":110,"./sylvester":111,"./vector":112}],108:[function(require,module,exports){var Line=require("./line");var Vector=require("./vector");Line.Segment=function(){};Line.Segment.prototype={eql:function(segment){return this.start.eql(segment.start)&&this.end.eql(segment.end)||this.start.eql(segment.end)&&this.end.eql(segment.start)},dup:function(){return Line.Segment.create(this.start,this.end)},length:function(){var A=this.start.elements,B=this.end.elements;var C1=B[0]-A[0],C2=B[1]-A[1],C3=B[2]-A[2];return Math.sqrt(C1*C1+C2*C2+C3*C3)},toVector:function(){var A=this.start.elements,B=this.end.elements;return Vector.create([B[0]-A[0],B[1]-A[1],B[2]-A[2]])},midpoint:function(){var A=this.start.elements,B=this.end.elements;return Vector.create([(B[0]+A[0])/2,(B[1]+A[1])/2,(B[2]+A[2])/2])},bisectingPlane:function(){return Plane.create(this.midpoint(),this.toVector())},translate:function(vector){var V=vector.elements||vector;var S=this.start.elements,E=this.end.elements;return Line.Segment.create([S[0]+V[0],S[1]+V[1],S[2]+(V[2]||0)],[E[0]+V[0],E[1]+V[1],E[2]+(V[2]||0)])},isParallelTo:function(obj){return this.line.isParallelTo(obj);
},distanceFrom:function(obj){var P=this.pointClosestTo(obj);return P===null?null:P.distanceFrom(obj)},contains:function(obj){if(obj.start&&obj.end){return this.contains(obj.start)&&this.contains(obj.end)}var P=(obj.elements||obj).slice();if(P.length==2){P.push(0)}if(this.start.eql(P)){return true}var S=this.start.elements;var V=Vector.create([S[0]-P[0],S[1]-P[1],S[2]-(P[2]||0)]);var vect=this.toVector();return V.isAntiparallelTo(vect)&&V.modulus()<=vect.modulus()},intersects:function(obj){return this.intersectionWith(obj)!==null},intersectionWith:function(obj){if(!this.line.intersects(obj)){return null}var P=this.line.intersectionWith(obj);return this.contains(P)?P:null},pointClosestTo:function(obj){if(obj.normal){var V=this.line.intersectionWith(obj);if(V===null){return null}return this.pointClosestTo(V)}else{var P=this.line.pointClosestTo(obj);if(P===null){return null}if(this.contains(P)){return P}return(this.line.positionOf(P)<0?this.start:this.end).dup()}},setPoints:function(startPoint,endPoint){startPoint=Vector.create(startPoint).to3D();endPoint=Vector.create(endPoint).to3D();if(startPoint===null||endPoint===null){return null}this.line=Line.create(startPoint,endPoint.subtract(startPoint));this.start=startPoint;this.end=endPoint;return this}};Line.Segment.create=function(v1,v2){var S=new Line.Segment;return S.setPoints(v1,v2)};module.exports=Line.Segment},{"./line":107,"./vector":112}],109:[function(require,module,exports){var fs=require("fs");var Sylvester=require("./sylvester");var Vector=require("./vector");function identSize(M,m,n,k){var e=M.elements;var i=k-1;while(i--){var row=[];for(var j=0;j<n;j++)row.push(j==i?1:0);e.unshift(row)}for(var i=k-1;i<m;i++){while(e[i].length<n)e[i].unshift(0)}return $M(e)}function pca(X){var Sigma=X.transpose().x(X).x(1/X.rows());var svd=Sigma.svd();return{U:svd.U,S:svd.S}}function svdJs(){var A=this;var V=Matrix.I(A.rows());var S=A.transpose();var U=Matrix.I(A.cols());var err=Number.MAX_VALUE;var i=0;var maxLoop=100;while(err>2.2737e-13&&i<maxLoop){var qr=S.transpose().qrJs();S=qr.R;V=V.x(qr.Q);qr=S.transpose().qrJs();U=U.x(qr.Q);S=qr.R;var e=S.triu(1).unroll().norm();var f=S.diagonal().norm();if(f==0)f=1;err=e/f;i++}var ss=S.diagonal();var s=[];for(var i=1;i<=ss.cols();i++){var ssn=ss.e(i);s.push(Math.abs(ssn));if(ssn<0){for(var j=0;j<U.rows();j++){V.elements[j][i-1]=-V.elements[j][i-1]}}}return{U:U,S:$V(s).toDiagonalMatrix(),V:V}}function svdPack(){var result=lapack.sgesvd("A","A",this.elements);return{U:$M(result.U),S:$M(result.S).column(1).toDiagonalMatrix(),V:$M(result.VT).transpose()}}function qrJs(){var m=this.rows();var n=this.cols();var Q=Matrix.I(m);var A=this;for(var k=1;k<Math.min(m,n);k++){var ak=A.slice(k,0,k,k).col(1);var oneZero=[1];while(oneZero.length<=m-k)oneZero.push(0);oneZero=$V(oneZero);var vk=ak.add(oneZero.x(ak.norm()*Math.sign(ak.e(1))));var Vk=$M(vk);var Hk=Matrix.I(m-k+1).subtract(Vk.x(2).x(Vk.transpose()).div(Vk.transpose().x(Vk).e(1,1)));var Qk=identSize(Hk,m,n,k);A=Qk.x(A);Q=Q.x(Qk)}return{Q:Q,R:A}}function qrPack(){var qr=lapack.qr(this.elements);return{Q:$M(qr.Q),R:$M(qr.R)}}function Matrix(){}Matrix.prototype={solve:function(b){var lu=this.lu();b=lu.P.x(b);var y=lu.L.forwardSubstitute(b);var x=lu.U.backSubstitute(y);return lu.P.x(x)},pcaProject:function(k,U){var U=U||pca(this).U;var Ureduce=U.slice(1,U.rows(),1,k);return{Z:this.x(Ureduce),U:U}},pcaRecover:function(U){var k=this.cols();var Ureduce=U.slice(1,U.rows(),1,k);return this.x(Ureduce.transpose())},triu:function(k){if(!k)k=0;return this.map(function(x,i,j){return j-i>=k?x:0})},unroll:function(){var v=[];for(var i=1;i<=this.cols();i++){for(var j=1;j<=this.rows();j++){v.push(this.e(j,i))}}return $V(v)},slice:function(startRow,endRow,startCol,endCol){var x=[];if(endRow==0)endRow=this.rows();if(endCol==0)endCol=this.cols();for(i=startRow;i<=endRow;i++){var row=[];for(j=startCol;j<=endCol;j++){row.push(this.e(i,j))}x.push(row)}return $M(x)},e:function(i,j){if(i<1||i>this.elements.length||j<1||j>this.elements[0].length){return null}return this.elements[i-1][j-1]},row:function(i){if(i>this.elements.length){return null}return $V(this.elements[i-1])},col:function(j){if(j>this.elements[0].length){return null}var col=[],n=this.elements.length;for(var i=0;i<n;i++){col.push(this.elements[i][j-1])}return $V(col)},dimensions:function(){return{rows:this.elements.length,cols:this.elements[0].length}},rows:function(){return this.elements.length},cols:function(){return this.elements[0].length},approxEql:function(matrix){return this.eql(matrix,Sylvester.approxPrecision)},eql:function(matrix,precision){var M=matrix.elements||matrix;if(typeof M[0][0]=="undefined"){M=Matrix.create(M).elements}if(this.elements.length!=M.length||this.elements[0].length!=M[0].length){return false}var i=this.elements.length,nj=this.elements[0].length,j;while(i--){j=nj;while(j--){if(Math.abs(this.elements[i][j]-M[i][j])>(precision||Sylvester.precision)){return false}}}return true},dup:function(){return Matrix.create(this.elements)},map:function(fn){var els=[],i=this.elements.length,nj=this.elements[0].length,j;while(i--){j=nj;els[i]=[];while(j--){els[i][j]=fn(this.elements[i][j],i+1,j+1)}}return Matrix.create(els)},isSameSizeAs:function(matrix){var M=matrix.elements||matrix;if(typeof M[0][0]=="undefined"){M=Matrix.create(M).elements}return this.elements.length==M.length&&this.elements[0].length==M[0].length},add:function(matrix){if(typeof matrix=="number"){return this.map(function(x,i,j){return x+matrix})}else{var M=matrix.elements||matrix;if(typeof M[0][0]=="undefined"){M=Matrix.create(M).elements}if(!this.isSameSizeAs(M)){return null}return this.map(function(x,i,j){return x+M[i-1][j-1]})}},subtract:function(matrix){if(typeof matrix=="number"){return this.map(function(x,i,j){return x-matrix})}else{var M=matrix.elements||matrix;if(typeof M[0][0]=="undefined"){M=Matrix.create(M).elements}if(!this.isSameSizeAs(M)){return null}return this.map(function(x,i,j){return x-M[i-1][j-1]})}},canMultiplyFromLeft:function(matrix){var M=matrix.elements||matrix;if(typeof M[0][0]=="undefined"){M=Matrix.create(M).elements}return this.elements[0].length==M.length},mulOp:function(matrix,op){if(!matrix.elements){return this.map(function(x){return op(x,matrix)})}var returnVector=matrix.modulus?true:false;var M=matrix.elements||matrix;if(typeof M[0][0]=="undefined")M=Matrix.create(M).elements;if(!this.canMultiplyFromLeft(M))return null;var e=this.elements,rowThis,rowElem,elements=[],sum,m=e.length,n=M[0].length,o=e[0].length,i=m,j,k;while(i--){rowElem=[];rowThis=e[i];j=n;while(j--){sum=0;k=o;while(k--){sum+=op(rowThis[k],M[k][j])}rowElem[j]=sum}elements[i]=rowElem}var M=Matrix.create(elements);return returnVector?M.col(1):M},div:function(matrix){return this.mulOp(matrix,function(x,y){return x/y})},multiply:function(matrix){return this.mulOp(matrix,function(x,y){return x*y})},x:function(matrix){return this.multiply(matrix)},elementMultiply:function(v){return this.map(function(k,i,j){return v.e(i,j)*k})},sum:function(){var sum=0;this.map(function(x){sum+=x});return sum},mean:function(){var dim=this.dimensions();var r=[];for(var i=1;i<=dim.cols;i++){r.push(this.col(i).sum()/dim.rows)}return $V(r)},column:function(n){return this.col(n)},log:function(){return this.map(function(x){return Math.log(x)})},minor:function(a,b,c,d){var elements=[],ni=c,i,nj,j;var rows=this.elements.length,cols=this.elements[0].length;while(ni--){i=c-ni-1;elements[i]=[];nj=d;while(nj--){j=d-nj-1;elements[i][j]=this.elements[(a+i-1)%rows][(b+j-1)%cols]}}return Matrix.create(elements)},transpose:function(){var rows=this.elements.length,i,cols=this.elements[0].length,j;var elements=[],i=cols;while(i--){j=rows;elements[i]=[];while(j--){elements[i][j]=this.elements[j][i]}}return Matrix.create(elements)},isSquare:function(){return this.elements.length==this.elements[0].length},max:function(){var m=0,i=this.elements.length,nj=this.elements[0].length,j;while(i--){j=nj;while(j--){if(Math.abs(this.elements[i][j])>Math.abs(m)){m=this.elements[i][j]}}}return m},indexOf:function(x){var index=null,ni=this.elements.length,i,nj=this.elements[0].length,j;for(i=0;i<ni;i++){for(j=0;j<nj;j++){if(this.elements[i][j]==x){return{i:i+1,j:j+1}}}}return null},diagonal:function(){if(!this.isSquare){return null}var els=[],n=this.elements.length;for(var i=0;i<n;i++){els.push(this.elements[i][i])}return $V(els)},toRightTriangular:function(){var M=this.dup(),els;var n=this.elements.length,i,j,np=this.elements[0].length,p;for(i=0;i<n;i++){if(M.elements[i][i]==0){for(j=i+1;j<n;j++){if(M.elements[j][i]!=0){els=[];for(p=0;p<np;p++){els.push(M.elements[i][p]+M.elements[j][p])}M.elements[i]=els;break}}}if(M.elements[i][i]!=0){for(j=i+1;j<n;j++){var multiplier=M.elements[j][i]/M.elements[i][i];els=[];for(p=0;p<np;p++){els.push(p<=i?0:M.elements[j][p]-M.elements[i][p]*multiplier)}M.elements[j]=els}}}return M},toUpperTriangular:function(){return this.toRightTriangular()},determinant:function(){if(!this.isSquare()){return null}if(this.cols==1&&this.rows==1){return this.row(1)}if(this.cols==0&&this.rows==0){return 1}var M=this.toRightTriangular();var det=M.elements[0][0],n=M.elements.length;for(var i=1;i<n;i++){det=det*M.elements[i][i]}return det},det:function(){return this.determinant()},isSingular:function(){return this.isSquare()&&this.determinant()===0},trace:function(){if(!this.isSquare()){return null}var tr=this.elements[0][0],n=this.elements.length;for(var i=1;i<n;i++){tr+=this.elements[i][i]}return tr},tr:function(){return this.trace()},rank:function(){var M=this.toRightTriangular(),rank=0;var i=this.elements.length,nj=this.elements[0].length,j;while(i--){j=nj;while(j--){if(Math.abs(M.elements[i][j])>Sylvester.precision){rank++;break}}}return rank},rk:function(){return this.rank()},augment:function(matrix){var M=matrix.elements||matrix;if(typeof M[0][0]=="undefined"){M=Matrix.create(M).elements}var T=this.dup(),cols=T.elements[0].length;var i=T.elements.length,nj=M[0].length,j;if(i!=M.length){return null}while(i--){j=nj;while(j--){T.elements[i][cols+j]=M[i][j]}}return T},inverse:function(){if(!this.isSquare()||this.isSingular()){return null}var n=this.elements.length,i=n,j;var M=this.augment(Matrix.I(n)).toRightTriangular();var np=M.elements[0].length,p,els,divisor;var inverse_elements=[],new_element;while(i--){els=[];inverse_elements[i]=[];divisor=M.elements[i][i];for(p=0;p<np;p++){new_element=M.elements[i][p]/divisor;els.push(new_element);if(p>=n){inverse_elements[i].push(new_element)}}M.elements[i]=els;j=i;while(j--){els=[];for(p=0;p<np;p++){els.push(M.elements[j][p]-M.elements[i][p]*M.elements[j][i])}M.elements[j]=els}}return Matrix.create(inverse_elements)},inv:function(){return this.inverse()},round:function(){return this.map(function(x){return Math.round(x)})},snapTo:function(x){return this.map(function(p){return Math.abs(p-x)<=Sylvester.precision?x:p})},inspect:function(){var matrix_rows=[];var n=this.elements.length;for(var i=0;i<n;i++){matrix_rows.push($V(this.elements[i]).inspect())}return matrix_rows.join("\n")},toArray:function(){var matrix_rows=[];var n=this.elements.length;for(var i=0;i<n;i++){matrix_rows.push(this.elements[i])}return matrix_rows},setElements:function(els){var i,j,elements=els.elements||els;if(typeof elements[0][0]!="undefined"){i=elements.length;this.elements=[];while(i--){j=elements[i].length;this.elements[i]=[];while(j--){this.elements[i][j]=elements[i][j]}}return this}var n=elements.length;this.elements=[];for(i=0;i<n;i++){this.elements.push([elements[i]])}return this},maxColumnIndexes:function(){var maxes=[];for(var i=1;i<=this.rows();i++){var max=null;var maxIndex=-1;for(var j=1;j<=this.cols();j++){if(max===null||this.e(i,j)>max){max=this.e(i,j);maxIndex=j}}maxes.push(maxIndex)}return $V(maxes)},maxColumns:function(){var maxes=[];for(var i=1;i<=this.rows();i++){var max=null;for(var j=1;j<=this.cols();j++){if(max===null||this.e(i,j)>max){max=this.e(i,j)}}maxes.push(max)}return $V(maxes)},minColumnIndexes:function(){var mins=[];for(var i=1;i<=this.rows();i++){var min=null;var minIndex=-1;for(var j=1;j<=this.cols();j++){if(min===null||this.e(i,j)<min){min=this.e(i,j);minIndex=j}}mins.push(minIndex)}return $V(mins)},minColumns:function(){var mins=[];for(var i=1;i<=this.rows();i++){var min=null;for(var j=1;j<=this.cols();j++){if(min===null||this.e(i,j)<min){min=this.e(i,j)}}mins.push(min)}return $V(mins)},partialPivot:function(k,j,P,A,L){var maxIndex=0;var maxValue=0;for(var i=k;i<=A.rows();i++){if(Math.abs(A.e(i,j))>maxValue){maxValue=Math.abs(A.e(k,j));maxIndex=i}}if(maxIndex!=k){var tmp=A.elements[k-1];A.elements[k-1]=A.elements[maxIndex-1];A.elements[maxIndex-1]=tmp;P.elements[k-1][k-1]=0;P.elements[k-1][maxIndex-1]=1;P.elements[maxIndex-1][maxIndex-1]=0;P.elements[maxIndex-1][k-1]=1}return P},forwardSubstitute:function(b){var xa=[];for(var i=1;i<=this.rows();i++){var w=0;for(var j=1;j<i;j++){w+=this.e(i,j)*xa[j-1]}xa.push((b.e(i)-w)/this.e(i,i))}return $V(xa)},backSubstitute:function(b){var xa=[];for(var i=this.rows();i>0;i--){var w=0;for(var j=this.cols();j>i;j--){w+=this.e(i,j)*xa[this.rows()-j]}xa.push((b.e(i)-w)/this.e(i,i))}return $V(xa.reverse())},luPack:luPack,luJs:luJs,svdJs:svdJs,svdPack:svdPack,qrJs:qrJs,qrPack:qrPack};function luPack(){var lu=lapack.lu(this.elements);return{L:$M(lu.L),U:$M(lu.U),P:$M(lu.P)}}var tolerance=1.4901e-8;function luJs(){var A=this.dup();var L=Matrix.I(A.rows());var P=Matrix.I(A.rows());var U=Matrix.Zeros(A.rows(),A.cols());var p=1;for(var k=1;k<=Math.min(A.cols(),A.rows());k++){P=A.partialPivot(k,p,P,A,L);for(var i=k+1;i<=A.rows();i++){var l=A.e(i,p)/A.e(k,p);L.elements[i-1][k-1]=l;for(var j=k+1;j<=A.cols();j++){A.elements[i-1][j-1]-=A.e(k,j)*l}}for(var j=k;j<=A.cols();j++){U.elements[k-1][j-1]=A.e(k,j)}if(p<A.cols())p++}return{L:L,U:U,P:P}}function getLapack(){try{return require("lapack")}catch(e){}}var lapack;if(lapack=getLapack()){Matrix.prototype.svd=svdPack;Matrix.prototype.qr=qrPack;Matrix.prototype.lu=luPack}else{Matrix.prototype.svd=svdJs;Matrix.prototype.qr=qrJs;Matrix.prototype.lu=luJs}Matrix.create=function(aElements,ignoreLapack){var M=(new Matrix).setElements(aElements);return M};Matrix.I=function(n){var els=[],i=n,j;while(i--){j=n;els[i]=[];while(j--){els[i][j]=i==j?1:0}}return Matrix.create(els)};Matrix.loadFile=function(file){var contents=fs.readFileSync(file,"utf-8");var matrix=[];var rowArray=contents.split("\n");for(var i=0;i<rowArray.length;i++){var d=rowArray[i].split(",");if(d.length>1){matrix.push(d)}}var M=new Matrix;return M.setElements(matrix)};Matrix.Diagonal=function(elements){var i=elements.length;var M=Matrix.I(i);while(i--){M.elements[i][i]=elements[i]}return M};Matrix.Rotation=function(theta,a){if(!a){return Matrix.create([[Math.cos(theta),-Math.sin(theta)],[Math.sin(theta),Math.cos(theta)]])}var axis=a.dup();if(axis.elements.length!=3){return null}var mod=axis.modulus();var x=axis.elements[0]/mod,y=axis.elements[1]/mod,z=axis.elements[2]/mod;var s=Math.sin(theta),c=Math.cos(theta),t=1-c;return Matrix.create([[t*x*x+c,t*x*y-s*z,t*x*z+s*y],[t*x*y+s*z,t*y*y+c,t*y*z-s*x],[t*x*z-s*y,t*y*z+s*x,t*z*z+c]])};Matrix.RotationX=function(t){var c=Math.cos(t),s=Math.sin(t);return Matrix.create([[1,0,0],[0,c,-s],[0,s,c]])};Matrix.RotationY=function(t){var c=Math.cos(t),s=Math.sin(t);return Matrix.create([[c,0,s],[0,1,0],[-s,0,c]])};Matrix.RotationZ=function(t){var c=Math.cos(t),s=Math.sin(t);return Matrix.create([[c,-s,0],[s,c,0],[0,0,1]])};Matrix.Random=function(n,m){if(arguments.length===1)m=n;return Matrix.Zero(n,m).map(function(){return Math.random()})};Matrix.Fill=function(n,m,v){if(arguments.length===2){v=m;m=n}var els=[],i=n,j;while(i--){j=m;els[i]=[];while(j--){els[i][j]=v}}return Matrix.create(els)};Matrix.Zero=function(n,m){return Matrix.Fill(n,m,0)};Matrix.Zeros=function(n,m){return Matrix.Zero(n,m)};Matrix.One=function(n,m){return Matrix.Fill(n,m,1)};Matrix.Ones=function(n,m){return Matrix.One(n,m)};module.exports=Matrix},{"./sylvester":111,"./vector":112,fs:114,lapack:undefined}],110:[function(require,module,exports){var Vector=require("./vector");var Matrix=require("./matrix");var Line=require("./line");var Sylvester=require("./sylvester");function Plane(){}Plane.prototype={eql:function(plane){return this.contains(plane.anchor)&&this.isParallelTo(plane)},dup:function(){return Plane.create(this.anchor,this.normal)},translate:function(vector){var V=vector.elements||vector;return Plane.create([this.anchor.elements[0]+V[0],this.anchor.elements[1]+V[1],this.anchor.elements[2]+(V[2]||0)],this.normal)},isParallelTo:function(obj){var theta;if(obj.normal){theta=this.normal.angleFrom(obj.normal);return Math.abs(theta)<=Sylvester.precision||Math.abs(Math.PI-theta)<=Sylvester.precision}else if(obj.direction){return this.normal.isPerpendicularTo(obj.direction)}return null},isPerpendicularTo:function(plane){var theta=this.normal.angleFrom(plane.normal);return Math.abs(Math.PI/2-theta)<=Sylvester.precision},distanceFrom:function(obj){if(this.intersects(obj)||this.contains(obj)){return 0}if(obj.anchor){var A=this.anchor.elements,B=obj.anchor.elements,N=this.normal.elements;return Math.abs((A[0]-B[0])*N[0]+(A[1]-B[1])*N[1]+(A[2]-B[2])*N[2])}else{var P=obj.elements||obj;var A=this.anchor.elements,N=this.normal.elements;return Math.abs((A[0]-P[0])*N[0]+(A[1]-P[1])*N[1]+(A[2]-(P[2]||0))*N[2])}},contains:function(obj){if(obj.normal){return null}if(obj.direction){return this.contains(obj.anchor)&&this.contains(obj.anchor.add(obj.direction))}else{var P=obj.elements||obj;var A=this.anchor.elements,N=this.normal.elements;var diff=Math.abs(N[0]*(A[0]-P[0])+N[1]*(A[1]-P[1])+N[2]*(A[2]-(P[2]||0)));return diff<=Sylvester.precision}},intersects:function(obj){if(typeof obj.direction=="undefined"&&typeof obj.normal=="undefined"){return null}return!this.isParallelTo(obj)},intersectionWith:function(obj){if(!this.intersects(obj)){return null}if(obj.direction){var A=obj.anchor.elements,D=obj.direction.elements,P=this.anchor.elements,N=this.normal.elements;var multiplier=(N[0]*(P[0]-A[0])+N[1]*(P[1]-A[1])+N[2]*(P[2]-A[2]))/(N[0]*D[0]+N[1]*D[1]+N[2]*D[2]);return Vector.create([A[0]+D[0]*multiplier,A[1]+D[1]*multiplier,A[2]+D[2]*multiplier])}else if(obj.normal){var direction=this.normal.cross(obj.normal).toUnitVector();var N=this.normal.elements,A=this.anchor.elements,O=obj.normal.elements,B=obj.anchor.elements;var solver=Matrix.Zero(2,2),i=0;while(solver.isSingular()){i++;solver=Matrix.create([[N[i%3],N[(i+1)%3]],[O[i%3],O[(i+1)%3]]])}var inverse=solver.inverse().elements;var x=N[0]*A[0]+N[1]*A[1]+N[2]*A[2];var y=O[0]*B[0]+O[1]*B[1]+O[2]*B[2];var intersection=[inverse[0][0]*x+inverse[0][1]*y,inverse[1][0]*x+inverse[1][1]*y];var anchor=[];for(var j=1;j<=3;j++){anchor.push(i==j?0:intersection[(j+(5-i)%3)%3])}return Line.create(anchor,direction)}},pointClosestTo:function(point){var P=point.elements||point;var A=this.anchor.elements,N=this.normal.elements;var dot=(A[0]-P[0])*N[0]+(A[1]-P[1])*N[1]+(A[2]-(P[2]||0))*N[2];return Vector.create([P[0]+N[0]*dot,P[1]+N[1]*dot,(P[2]||0)+N[2]*dot])},rotate:function(t,line){var R=t.determinant?t.elements:Matrix.Rotation(t,line.direction).elements;var C=line.pointClosestTo(this.anchor).elements;var A=this.anchor.elements,N=this.normal.elements;var C1=C[0],C2=C[1],C3=C[2],A1=A[0],A2=A[1],A3=A[2];var x=A1-C1,y=A2-C2,z=A3-C3;return Plane.create([C1+R[0][0]*x+R[0][1]*y+R[0][2]*z,C2+R[1][0]*x+R[1][1]*y+R[1][2]*z,C3+R[2][0]*x+R[2][1]*y+R[2][2]*z],[R[0][0]*N[0]+R[0][1]*N[1]+R[0][2]*N[2],R[1][0]*N[0]+R[1][1]*N[1]+R[1][2]*N[2],R[2][0]*N[0]+R[2][1]*N[1]+R[2][2]*N[2]])},reflectionIn:function(obj){if(obj.normal){var A=this.anchor.elements,N=this.normal.elements;var A1=A[0],A2=A[1],A3=A[2],N1=N[0],N2=N[1],N3=N[2];var newA=this.anchor.reflectionIn(obj).elements;var AN1=A1+N1,AN2=A2+N2,AN3=A3+N3;var Q=obj.pointClosestTo([AN1,AN2,AN3]).elements;var newN=[Q[0]+(Q[0]-AN1)-newA[0],Q[1]+(Q[1]-AN2)-newA[1],Q[2]+(Q[2]-AN3)-newA[2]];return Plane.create(newA,newN)}else if(obj.direction){return this.rotate(Math.PI,obj)}else{var P=obj.elements||obj;return Plane.create(this.anchor.reflectionIn([P[0],P[1],P[2]||0]),this.normal)}},setVectors:function(anchor,v1,v2){anchor=Vector.create(anchor);anchor=anchor.to3D();if(anchor===null){return null}v1=Vector.create(v1);v1=v1.to3D();if(v1===null){return null}if(typeof v2=="undefined"){v2=null}else{v2=Vector.create(v2);v2=v2.to3D();if(v2===null){return null}}var A1=anchor.elements[0],A2=anchor.elements[1],A3=anchor.elements[2];var v11=v1.elements[0],v12=v1.elements[1],v13=v1.elements[2];var normal,mod;if(v2!==null){var v21=v2.elements[0],v22=v2.elements[1],v23=v2.elements[2];normal=Vector.create([(v12-A2)*(v23-A3)-(v13-A3)*(v22-A2),(v13-A3)*(v21-A1)-(v11-A1)*(v23-A3),(v11-A1)*(v22-A2)-(v12-A2)*(v21-A1)]);mod=normal.modulus();if(mod===0){return null}normal=Vector.create([normal.elements[0]/mod,normal.elements[1]/mod,normal.elements[2]/mod])}else{mod=Math.sqrt(v11*v11+v12*v12+v13*v13);if(mod===0){return null}normal=Vector.create([v1.elements[0]/mod,v1.elements[1]/mod,v1.elements[2]/mod])}this.anchor=anchor;this.normal=normal;return this}};Plane.create=function(anchor,v1,v2){var P=new Plane;return P.setVectors(anchor,v1,v2)};Plane.XY=Plane.create(Vector.Zero(3),Vector.k);Plane.YZ=Plane.create(Vector.Zero(3),Vector.i);Plane.ZX=Plane.create(Vector.Zero(3),Vector.j);Plane.YX=Plane.XY;Plane.ZY=Plane.YZ;Plane.XZ=Plane.ZX;Plane.fromPoints=function(points){var np=points.length,list=[],i,P,n,N,A,B,C,D,theta,prevN,totalN=Vector.Zero(3);for(i=0;i<np;i++){P=Vector.create(points[i]).to3D();if(P===null){return null}list.push(P);n=list.length;if(n>2){A=list[n-1].elements;B=list[n-2].elements;C=list[n-3].elements;N=Vector.create([(A[1]-B[1])*(C[2]-B[2])-(A[2]-B[2])*(C[1]-B[1]),(A[2]-B[2])*(C[0]-B[0])-(A[0]-B[0])*(C[2]-B[2]),(A[0]-B[0])*(C[1]-B[1])-(A[1]-B[1])*(C[0]-B[0])]).toUnitVector();if(n>3){theta=N.angleFrom(prevN);if(theta!==null){if(!(Math.abs(theta)<=Sylvester.precision||Math.abs(theta-Math.PI)<=Sylvester.precision)){return null}}}totalN=totalN.add(N);prevN=N}}A=list[1].elements;B=list[0].elements;C=list[n-1].elements;D=list[n-2].elements;totalN=totalN.add(Vector.create([(A[1]-B[1])*(C[2]-B[2])-(A[2]-B[2])*(C[1]-B[1]),(A[2]-B[2])*(C[0]-B[0])-(A[0]-B[0])*(C[2]-B[2]),(A[0]-B[0])*(C[1]-B[1])-(A[1]-B[1])*(C[0]-B[0])]).toUnitVector()).add(Vector.create([(B[1]-C[1])*(D[2]-C[2])-(B[2]-C[2])*(D[1]-C[1]),(B[2]-C[2])*(D[0]-C[0])-(B[0]-C[0])*(D[2]-C[2]),(B[0]-C[0])*(D[1]-C[1])-(B[1]-C[1])*(D[0]-C[0])]).toUnitVector());return Plane.create(list[0],totalN)};module.exports=Plane},{"./line":107,"./matrix":109,"./sylvester":111,"./vector":112}],111:[function(require,module,exports){Math.sign=function(x){return x<0?-1:1};var Sylvester={precision:1e-6,approxPrecision:1e-5};module.exports=Sylvester},{}],112:[function(require,module,exports){var Sylvester=require("./sylvester"),Matrix=require("./matrix");function Vector(){}Vector.prototype={norm:function(){var n=this.elements.length;var sum=0;while(n--){sum+=Math.pow(this.elements[n],2)}return Math.sqrt(sum)},e:function(i){return i<1||i>this.elements.length?null:this.elements[i-1]},dimensions:function(){return{rows:1,cols:this.elements.length}},rows:function(){return 1},cols:function(){return this.elements.length},modulus:function(){return Math.sqrt(this.dot(this))},eql:function(vector){var n=this.elements.length;var V=vector.elements||vector;if(n!=V.length){return false}while(n--){if(Math.abs(this.elements[n]-V[n])>Sylvester.precision){return false}}return true},dup:function(){return Vector.create(this.elements)},map:function(fn){var elements=[];this.each(function(x,i){elements.push(fn(x,i))});return Vector.create(elements)},each:function(fn){var n=this.elements.length;for(var i=0;i<n;i++){fn(this.elements[i],i+1)}},toUnitVector:function(){var r=this.modulus();if(r===0){return this.dup()}return this.map(function(x){return x/r})},angleFrom:function(vector){var V=vector.elements||vector;var n=this.elements.length,k=n,i;if(n!=V.length){return null}var dot=0,mod1=0,mod2=0;this.each(function(x,i){dot+=x*V[i-1];mod1+=x*x;mod2+=V[i-1]*V[i-1]});mod1=Math.sqrt(mod1);mod2=Math.sqrt(mod2);if(mod1*mod2===0){return null}var theta=dot/(mod1*mod2);if(theta<-1){theta=-1}if(theta>1){theta=1}return Math.acos(theta)},isParallelTo:function(vector){var angle=this.angleFrom(vector);return angle===null?null:angle<=Sylvester.precision},isAntiparallelTo:function(vector){var angle=this.angleFrom(vector);return angle===null?null:Math.abs(angle-Math.PI)<=Sylvester.precision},isPerpendicularTo:function(vector){var dot=this.dot(vector);return dot===null?null:Math.abs(dot)<=Sylvester.precision},add:function(value){var V=value.elements||value;if(this.elements.length!=V.length)return this.map(function(v){return v+value});else return this.map(function(x,i){return x+V[i-1]})},subtract:function(v){if(typeof v=="number")return this.map(function(k){return k-v});var V=v.elements||v;if(this.elements.length!=V.length){return null}return this.map(function(x,i){return x-V[i-1]})},multiply:function(k){return this.map(function(x){return x*k})},elementMultiply:function(v){return this.map(function(k,i){return v.e(i)*k})},sum:function(){var sum=0;this.map(function(x){sum+=x});return sum},chomp:function(n){var elements=[];for(var i=n;i<this.elements.length;i++){elements.push(this.elements[i])}return Vector.create(elements)},top:function(n){var elements=[];for(var i=0;i<n;i++){elements.push(this.elements[i])}return Vector.create(elements)},augment:function(elements){var newElements=this.elements;for(var i=0;i<elements.length;i++){newElements.push(elements[i])}return Vector.create(newElements)},x:function(k){return this.multiply(k)},log:function(){return Vector.log(this)},elementDivide:function(vector){return this.map(function(v,i){return v/vector.e(i)})},product:function(){var p=1;this.map(function(v){p*=v});return p},dot:function(vector){var V=vector.elements||vector;var i,product=0,n=this.elements.length;if(n!=V.length){return null}while(n--){product+=this.elements[n]*V[n]}return product},cross:function(vector){var B=vector.elements||vector;if(this.elements.length!=3||B.length!=3){return null}var A=this.elements;return Vector.create([A[1]*B[2]-A[2]*B[1],A[2]*B[0]-A[0]*B[2],A[0]*B[1]-A[1]*B[0]])},max:function(){var m=0,i=this.elements.length;while(i--){if(Math.abs(this.elements[i])>Math.abs(m)){m=this.elements[i]}}return m},maxIndex:function(){var m=0,i=this.elements.length;var maxIndex=-1;while(i--){if(Math.abs(this.elements[i])>Math.abs(m)){m=this.elements[i];maxIndex=i+1}}return maxIndex},indexOf:function(x){var index=null,n=this.elements.length;for(var i=0;i<n;i++){if(index===null&&this.elements[i]==x){index=i+1}}return index},toDiagonalMatrix:function(){return Matrix.Diagonal(this.elements)},round:function(){return this.map(function(x){return Math.round(x)})},transpose:function(){var rows=this.elements.length;var elements=[];for(var i=0;i<rows;i++){elements.push([this.elements[i]])}return Matrix.create(elements)},snapTo:function(x){return this.map(function(y){return Math.abs(y-x)<=Sylvester.precision?x:y})},distanceFrom:function(obj){if(obj.anchor||obj.start&&obj.end){return obj.distanceFrom(this)}var V=obj.elements||obj;if(V.length!=this.elements.length){return null}var sum=0,part;this.each(function(x,i){part=x-V[i-1];sum+=part*part});return Math.sqrt(sum)},liesOn:function(line){return line.contains(this)},liesIn:function(plane){return plane.contains(this)},rotate:function(t,obj){var V,R=null,x,y,z;if(t.determinant){R=t.elements}switch(this.elements.length){case 2:V=obj.elements||obj;if(V.length!=2){return null}if(!R){R=Matrix.Rotation(t).elements}x=this.elements[0]-V[0];y=this.elements[1]-V[1];return Vector.create([V[0]+R[0][0]*x+R[0][1]*y,V[1]+R[1][0]*x+R[1][1]*y]);break;case 3:if(!obj.direction){return null}var C=obj.pointClosestTo(this).elements;if(!R){R=Matrix.Rotation(t,obj.direction).elements}x=this.elements[0]-C[0];y=this.elements[1]-C[1];z=this.elements[2]-C[2];return Vector.create([C[0]+R[0][0]*x+R[0][1]*y+R[0][2]*z,C[1]+R[1][0]*x+R[1][1]*y+R[1][2]*z,C[2]+R[2][0]*x+R[2][1]*y+R[2][2]*z]);break;default:return null}},reflectionIn:function(obj){if(obj.anchor){var P=this.elements.slice();var C=obj.pointClosestTo(P).elements;return Vector.create([C[0]+(C[0]-P[0]),C[1]+(C[1]-P[1]),C[2]+(C[2]-(P[2]||0))])}else{var Q=obj.elements||obj;if(this.elements.length!=Q.length){return null}return this.map(function(x,i){return Q[i-1]+(Q[i-1]-x)})}},to3D:function(){var V=this.dup();switch(V.elements.length){case 3:break;case 2:V.elements.push(0);break;default:return null}return V},inspect:function(){return"["+this.elements.join(", ")+"]"},setElements:function(els){this.elements=(els.elements||els).slice();return this}};Vector.create=function(elements){var V=new Vector;return V.setElements(elements)};Vector.i=Vector.create([1,0,0]);Vector.j=Vector.create([0,1,0]);Vector.k=Vector.create([0,0,1]);Vector.Random=function(n){var elements=[];while(n--){elements.push(Math.random())}return Vector.create(elements)};Vector.Fill=function(n,v){var elements=[];while(n--){elements.push(v)}return Vector.create(elements)};Vector.Zero=function(n){return Vector.Fill(n,0)};Vector.One=function(n){return Vector.Fill(n,1)};Vector.log=function(v){return v.map(function(x){return Math.log(x)})};module.exports=Vector},{"./matrix":109,"./sylvester":111}],113:[function(require,module,exports){(function(){var root=this;var previousUnderscore=root._;var ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype;var push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty;var nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,nativeCreate=Object.create;var Ctor=function(){};var _=function(obj){if(obj instanceof _)return obj;if(!(this instanceof _))return new _(obj);this._wrapped=obj};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=_}exports._=_}else{root._=_}_.VERSION="1.8.3";var optimizeCb=function(func,context,argCount){if(context===void 0)return func;switch(argCount==null?3:argCount){case 1:return function(value){return func.call(context,value)};case 2:return function(value,other){return func.call(context,value,other)};case 3:return function(value,index,collection){return func.call(context,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(context,accumulator,value,index,collection)}}return function(){return func.apply(context,arguments)}};var cb=function(value,context,argCount){if(value==null)return _.identity;if(_.isFunction(value))return optimizeCb(value,context,argCount);if(_.isObject(value))return _.matcher(value);return _.property(value)};_.iteratee=function(value,context){return cb(value,context,Infinity)};var createAssigner=function(keysFunc,undefinedOnly){return function(obj){var length=arguments.length;if(length<2||obj==null)return obj;for(var index=1;index<length;index++){var source=arguments[index],keys=keysFunc(source),l=keys.length;for(var i=0;i<l;i++){var key=keys[i];if(!undefinedOnly||obj[key]===void 0)obj[key]=source[key]}}return obj}};var baseCreate=function(prototype){if(!_.isObject(prototype))return{};if(nativeCreate)return nativeCreate(prototype);Ctor.prototype=prototype;var result=new Ctor;Ctor.prototype=null;return result};var property=function(key){return function(obj){return obj==null?void 0:obj[key]}};var MAX_ARRAY_INDEX=Math.pow(2,53)-1;var getLength=property("length");var isArrayLike=function(collection){var length=getLength(collection);return typeof length=="number"&&length>=0&&length<=MAX_ARRAY_INDEX};_.each=_.forEach=function(obj,iteratee,context){iteratee=optimizeCb(iteratee,context);var i,length;if(isArrayLike(obj)){for(i=0,length=obj.length;i<length;i++){iteratee(obj[i],i,obj)}}else{var keys=_.keys(obj);for(i=0,length=keys.length;i<length;i++){iteratee(obj[keys[i]],keys[i],obj)}}return obj};_.map=_.collect=function(obj,iteratee,context){iteratee=cb(iteratee,context);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,results=Array(length);
for(var index=0;index<length;index++){var currentKey=keys?keys[index]:index;results[index]=iteratee(obj[currentKey],currentKey,obj)}return results};function createReduce(dir){function iterator(obj,iteratee,memo,keys,index,length){for(;index>=0&&index<length;index+=dir){var currentKey=keys?keys[index]:index;memo=iteratee(memo,obj[currentKey],currentKey,obj)}return memo}return function(obj,iteratee,memo,context){iteratee=optimizeCb(iteratee,context,4);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=dir>0?0:length-1;if(arguments.length<3){memo=obj[keys?keys[index]:index];index+=dir}return iterator(obj,iteratee,memo,keys,index,length)}}_.reduce=_.foldl=_.inject=createReduce(1);_.reduceRight=_.foldr=createReduce(-1);_.find=_.detect=function(obj,predicate,context){var key;if(isArrayLike(obj)){key=_.findIndex(obj,predicate,context)}else{key=_.findKey(obj,predicate,context)}if(key!==void 0&&key!==-1)return obj[key]};_.filter=_.select=function(obj,predicate,context){var results=[];predicate=cb(predicate,context);_.each(obj,function(value,index,list){if(predicate(value,index,list))results.push(value)});return results};_.reject=function(obj,predicate,context){return _.filter(obj,_.negate(cb(predicate)),context)};_.every=_.all=function(obj,predicate,context){predicate=cb(predicate,context);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length;for(var index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(!predicate(obj[currentKey],currentKey,obj))return false}return true};_.some=_.any=function(obj,predicate,context){predicate=cb(predicate,context);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length;for(var index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(predicate(obj[currentKey],currentKey,obj))return true}return false};_.contains=_.includes=_.include=function(obj,item,fromIndex,guard){if(!isArrayLike(obj))obj=_.values(obj);if(typeof fromIndex!="number"||guard)fromIndex=0;return _.indexOf(obj,item,fromIndex)>=0};_.invoke=function(obj,method){var args=slice.call(arguments,2);var isFunc=_.isFunction(method);return _.map(obj,function(value){var func=isFunc?method:value[method];return func==null?func:func.apply(value,args)})};_.pluck=function(obj,key){return _.map(obj,_.property(key))};_.where=function(obj,attrs){return _.filter(obj,_.matcher(attrs))};_.findWhere=function(obj,attrs){return _.find(obj,_.matcher(attrs))};_.max=function(obj,iteratee,context){var result=-Infinity,lastComputed=-Infinity,value,computed;if(iteratee==null&&obj!=null){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;i<length;i++){value=obj[i];if(value>result){result=value}}}else{iteratee=cb(iteratee,context);_.each(obj,function(value,index,list){computed=iteratee(value,index,list);if(computed>lastComputed||computed===-Infinity&&result===-Infinity){result=value;lastComputed=computed}})}return result};_.min=function(obj,iteratee,context){var result=Infinity,lastComputed=Infinity,value,computed;if(iteratee==null&&obj!=null){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;i<length;i++){value=obj[i];if(value<result){result=value}}}else{iteratee=cb(iteratee,context);_.each(obj,function(value,index,list){computed=iteratee(value,index,list);if(computed<lastComputed||computed===Infinity&&result===Infinity){result=value;lastComputed=computed}})}return result};_.shuffle=function(obj){var set=isArrayLike(obj)?obj:_.values(obj);var length=set.length;var shuffled=Array(length);for(var index=0,rand;index<length;index++){rand=_.random(0,index);if(rand!==index)shuffled[index]=shuffled[rand];shuffled[rand]=set[index]}return shuffled};_.sample=function(obj,n,guard){if(n==null||guard){if(!isArrayLike(obj))obj=_.values(obj);return obj[_.random(obj.length-1)]}return _.shuffle(obj).slice(0,Math.max(0,n))};_.sortBy=function(obj,iteratee,context){iteratee=cb(iteratee,context);return _.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iteratee(value,index,list)}}).sort(function(left,right){var a=left.criteria;var b=right.criteria;if(a!==b){if(a>b||a===void 0)return 1;if(a<b||b===void 0)return-1}return left.index-right.index}),"value")};var group=function(behavior){return function(obj,iteratee,context){var result={};iteratee=cb(iteratee,context);_.each(obj,function(value,index){var key=iteratee(value,index,obj);behavior(result,value,key)});return result}};_.groupBy=group(function(result,value,key){if(_.has(result,key))result[key].push(value);else result[key]=[value]});_.indexBy=group(function(result,value,key){result[key]=value});_.countBy=group(function(result,value,key){if(_.has(result,key))result[key]++;else result[key]=1});_.toArray=function(obj){if(!obj)return[];if(_.isArray(obj))return slice.call(obj);if(isArrayLike(obj))return _.map(obj,_.identity);return _.values(obj)};_.size=function(obj){if(obj==null)return 0;return isArrayLike(obj)?obj.length:_.keys(obj).length};_.partition=function(obj,predicate,context){predicate=cb(predicate,context);var pass=[],fail=[];_.each(obj,function(value,key,obj){(predicate(value,key,obj)?pass:fail).push(value)});return[pass,fail]};_.first=_.head=_.take=function(array,n,guard){if(array==null)return void 0;if(n==null||guard)return array[0];return _.initial(array,array.length-n)};_.initial=function(array,n,guard){return slice.call(array,0,Math.max(0,array.length-(n==null||guard?1:n)))};_.last=function(array,n,guard){if(array==null)return void 0;if(n==null||guard)return array[array.length-1];return _.rest(array,Math.max(0,array.length-n))};_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,n==null||guard?1:n)};_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,strict,startIndex){var output=[],idx=0;for(var i=startIndex||0,length=getLength(input);i<length;i++){var value=input[i];if(isArrayLike(value)&&(_.isArray(value)||_.isArguments(value))){if(!shallow)value=flatten(value,shallow,strict);var j=0,len=value.length;output.length+=len;while(j<len){output[idx++]=value[j++]}}else if(!strict){output[idx++]=value}}return output};_.flatten=function(array,shallow){return flatten(array,shallow,false)};_.without=function(array){return _.difference(array,slice.call(arguments,1))};_.uniq=_.unique=function(array,isSorted,iteratee,context){if(!_.isBoolean(isSorted)){context=iteratee;iteratee=isSorted;isSorted=false}if(iteratee!=null)iteratee=cb(iteratee,context);var result=[];var seen=[];for(var i=0,length=getLength(array);i<length;i++){var value=array[i],computed=iteratee?iteratee(value,i,array):value;if(isSorted){if(!i||seen!==computed)result.push(value);seen=computed}else if(iteratee){if(!_.contains(seen,computed)){seen.push(computed);result.push(value)}}else if(!_.contains(result,value)){result.push(value)}}return result};_.union=function(){return _.uniq(flatten(arguments,true,true))};_.intersection=function(array){var result=[];var argsLength=arguments.length;for(var i=0,length=getLength(array);i<length;i++){var item=array[i];if(_.contains(result,item))continue;for(var j=1;j<argsLength;j++){if(!_.contains(arguments[j],item))break}if(j===argsLength)result.push(item)}return result};_.difference=function(array){var rest=flatten(arguments,true,true,1);return _.filter(array,function(value){return!_.contains(rest,value)})};_.zip=function(){return _.unzip(arguments)};_.unzip=function(array){var length=array&&_.max(array,getLength).length||0;var result=Array(length);for(var index=0;index<length;index++){result[index]=_.pluck(array,index)}return result};_.object=function(list,values){var result={};for(var i=0,length=getLength(list);i<length;i++){if(values){result[list[i]]=values[i]}else{result[list[i][0]]=list[i][1]}}return result};function createPredicateIndexFinder(dir){return function(array,predicate,context){predicate=cb(predicate,context);var length=getLength(array);var index=dir>0?0:length-1;for(;index>=0&&index<length;index+=dir){if(predicate(array[index],index,array))return index}return-1}}_.findIndex=createPredicateIndexFinder(1);_.findLastIndex=createPredicateIndexFinder(-1);_.sortedIndex=function(array,obj,iteratee,context){iteratee=cb(iteratee,context,1);var value=iteratee(obj);var low=0,high=getLength(array);while(low<high){var mid=Math.floor((low+high)/2);if(iteratee(array[mid])<value)low=mid+1;else high=mid}return low};function createIndexFinder(dir,predicateFind,sortedIndex){return function(array,item,idx){var i=0,length=getLength(array);if(typeof idx=="number"){if(dir>0){i=idx>=0?idx:Math.max(idx+length,i)}else{length=idx>=0?Math.min(idx+1,length):idx+length+1}}else if(sortedIndex&&idx&&length){idx=sortedIndex(array,item);return array[idx]===item?idx:-1}if(item!==item){idx=predicateFind(slice.call(array,i,length),_.isNaN);return idx>=0?idx+i:-1}for(idx=dir>0?i:length-1;idx>=0&&idx<length;idx+=dir){if(array[idx]===item)return idx}return-1}}_.indexOf=createIndexFinder(1,_.findIndex,_.sortedIndex);_.lastIndexOf=createIndexFinder(-1,_.findLastIndex);_.range=function(start,stop,step){if(stop==null){stop=start||0;start=0}step=step||1;var length=Math.max(Math.ceil((stop-start)/step),0);var range=Array(length);for(var idx=0;idx<length;idx++,start+=step){range[idx]=start}return range};var executeBound=function(sourceFunc,boundFunc,context,callingContext,args){if(!(callingContext instanceof boundFunc))return sourceFunc.apply(context,args);var self=baseCreate(sourceFunc.prototype);var result=sourceFunc.apply(self,args);if(_.isObject(result))return result;return self};_.bind=function(func,context){if(nativeBind&&func.bind===nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError("Bind must be called on a function");var args=slice.call(arguments,2);var bound=function(){return executeBound(func,bound,context,this,args.concat(slice.call(arguments)))};return bound};_.partial=function(func){var boundArgs=slice.call(arguments,1);var bound=function(){var position=0,length=boundArgs.length;var args=Array(length);for(var i=0;i<length;i++){args[i]=boundArgs[i]===_?arguments[position++]:boundArgs[i]}while(position<arguments.length)args.push(arguments[position++]);return executeBound(func,bound,this,this,args)};return bound};_.bindAll=function(obj){var i,length=arguments.length,key;if(length<=1)throw new Error("bindAll must be passed function names");for(i=1;i<length;i++){key=arguments[i];obj[key]=_.bind(obj[key],obj)}return obj};_.memoize=function(func,hasher){var memoize=function(key){var cache=memoize.cache;var address=""+(hasher?hasher.apply(this,arguments):key);if(!_.has(cache,address))cache[address]=func.apply(this,arguments);return cache[address]};memoize.cache={};return memoize};_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)};_.defer=_.partial(_.delay,_,1);_.throttle=function(func,wait,options){var context,args,result;var timeout=null;var previous=0;if(!options)options={};var later=function(){previous=options.leading===false?0:_.now();timeout=null;result=func.apply(context,args);if(!timeout)context=args=null};return function(){var now=_.now();if(!previous&&options.leading===false)previous=now;var remaining=wait-(now-previous);context=this;args=arguments;if(remaining<=0||remaining>wait){if(timeout){clearTimeout(timeout);timeout=null}previous=now;result=func.apply(context,args);if(!timeout)context=args=null}else if(!timeout&&options.trailing!==false){timeout=setTimeout(later,remaining)}return result}};_.debounce=function(func,wait,immediate){var timeout,args,context,timestamp,result;var later=function(){var last=_.now()-timestamp;if(last<wait&&last>=0){timeout=setTimeout(later,wait-last)}else{timeout=null;if(!immediate){result=func.apply(context,args);if(!timeout)context=args=null}}};return function(){context=this;args=arguments;timestamp=_.now();var callNow=immediate&&!timeout;if(!timeout)timeout=setTimeout(later,wait);if(callNow){result=func.apply(context,args);context=args=null}return result}};_.wrap=function(func,wrapper){return _.partial(wrapper,func)};_.negate=function(predicate){return function(){return!predicate.apply(this,arguments)}};_.compose=function(){var args=arguments;var start=args.length-1;return function(){var i=start;var result=args[start].apply(this,arguments);while(i--)result=args[i].call(this,result);return result}};_.after=function(times,func){return function(){if(--times<1){return func.apply(this,arguments)}}};_.before=function(times,func){var memo;return function(){if(--times>0){memo=func.apply(this,arguments)}if(times<=1)func=null;return memo}};_.once=_.partial(_.before,2);var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString");var nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function collectNonEnumProps(obj,keys){var nonEnumIdx=nonEnumerableProps.length;var constructor=obj.constructor;var proto=_.isFunction(constructor)&&constructor.prototype||ObjProto;var prop="constructor";if(_.has(obj,prop)&&!_.contains(keys,prop))keys.push(prop);while(nonEnumIdx--){prop=nonEnumerableProps[nonEnumIdx];if(prop in obj&&obj[prop]!==proto[prop]&&!_.contains(keys,prop)){keys.push(prop)}}}_.keys=function(obj){if(!_.isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);var keys=[];for(var key in obj)if(_.has(obj,key))keys.push(key);if(hasEnumBug)collectNonEnumProps(obj,keys);return keys};_.allKeys=function(obj){if(!_.isObject(obj))return[];var keys=[];for(var key in obj)keys.push(key);if(hasEnumBug)collectNonEnumProps(obj,keys);return keys};_.values=function(obj){var keys=_.keys(obj);var length=keys.length;var values=Array(length);for(var i=0;i<length;i++){values[i]=obj[keys[i]]}return values};_.mapObject=function(obj,iteratee,context){iteratee=cb(iteratee,context);var keys=_.keys(obj),length=keys.length,results={},currentKey;for(var index=0;index<length;index++){currentKey=keys[index];results[currentKey]=iteratee(obj[currentKey],currentKey,obj)}return results};_.pairs=function(obj){var keys=_.keys(obj);var length=keys.length;var pairs=Array(length);for(var i=0;i<length;i++){pairs[i]=[keys[i],obj[keys[i]]]}return pairs};_.invert=function(obj){var result={};var keys=_.keys(obj);for(var i=0,length=keys.length;i<length;i++){result[obj[keys[i]]]=keys[i]}return result};_.functions=_.methods=function(obj){var names=[];for(var key in obj){if(_.isFunction(obj[key]))names.push(key)}return names.sort()};_.extend=createAssigner(_.allKeys);_.extendOwn=_.assign=createAssigner(_.keys);_.findKey=function(obj,predicate,context){predicate=cb(predicate,context);var keys=_.keys(obj),key;for(var i=0,length=keys.length;i<length;i++){key=keys[i];if(predicate(obj[key],key,obj))return key}};_.pick=function(object,oiteratee,context){var result={},obj=object,iteratee,keys;if(obj==null)return result;if(_.isFunction(oiteratee)){keys=_.allKeys(obj);iteratee=optimizeCb(oiteratee,context)}else{keys=flatten(arguments,false,false,1);iteratee=function(value,key,obj){return key in obj};obj=Object(obj)}for(var i=0,length=keys.length;i<length;i++){var key=keys[i];var value=obj[key];if(iteratee(value,key,obj))result[key]=value}return result};_.omit=function(obj,iteratee,context){if(_.isFunction(iteratee)){iteratee=_.negate(iteratee)}else{var keys=_.map(flatten(arguments,false,false,1),String);iteratee=function(value,key){return!_.contains(keys,key)}}return _.pick(obj,iteratee,context)};_.defaults=createAssigner(_.allKeys,true);_.create=function(prototype,props){var result=baseCreate(prototype);if(props)_.extendOwn(result,props);return result};_.clone=function(obj){if(!_.isObject(obj))return obj;return _.isArray(obj)?obj.slice():_.extend({},obj)};_.tap=function(obj,interceptor){interceptor(obj);return obj};_.isMatch=function(object,attrs){var keys=_.keys(attrs),length=keys.length;if(object==null)return!length;var obj=Object(object);for(var i=0;i<length;i++){var key=keys[i];if(attrs[key]!==obj[key]||!(key in obj))return false}return true};var eq=function(a,b,aStack,bStack){if(a===b)return a!==0||1/a===1/b;if(a==null||b==null)return a===b;if(a instanceof _)a=a._wrapped;if(b instanceof _)b=b._wrapped;var className=toString.call(a);if(className!==toString.call(b))return false;switch(className){case"[object RegExp]":case"[object String]":return""+a===""+b;case"[object Number]":if(+a!==+a)return+b!==+b;return+a===0?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var areArrays=className==="[object Array]";if(!areArrays){if(typeof a!="object"||typeof b!="object")return false;var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor)&&("constructor"in a&&"constructor"in b)){return false}}aStack=aStack||[];bStack=bStack||[];var length=aStack.length;while(length--){if(aStack[length]===a)return bStack[length]===b}aStack.push(a);bStack.push(b);if(areArrays){length=a.length;if(length!==b.length)return false;while(length--){if(!eq(a[length],b[length],aStack,bStack))return false}}else{var keys=_.keys(a),key;length=keys.length;if(_.keys(b).length!==length)return false;while(length--){key=keys[length];if(!(_.has(b,key)&&eq(a[key],b[key],aStack,bStack)))return false}}aStack.pop();bStack.pop();return true};_.isEqual=function(a,b){return eq(a,b)};_.isEmpty=function(obj){if(obj==null)return true;if(isArrayLike(obj)&&(_.isArray(obj)||_.isString(obj)||_.isArguments(obj)))return obj.length===0;return _.keys(obj).length===0};_.isElement=function(obj){return!!(obj&&obj.nodeType===1)};_.isArray=nativeIsArray||function(obj){return toString.call(obj)==="[object Array]"};_.isObject=function(obj){var type=typeof obj;return type==="function"||type==="object"&&!!obj};_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(name){_["is"+name]=function(obj){return toString.call(obj)==="[object "+name+"]"}});if(!_.isArguments(arguments)){_.isArguments=function(obj){return _.has(obj,"callee")}}if(typeof/./!="function"&&typeof Int8Array!="object"){_.isFunction=function(obj){return typeof obj=="function"||false}}_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))};_.isNaN=function(obj){return _.isNumber(obj)&&obj!==+obj};_.isBoolean=function(obj){return obj===true||obj===false||toString.call(obj)==="[object Boolean]"};_.isNull=function(obj){return obj===null};_.isUndefined=function(obj){return obj===void 0};_.has=function(obj,key){return obj!=null&&hasOwnProperty.call(obj,key)};_.noConflict=function(){root._=previousUnderscore;return this};_.identity=function(value){return value};_.constant=function(value){return function(){return value}};_.noop=function(){};_.property=property;_.propertyOf=function(obj){return obj==null?function(){}:function(key){return obj[key]}};_.matcher=_.matches=function(attrs){attrs=_.extendOwn({},attrs);return function(obj){return _.isMatch(obj,attrs)}};_.times=function(n,iteratee,context){var accum=Array(Math.max(0,n));iteratee=optimizeCb(iteratee,context,1);for(var i=0;i<n;i++)accum[i]=iteratee(i);return accum};_.random=function(min,max){if(max==null){max=min;min=0}return min+Math.floor(Math.random()*(max-min+1))};_.now=Date.now||function(){return(new Date).getTime()};var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var unescapeMap=_.invert(escapeMap);var createEscaper=function(map){var escaper=function(match){return map[match]};var source="(?:"+_.keys(map).join("|")+")";var testRegexp=RegExp(source);var replaceRegexp=RegExp(source,"g");return function(string){string=string==null?"":""+string;return testRegexp.test(string)?string.replace(replaceRegexp,escaper):string}};_.escape=createEscaper(escapeMap);_.unescape=createEscaper(unescapeMap);_.result=function(object,property,fallback){var value=object==null?void 0:object[property];if(value===void 0){value=fallback}return _.isFunction(value)?value.call(object):value};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id};_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/;var escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var escaper=/\\|'|\r|\n|\u2028|\u2029/g;var escapeChar=function(match){return"\\"+escapes[match]};_.template=function(text,settings,oldSettings){if(!settings&&oldSettings)settings=oldSettings;settings=_.defaults({},settings,_.templateSettings);var matcher=RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g");var index=0;var source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){source+=text.slice(index,offset).replace(escaper,escapeChar);index=offset+match.length;if(escape){source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'"}else if(interpolate){source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'"}else if(evaluate){source+="';\n"+evaluate+"\n__p+='"}return match});source+="';\n";if(!settings.variable)source="with(obj||{}){\n"+source+"}\n";source="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{var render=new Function(settings.variable||"obj","_",source)}catch(e){e.source=source;throw e}var template=function(data){return render.call(this,data,_)};var argument=settings.variable||"obj";template.source="function("+argument+"){\n"+source+"}";return template};_.chain=function(obj){var instance=_(obj);instance._chain=true;return instance};var result=function(instance,obj){return instance._chain?_(obj).chain():obj};_.mixin=function(obj){_.each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];push.apply(args,arguments);return result(this,func.apply(_,args))}})};_.mixin(_);_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;method.apply(obj,arguments);if((name==="shift"||name==="splice")&&obj.length===0)delete obj[0];return result(this,obj)}});_.each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result(this,method.apply(this._wrapped,arguments))}});_.prototype.value=function(){return this._wrapped};_.prototype.valueOf=_.prototype.toJSON=_.prototype.value;_.prototype.toString=function(){return""+this._wrapped};if(typeof define==="function"&&define.amd){define("underscore",[],function(){return _})}}).call(this)},{}],114:[function(require,module,exports){},{}],115:[function(require,module,exports){"use strict";exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;function init(){var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63}init();function toByteArray(b64){var i,j,l,tmp,placeHolders,arr;var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}placeHolders=b64[len-2]==="="?2:b64[len-1]==="="?1:0;arr=new Arr(len*3/4-placeHolders);l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[L++]=tmp>>16&255;arr[L++]=tmp>>8&255;arr[L++]=tmp&255}if(placeHolders===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[L++]=tmp&255}else if(placeHolders===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[L++]=tmp>>8&255;arr[L++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var output="";var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];output+=lookup[tmp>>2];output+=lookup[tmp<<4&63];output+="=="}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];output+=lookup[tmp>>10];output+=lookup[tmp>>4&63];output+=lookup[tmp<<2&63];output+="="}parts.push(output);return parts.join("")}},{}],116:[function(require,module,exports){arguments[4][114][0].apply(exports,arguments)},{dup:114}],117:[function(require,module,exports){(function(global){"use strict";var base64=require("base64-js");var ieee754=require("ieee754");var isArray=require("isarray");exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;Buffer.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==undefined?global.TYPED_ARRAY_SUPPORT:typedArraySupport();exports.kMaxLength=kMaxLength();function typedArraySupport(){try{var arr=new Uint8Array(1);arr.foo=function(){return 42};return arr.foo()===42&&typeof arr.subarray==="function"&&arr.subarray(1,1).byteLength===0}catch(e){return false}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length){throw new RangeError("Invalid typed array length")}if(Buffer.TYPED_ARRAY_SUPPORT){that=new Uint8Array(length);that.__proto__=Buffer.prototype}else{if(that===null){that=new Buffer(length)}that.length=length}return that}function Buffer(arg,encodingOrOffset,length){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer)){return new Buffer(arg,encodingOrOffset,length)}if(typeof arg==="number"){if(typeof encodingOrOffset==="string"){throw new Error("If encoding is specified then the first argument must be a string")}return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}Buffer.poolSize=8192;Buffer._augment=function(arr){arr.__proto__=Buffer.prototype;return arr};function from(that,value,encodingOrOffset,length){if(typeof value==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&value instanceof ArrayBuffer){return fromArrayBuffer(that,value,encodingOrOffset,length)}if(typeof value==="string"){return fromString(that,value,encodingOrOffset)}return fromObject(that,value)}Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)};if(Buffer.TYPED_ARRAY_SUPPORT){Buffer.prototype.__proto__=Uint8Array.prototype;Buffer.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&Buffer[Symbol.species]===Buffer){Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true})}}function assertSize(size){if(typeof size!=="number"){throw new TypeError('"size" argument must be a number')}}function alloc(that,size,fill,encoding){assertSize(size);if(size<=0){return createBuffer(that,size)}if(fill!==undefined){return typeof encoding==="string"?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill)}return createBuffer(that,size)}Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)};function allocUnsafe(that,size){assertSize(size);that=createBuffer(that,size<0?0:checked(size)|0);if(!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<size;i++){that[i]=0}}return that}Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)};Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)};function fromString(that,string,encoding){if(typeof encoding!=="string"||encoding===""){encoding="utf8"}if(!Buffer.isEncoding(encoding)){throw new TypeError('"encoding" must be a valid string encoding')}var length=byteLength(string,encoding)|0;that=createBuffer(that,length);that.write(string,encoding);return that}function fromArrayLike(that,array){var length=checked(array.length)|0;that=createBuffer(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromArrayBuffer(that,array,byteOffset,length){array.byteLength;if(byteOffset<0||array.byteLength<byteOffset){throw new RangeError("'offset' is out of bounds")}if(array.byteLength<byteOffset+(length||0)){throw new RangeError("'length' is out of bounds")}if(length===undefined){array=new Uint8Array(array,byteOffset)}else{array=new Uint8Array(array,byteOffset,length)}if(Buffer.TYPED_ARRAY_SUPPORT){that=array;that.__proto__=Buffer.prototype}else{that=fromArrayLike(that,array)}return that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=checked(obj.length)|0;that=createBuffer(that,len);if(that.length===0){return that}obj.copy(that,0,0,len);return that}if(obj){if(typeof ArrayBuffer!=="undefined"&&obj.buffer instanceof ArrayBuffer||"length"in obj){if(typeof obj.length!=="number"||isnan(obj.length)){return createBuffer(that,0)}return fromArrayLike(that,obj)}if(obj.type==="Buffer"&&isArray(obj.data)){return fromArrayLike(that,obj.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+kMaxLength().toString(16)+" bytes")}return length|0}function SlowBuffer(length){if(+length!=length){length=0}return Buffer.alloc(+length)}Buffer.isBuffer=function isBuffer(b){return!!(b!=null&&b._isBuffer)};Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError("Arguments must be Buffers")}if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!isArray(list)){throw new TypeError('"list" argument must be an Array of Buffers')}if(list.length===0){return Buffer.alloc(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;i++){length+=list[i].length}}var buffer=Buffer.allocUnsafe(length);var pos=0;for(i=0;i<list.length;i++){var buf=list[i];if(!Buffer.isBuffer(buf)){throw new TypeError('"list" argument must be an Array of Buffers')}buf.copy(buffer,pos);pos+=buf.length}return buffer};function byteLength(string,encoding){if(Buffer.isBuffer(string)){return string.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer)){return string.byteLength}if(typeof string!=="string"){string=""+string}var len=string.length;if(len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"binary":case"raw":case"raws":return len;case"utf8":case"utf-8":case undefined:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;if(start===undefined||start<0){start=0}if(start>this.length){return""}if(end===undefined||end>this.length){end=this.length}if(end<=0){return""}end>>>=0;start>>>=0;if(end<=start){return""}if(!encoding)encoding="utf8";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"binary":return binarySlice(this,start,end);
case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype._isBuffer=true;function swap(b,n,m){var i=b[n];b[n]=b[m];b[m]=i}Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var i=0;i<len;i+=2){swap(this,i,i+1)}return this};Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var i=0;i<len;i+=4){swap(this,i,i+3);swap(this,i+1,i+2)}return this};Buffer.prototype.toString=function toString(){var length=this.length|0;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;if(this.length>0){str=this.toString("hex",0,max).match(/.{2}/g).join(" ");if(this.length>max)str+=" ... "}return"<Buffer "+str+">"};Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target)){throw new TypeError("Argument must be a Buffer")}if(start===undefined){start=0}if(end===undefined){end=target?target.length:0}if(thisStart===undefined){thisStart=0}if(thisEnd===undefined){thisEnd=this.length}if(start<0||end>target.length||thisStart<0||thisEnd>this.length){throw new RangeError("out of range index")}if(thisStart>=thisEnd&&start>=end){return 0}if(thisStart>=thisEnd){return-1}if(start>=end){return 1}start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;var x=thisEnd-thisStart;var y=end-start;var len=Math.min(x,y);var thisCopy=this.slice(thisStart,thisEnd);var targetCopy=target.slice(start,end);for(var i=0;i<len;++i){if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i];y=targetCopy[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};function arrayIndexOf(arr,val,byteOffset,encoding){var indexSize=1;var arrLength=arr.length;var valLength=val.length;if(encoding!==undefined){encoding=String(encoding).toLowerCase();if(encoding==="ucs2"||encoding==="ucs-2"||encoding==="utf16le"||encoding==="utf-16le"){if(arr.length<2||val.length<2){return-1}indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2}}function read(buf,i){if(indexSize===1){return buf[i]}else{return buf.readUInt16BE(i*indexSize)}}var foundIndex=-1;for(var i=0;byteOffset+i<arrLength;i++){if(read(arr,byteOffset+i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===valLength)return(byteOffset+foundIndex)*indexSize}else{if(foundIndex!==-1)i-=i-foundIndex;foundIndex=-1}}return-1}Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){if(typeof byteOffset==="string"){encoding=byteOffset;byteOffset=0}else if(byteOffset>2147483647){byteOffset=2147483647}else if(byteOffset<-2147483648){byteOffset=-2147483648}byteOffset>>=0;if(this.length===0)return-1;if(byteOffset>=this.length)return-1;if(byteOffset<0)byteOffset=Math.max(this.length+byteOffset,0);if(typeof val==="string"){val=Buffer.from(val,encoding)}if(Buffer.isBuffer(val)){if(val.length===0){return-1}return arrayIndexOf(this,val,byteOffset,encoding)}if(typeof val==="number"){if(Buffer.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"){return Uint8Array.prototype.indexOf.call(this,val,byteOffset)}return arrayIndexOf(this,[val],byteOffset,encoding)}throw new TypeError("val must be string, number or Buffer")};Buffer.prototype.includes=function includes(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(strLen%2!==0)throw new Error("Invalid hex string");if(length>strLen/2){length=strLen/2}for(var i=0;i<length;i++){var parsed=parseInt(string.substr(i*2,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function binaryWrite(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset|0;if(isFinite(length)){length=length|0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"binary":return binaryWrite(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i]&127)}return ret}function binarySlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;i++){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT){newBuf=this.subarray(start,end);newBuf.__proto__=Buffer.prototype}else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,undefined);for(var i=0;i<sliceLen;i++){newBuf[i]=this[i+start]}}return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,255,0);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);this[offset]=value&255;return offset+1};function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=65535+value+1;for(var i=0,j=Math.min(buf.length-offset,2);i<j;i++){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}}Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=4294967295+value+1;for(var i=0,j=Math.min(buf.length-offset,4);i<j;i++){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}}Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){if(value<0&&sub===0&&this[offset+i-1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){if(value<0&&sub===0&&this[offset+i+1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;var i;if(this===target&&start<targetStart&&targetStart<end){for(i=len-1;i>=0;i--){target[i+targetStart]=this[i+start]}}else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT){for(i=0;i<len;i++){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart)}return len};Buffer.prototype.fill=function fill(val,start,end,encoding){if(typeof val==="string"){if(typeof start==="string"){encoding=start;start=0;end=this.length}else if(typeof end==="string"){encoding=end;end=this.length}if(val.length===1){var code=val.charCodeAt(0);if(code<256){val=code}}if(encoding!==undefined&&typeof encoding!=="string"){throw new TypeError("encoding must be a string")}if(typeof encoding==="string"&&!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}}else if(typeof val==="number"){val=val&255}if(start<0||this.length<start||this.length<end){throw new RangeError("Out of range index")}if(end<=start){return this}start=start>>>0;end=end===undefined?this.length:end>>>0;if(!val)val=0;var i;if(typeof val==="number"){for(i=start;i<end;i++){this[i]=val}}else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString());var len=bytes.length;for(i=0;i<end-start;i++){this[i+start]=bytes[i%len]}}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;i++){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;i++){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;i++){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function isnan(val){return val!==val}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"base64-js":115,ieee754:120,isarray:118}],118:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)=="[object Array]"}},{}],119:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type==="error"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}throw TypeError('Uncaught, unspecified "error" event.')}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[type].length);if(typeof console.trace==="function"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit("removeListener",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit("removeListener",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg==="function"}function isNumber(arg){return typeof arg==="number"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],120:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},{}],121:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],122:[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."};exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash=substr(path,-1)==="/";path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path};exports.isAbsolute=function(path){
return path.charAt(0)==="/"};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if(typeof p!=="string"){throw new TypeError("Arguments to path.join must be strings")}return p}).join("/"))};exports.relative=function(from,to){from=exports.resolve(from).substr(1);to=exports.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")};exports.sep="/";exports.delimiter=":";exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir};exports.basename=function(path,ext){var f=splitPath(path)[2];if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};exports.extname=function(path){return splitPath(path)[3]};function filter(xs,f){if(xs.filter)return xs.filter(f);var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs))res.push(xs[i])}return res}var substr="ab".substr(-1)==="b"?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0)start=str.length+start;return str.substr(start,len)}}).call(this,require("_process"))},{_process:123}],123:[function(require,module,exports){var process=module.exports={};var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=setTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;clearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){setTimeout(drainQueue,0)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],124:[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],125:[function(require,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=require("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":124,_process:123,inherits:121}]},{},[1])(1)});